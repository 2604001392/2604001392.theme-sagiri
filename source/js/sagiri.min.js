!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=2)}([function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";window.FastClick=n(3),n(4),n(6)(window.$),window.notie=n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),n(19),n(21),n(23),n(24),n(25),n(27),n(29),n(30)},function(t,e,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function o(t,e){var n;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!o.notNeeded(t)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],r=this,s=0,u=i.length;s<u;s++)r[i[s]]=function(t,e){return function(){return t.apply(e,arguments)}}(r[i[s]],r);a&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(n=t.onclick,t.addEventListener("click",function(t){n(t)},!1),t.onclick=null)}}var s=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!s,u=/iP(ad|hone|od)/.test(navigator.userAgent)&&!s,l=u&&/OS 4_\d(_\d)?/.test(navigator.userAgent),c=u&&/OS [6-7]_\d/.test(navigator.userAgent),h=navigator.userAgent.indexOf("BB10")>0;o.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(u&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},o.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},o.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},o.prototype.determineEventType=function(t){return a&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},o.prototype.focus=function(t){var e;u&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},o.prototype.updateScrollParent=function(t){var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},o.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},o.prototype.onTouchStart=function(t){var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],u){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!l){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},o.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},o.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},o.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},o.prototype.onTouchEnd=function(t){var e,n,i,r,o,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,c&&(o=t.changedTouches[0],s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s,s.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=s.tagName.toLowerCase())){if(e=this.findControl(s)){if(this.focus(s),a)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-n>100||u&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(s),this.sendClick(s,t),u&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return!(!u||l||!(r=s.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},o.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},o.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},o.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},o.prototype.destroy=function(){var t=this.layer;a&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},o.notNeeded=function(t){var e,n,i;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(h&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},o.attach=function(t,e){return new o(t,e)},"object"===r(n(0))&&n(0)?void 0!==(i=function(){return o}.call(e,n,e,t))&&(t.exports=i):void 0!==t&&t.exports?(t.exports=o.attach,t.exports.FastClick=o):window.FastClick=o}()},function(t,e,n){"use strict";(function(n){var i,r,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,a){"object"===s(e)?t.exports=a(n):(r=[],i=a(n),void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o))}(void 0!==n?n:(void 0).window||(void 0).global,function(t){function e(t,e){this.settings=i(n,e||{}),this.images=t||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}var n={src:"data-src",srcset:"data-srcset",selector:".lazyload"},i=function t(){var e={},n=!1,i=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],i++);for(;i<r;i++){var o=arguments[i];!function(i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n&&"[object Object]"===Object.prototype.toString.call(i[r])?e[r]=t(!0,e[r],i[r]):e[r]=i[r])}(o)}return e};if(e.prototype={init:function(){if(!t.IntersectionObserver)return void this.loadImages();var e=this,n={root:null,rootMargin:"0px",threshold:[0]};this.observer=new IntersectionObserver(function(t){t.forEach(function(t){if(t.intersectionRatio>0){e.observer.unobserve(t.target);var n=t.target.getAttribute(e.settings.src),i=t.target.getAttribute(e.settings.srcset);"img"===t.target.tagName.toLowerCase()?(n&&(t.target.src=n),i&&(t.target.srcset=i)):t.target.style.backgroundImage="url("+n+")"}})},n),this.images.forEach(function(t){e.observer.observe(t)})},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(this.settings){var t=this;this.images.forEach(function(e){var n=e.getAttribute(t.settings.src),i=e.getAttribute(t.settings.srcset);"img"===e.tagName.toLowerCase()?(n&&(e.src=n),i&&(e.srcset=i)):e.style.backgroundImage="url("+n+")"})}},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},t.lazyload=function(t,n){return new e(t,n)},t.jQuery){var r=t.jQuery;r.fn.lazyload=function(t){return t=t||{},t.attribute=t.attribute||"data-src",new e(r.makeArray(this),t),this}}return e})}).call(e,n(5))},function(t,e,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}t.exports=i},function(t,e,n){"use strict";t.exports=function(t){var e=t("html"),n=t(window),i=t(document),r=t.fancybox=function(){r.open.apply(this,arguments)},o=navigator.userAgent.match(/msie/i),s=null,a=void 0!==document.createTouch,u=function(e){return e&&e.hasOwnProperty&&e instanceof t},l=function(e){return e&&"string"===t.type(e)},c=function(t){return l(t)&&t.indexOf("%")>0},h=function(t){return t&&!(t.style.overflow&&"hidden"===t.style.overflow)&&(t.clientWidth&&t.scrollWidth>t.clientWidth||t.clientHeight&&t.scrollHeight>t.clientHeight)},f=function(t,e){var n=parseInt(t,10)||0;return e&&c(t)&&(n=r.getViewport()[e]/100*n),Math.ceil(n)},p=function(t,e){return f(t,e)+"px"};t.extend(r,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!a,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(o?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>',loading:'<div id="fancybox-loading"><div></div></div>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:t.noop,beforeLoad:t.noop,afterLoad:t.noop,beforeShow:t.noop,afterShow:t.noop,beforeChange:t.noop,beforeClose:t.noop,afterClose:t.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,n){if(e&&(t.isPlainObject(n)||(n={}),!1!==r.close(!0)))return t.isArray(e)||(e=u(e)?t(e).get():[e]),t.each(e,function(i,o){var s,a,c,h,f,p,_,d={};"object"===t.type(o)&&(o.nodeType&&(o=t(o)),u(o)?(d={href:o.data("fancybox-href")||o.attr("href"),title:t("<div/>").text(o.data("fancybox-title")||o.attr("title")||"").html(),isDom:!0,element:o},t.metadata&&t.extend(!0,d,o.metadata())):d=o),s=n.href||d.href||(l(o)?o:null),a=void 0!==n.title?n.title:d.title||"",c=n.content||d.content,h=c?"html":n.type||d.type,!h&&d.isDom&&((h=o.data("fancybox-type"))||(f=o.prop("class").match(/fancybox\.(\w+)/),h=f?f[1]:null)),l(s)&&(h||(r.isImage(s)?h="image":r.isSWF(s)?h="swf":"#"===s.charAt(0)?h="inline":l(o)&&(h="html",c=o)),"ajax"===h&&(p=s.split(/\s+/,2),s=p.shift(),_=p.shift())),c||("inline"===h?s?c=t(l(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):d.isDom&&(c=o):"html"===h?c=s:h||s||!d.isDom||(h="inline",c=o)),t.extend(d,{href:s,type:h,content:c,title:a,selector:_}),e[i]=d}),r.opts=t.extend(!0,{},r.defaults,n),void 0!==n.keys&&(r.opts.keys=!!n.keys&&t.extend({},r.defaults.keys,n.keys)),r.group=e,r._start(r.opts.index)},cancel:function(){var t=r.coming;t&&!1===r.trigger("onCancel")||(r.hideLoading(),t&&(r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),r.coming=null,r.current||r._afterZoomOut(t)))},close:function(e){r.cancel(),!1!==r.trigger("beforeClose")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&!0!==e?(r.isOpen=r.isOpened=!1,r.isClosing=!0,t(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0,!0).removeClass("fancybox-opened"),r.transitions[r.current.closeMethod]()):(t(".fancybox-wrap").stop(!0).trigger("onReset").remove(),r._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(r.player.timer)},n=function(){e(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},o=function(){e(),i.unbind(".player"),r.player.isActive=!1,r.trigger("onPlayEnd")};!0===t||!r.player.isActive&&!1!==t?function(){r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,i.bind({"onCancel.player beforeClose.player":o,"onUpdate.player":n,"beforeLoad.player":e}),n(),r.trigger("onPlayStart"))}():o()},next:function(t){var e=r.current;e&&(l(t)||(t=e.direction.next),r.jumpto(e.index+1,t,"next"))},prev:function(t){var e=r.current;e&&(l(t)||(t=e.direction.prev),r.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,n){var i=r.current;i&&(t=f(t),r.direction=e||i.direction[t>=i.index?"next":"prev"],r.router=n||"jumpto",i.loop&&(t<0&&(t=i.group.length+t%i.group.length),t%=i.group.length),void 0!==i.group[t]&&(r.cancel(),r._start(t)))},reposition:function(e,n){var i,o=r.current,s=o?o.wrap:null;s&&(i=r._getPosition(n),e&&"scroll"===e.type?(delete i.position,s.stop(!0,!0).animate(i,200)):(s.css(i),o.pos=t.extend({},o.dim,i)))},update:function(t){var e=t&&t.originalEvent&&t.originalEvent.type,n=!e||"orientationchange"===e;n&&(clearTimeout(s),s=null),r.isOpen&&!s&&(s=setTimeout(function(){var i=r.current;i&&!r.isClosing&&(r.wrap.removeClass("fancybox-tmp"),(n||"load"===e||"resize"===e&&i.autoResize)&&r._setDimension(),"scroll"===e&&i.canShrink||r.reposition(t),r.trigger("onUpdate"),s=null)},n&&!a?0:300))},toggle:function(e){r.isOpen&&(r.current.fitToView="boolean"===t.type(e)?e:!r.current.fitToView,a&&(r.wrap.removeAttr("style").addClass("fancybox-tmp"),r.trigger("onUpdate")),r.update())},hideLoading:function(){i.unbind(".loading"),t("#fancybox-loading").remove()},showLoading:function(){var e,n;r.hideLoading(),e=t(r.opts.tpl.loading).click(r.cancel).appendTo("body"),i.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),r.cancel())}),r.defaults.fixed||(n=r.getViewport(),e.css({position:"absolute",top:.5*n.h+n.y,left:.5*n.w+n.x})),r.trigger("onLoading")},getViewport:function(){var t=r.current&&r.current.locked||!1,e={x:n.scrollLeft(),y:n.scrollTop()};return t&&t.length?(e.w=t[0].clientWidth,e.h=t[0].clientHeight):(e.w=a&&window.innerWidth?window.innerWidth:n.width(),e.h=a&&window.innerHeight?window.innerHeight:n.height()),e},unbindEvents:function(){r.wrap&&u(r.wrap)&&r.wrap.unbind(".fb"),i.unbind(".fb"),n.unbind(".fb")},bindEvents:function(){var e,o=r.current;o&&(n.bind("orientationchange.fb"+(a?"":" resize.fb")+(o.autoCenter&&!o.locked?" scroll.fb":""),r.update),e=o.keys,e&&i.bind("keydown.fb",function(n){var i=n.which||n.keyCode,s=n.target||n.srcElement;if(27===i&&r.coming)return!1;n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||s&&(s.type||t(s).is("[contenteditable]"))||t.each(e,function(e,s){return o.group.length>1&&void 0!==s[i]?(r[e](s[i]),n.preventDefault(),!1):t.inArray(i,s)>-1?(r[e](),n.preventDefault(),!1):void 0})}),t.fn.mousewheel&&o.mouseWheel&&r.wrap.bind("mousewheel.fb",function(e,n,i,s){for(var a=e.target||null,u=t(a),l=!1;u.length&&!(l||u.is(".fancybox-skin")||u.is(".fancybox-wrap"));)l=h(u[0]),u=t(u).parent();0===n||l||r.group.length>1&&!o.canShrink&&(s>0||i>0?r.prev(s>0?"down":"left"):(s<0||i<0)&&r.next(s<0?"up":"right"),e.preventDefault())}))},trigger:function(e,n){var o,s=n||r.coming||r.current;if(s){if(t.isFunction(s[e])&&(o=s[e].apply(s,Array.prototype.slice.call(arguments,1))),!1===o)return!1;s.helpers&&t.each(s.helpers,function(n,i){i&&r.helpers[n]&&t.isFunction(r.helpers[n][e])&&r.helpers[n][e](t.extend(!0,{},r.helpers[n].defaults,i),s)})}i.trigger(e)},isImage:function(t){return l(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return l(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var n,i,o,s,u,l={};if(e=f(e),!(n=r.group[e]||null))return!1;if(l=t.extend(!0,{},r.opts,n),s=l.margin,u=l.padding,"number"===t.type(s)&&(l.margin=[s,s,s,s]),"number"===t.type(u)&&(l.padding=[u,u,u,u]),l.modal&&t.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),"auto"===l.width&&(l.autoWidth=!0),"auto"===l.height&&(l.autoHeight=!0),l.group=r.group,l.index=e,r.coming=l,!1===r.trigger("beforeLoad"))return void(r.coming=null);if(o=l.type,i=l.href,!o)return r.coming=null,!(!r.current||!r.router||"jumpto"===r.router)&&(r.current.index=e,r[r.router](r.direction));if(r.isActive=!0,"image"!==o&&"swf"!==o||(l.autoHeight=l.autoWidth=!1,l.scrolling="visible"),"image"===o&&(l.aspectRatio=!0),"iframe"===o&&a&&(l.scrolling="scroll"),l.wrap=t(l.tpl.wrap).addClass("fancybox-"+(a?"mobile":"desktop")+" fancybox-type-"+o+" fancybox-tmp "+l.wrapCSS).appendTo(l.parent||"body"),t.extend(l,{skin:t(".fancybox-skin",l.wrap),outer:t(".fancybox-outer",l.wrap),inner:t(".fancybox-inner",l.wrap)}),t.each(["Top","Right","Bottom","Left"],function(t,e){l.skin.css("padding"+e,p(l.padding[t]))}),r.trigger("onReady"),"inline"===o||"html"===o){if(!l.content||!l.content.length)return r._error("content")}else if(!i)return r._error("href");"image"===o?r._loadImage():"ajax"===o?r._loadAjax():"iframe"===o?r._loadIframe():r._afterLoad()},_error:function(e){t.extend(r.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var t=r.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,r._error("image")},t.src=r.coming.href,!0!==t.complete&&r.showLoading()},_loadAjax:function(){var e=r.coming;r.showLoading(),r.ajaxLoad=t.ajax(t.extend({},e.ajax,{url:e.href,error:function(t,e){r.coming&&"abort"!==e?r._error("ajax",t):r.hideLoading()},success:function(t,n){"success"===n&&(e.content=t,r._afterLoad())}}))},_loadIframe:function(){var e=r.coming,n=t(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",a?"auto":e.iframe.scrolling).attr("src",e.href);t(e.wrap).bind("onReset",function(){try{t(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),e.iframe.preload&&(r.showLoading(),n.one("load",function(){t(this).data("ready",1),a||t(this).bind("load.fb",r.update),t(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),r._afterLoad()})),e.content=n.appendTo(e.inner),e.iframe.preload||r._afterLoad()},_preloadImages:function(){var t,e,n=r.group,i=r.current,o=n.length,s=i.preload?Math.min(i.preload,o-1):0;for(e=1;e<=s;e+=1)t=n[(i.index+e)%o],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var e,n,i,o,s,a,l=r.coming,c=r.current,h="fancybox-placeholder";if(r.hideLoading(),l&&!1!==r.isActive){if(!1===r.trigger("afterLoad",l,c))return l.wrap.stop(!0).trigger("onReset").remove(),void(r.coming=null);switch(c&&(r.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),r.unbindEvents(),e=l,n=l.content,i=l.type,o=l.scrolling,t.extend(r,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:c}),s=e.href,i){case"inline":case"ajax":case"html":e.selector?n=t("<div>").html(n).find(e.selector):u(n)&&(n.data(h)||n.data(h,t('<div class="'+h+'"></div>').insertAfter(n).hide()),n=n.show().detach(),e.wrap.bind("onReset",function(){t(this).find(n).length&&n.hide().replaceAll(n.data(h)).data(h,!1)}));break;case"image":n=e.tpl.image.replace(/\{href\}/g,s);break;case"swf":n='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+s+'"></param>',a="",t.each(e.swf,function(t,e){n+='<param name="'+t+'" value="'+e+'"></param>',a+=" "+t+'="'+e+'"'}),n+='<embed src="'+s+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}u(n)&&n.parent().is(e.inner)||e.inner.append(n),r.trigger("beforeShow"),e.inner.css("overflow","yes"===o?"scroll":"no"===o?"hidden":o),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?c.prevMethod&&r.transitions[c.prevMethod]():t(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),r.transitions[r.isOpened?e.nextMethod:e.openMethod](),r._preloadImages()}},_setDimension:function(){var e,n,i,o,s,a,u,l,h,_,d,g,m,v,y,$=r.getViewport(),b=0,w=!1,T=!1,S=r.wrap,x=r.skin,E=r.inner,O=r.current,A=O.width,P=O.height,L=O.minWidth,C=O.minHeight,I=O.maxWidth,M=O.maxHeight,N=O.scrolling,D=O.scrollOutside?O.scrollbarWidth:0,R=O.margin,k=f(R[1]+R[3]),F=f(R[0]+R[2]);if(S.add(x).add(E).width("auto").height("auto").removeClass("fancybox-tmp"),e=f(x.outerWidth(!0)-x.width()),n=f(x.outerHeight(!0)-x.height()),i=k+e,o=F+n,s=c(A)?($.w-i)*f(A)/100:A,a=c(P)?($.h-o)*f(P)/100:P,"iframe"===O.type){if(v=O.content,O.autoHeight&&1===v.data("ready"))try{v[0].contentWindow.document.location&&(E.width(s).height(9999),y=v.contents().find("body"),D&&y.css("overflow-x","hidden"),a=y.outerHeight(!0))}catch(t){}}else(O.autoWidth||O.autoHeight)&&(E.addClass("fancybox-tmp"),O.autoWidth||E.width(s),O.autoHeight||E.height(a),O.autoWidth&&(s=E.width()),O.autoHeight&&(a=E.height()),E.removeClass("fancybox-tmp"));if(A=f(s),P=f(a),h=s/a,L=f(c(L)?f(L,"w")-i:L),I=f(c(I)?f(I,"w")-i:I),C=f(c(C)?f(C,"h")-o:C),M=f(c(M)?f(M,"h")-o:M),u=I,l=M,O.fitToView&&(I=Math.min($.w-i,I),M=Math.min($.h-o,M)),g=$.w-k,m=$.h-F,O.aspectRatio?(A>I&&(A=I,P=f(A/h)),P>M&&(P=M,A=f(P*h)),A<L&&(A=L,P=f(A/h)),P<C&&(P=C,A=f(P*h))):(A=Math.max(L,Math.min(A,I)),O.autoHeight&&"iframe"!==O.type&&(E.width(A),P=E.height()),P=Math.max(C,Math.min(P,M))),O.fitToView)if(E.width(A).height(P),S.width(A+e),_=S.width(),d=S.height(),O.aspectRatio)for(;(_>g||d>m)&&A>L&&P>C&&!(b++>19);)P=Math.max(C,Math.min(M,P-10)),A=f(P*h),A<L&&(A=L,P=f(A/h)),A>I&&(A=I,P=f(A/h)),E.width(A).height(P),S.width(A+e),_=S.width(),d=S.height();else A=Math.max(L,Math.min(A,A-(_-g))),P=Math.max(C,Math.min(P,P-(d-m)));D&&"auto"===N&&P<a&&A+e+D<g&&(A+=D),E.width(A).height(P),S.width(A+e),_=S.width(),d=S.height(),w=(_>g||d>m)&&A>L&&P>C,T=O.aspectRatio?A<u&&P<l&&A<s&&P<a:(A<u||P<l)&&(A<s||P<a),t.extend(O,{dim:{width:p(_),height:p(d)},origWidth:s,origHeight:a,canShrink:w,canExpand:T,wPadding:e,hPadding:n,wrapSpace:d-x.outerHeight(!0),skinSpace:x.height()-P}),!v&&O.autoHeight&&P>C&&P<M&&!T&&E.height("auto")},_getPosition:function(t){var e=r.current,n=r.getViewport(),i=e.margin,o=r.wrap.width()+i[1]+i[3],s=r.wrap.height()+i[0]+i[2],a={position:"absolute",top:i[0],left:i[3]};return e.autoCenter&&e.fixed&&!t&&s<=n.h&&o<=n.w?a.position="fixed":e.locked||(a.top+=n.y,a.left+=n.x),a.top=p(Math.max(a.top,a.top+(n.h-s)*e.topRatio)),a.left=p(Math.max(a.left,a.left+(n.w-o)*e.leftRatio)),a},_afterZoomIn:function(){var e=r.current;e&&(r.isOpen=r.isOpened=!0,r.wrap.css("overflow","visible").addClass("fancybox-opened").hide().show(0),r.update(),(e.closeClick||e.nextClick&&r.group.length>1)&&r.inner.css("cursor","pointer").bind("click.fb",function(n){t(n.target).is("a")||t(n.target).parent().is("a")||(n.preventDefault(),r[e.closeClick?"close":"next"]())}),e.closeBtn&&t(e.tpl.closeBtn).appendTo(r.skin).bind("click.fb",function(t){t.preventDefault(),r.close()}),e.arrows&&r.group.length>1&&((e.loop||e.index>0)&&t(e.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev),(e.loop||e.index<r.group.length-1)&&t(e.tpl.next).appendTo(r.outer).bind("click.fb",r.next)),r.trigger("afterShow"),e.loop||e.index!==e.group.length-1?r.opts.autoPlay&&!r.player.isActive&&(r.opts.autoPlay=!1,r.play(!0)):r.play(!1))},_afterZoomOut:function(e){e=e||r.current,t(".fancybox-wrap").trigger("onReset").remove(),t.extend(r,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger("afterClose",e)}}),r.transitions={getOrigPosition:function(){var t=r.current,e=t.element,n=t.orig,i={},o=50,s=50,a=t.hPadding,l=t.wPadding,c=r.getViewport();return!n&&t.isDom&&e.is(":visible")&&(n=e.find("img:first"),n.length||(n=e)),u(n)?(i=n.offset(),n.is("img")&&(o=n.outerWidth(),s=n.outerHeight())):(i.top=c.y+(c.h-s)*t.topRatio,i.left=c.x+(c.w-o)*t.leftRatio),("fixed"===r.wrap.css("position")||t.locked)&&(i.top-=c.y,i.left-=c.x),i={top:p(i.top-a*t.topRatio),left:p(i.left-l*t.leftRatio),width:p(o+l),height:p(s+a)}},step:function(t,e){var n,i,o,s=e.prop,a=r.current,u=a.wrapSpace,l=a.skinSpace;"width"!==s&&"height"!==s||(n=e.end===e.start?1:(t-e.start)/(e.end-e.start),r.isClosing&&(n=1-n),i="width"===s?a.wPadding:a.hPadding,o=t-i,r.skin[s](f("width"===s?o:o-u*n)),r.inner[s](f("width"===s?o:o-u*n-l*n)))},zoomIn:function(){var e=r.current,n=e.pos,i=e.openEffect,o="elastic"===i,s=t.extend({opacity:1},n);delete s.position,o?(n=this.getOrigPosition(),e.openOpacity&&(n.opacity=.1)):"fade"===i&&(n.opacity=.1),r.wrap.css(n).animate(s,{duration:"none"===i?0:e.openSpeed,easing:e.openEasing,step:o?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var t=r.current,e=t.closeEffect,n="elastic"===e,i={opacity:.1};n&&(i=this.getOrigPosition(),t.closeOpacity&&(i.opacity=.1)),r.wrap.animate(i,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var t,e=r.current,n=e.nextEffect,i=e.pos,o={opacity:1},s=r.direction;i.opacity=.1,"elastic"===n&&(t="down"===s||"up"===s?"top":"left","down"===s||"right"===s?(i[t]=p(f(i[t])-200),o[t]="+=200px"):(i[t]=p(f(i[t])+200),o[t]="-=200px")),"none"===n?r._afterZoomIn():r.wrap.css(i).animate(o,{duration:e.nextSpeed,easing:e.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var e=r.previous,n=e.prevEffect,i={opacity:.1},o=r.direction;"elastic"===n&&(i["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"=200px"),e.wrap.animate(i,{duration:"none"===n?0:e.prevSpeed,easing:e.prevEasing,complete:function(){t(this).trigger("onReset").remove()}})}},r.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!a,fixed:!0},overlay:null,fixed:!1,el:t("html"),create:function(e){var n;e=t.extend({},this.defaults,e),this.overlay&&this.close(),n=r.coming?r.coming.parent:e.parent,this.overlay=t('<div class="fancybox-overlay"></div>').appendTo(n&&n.length?n:"body"),this.fixed=!1,e.fixed&&r.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var i=this;e=t.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(n.bind("resize.overlay",t.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){if(t(e.target).hasClass("fancybox-overlay"))return r.isActive?r.close():i.close(),!1}),this.overlay.css(e.css).show()},close:function(){n.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(t(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),n.scrollTop(this.scrollV).scrollLeft(this.scrollH)),t(".fancybox-overlay").remove().hide(),t.extend(this,{overlay:null,fixed:!1})},update:function(){var t,e="100%";this.overlay.width(e).height("100%"),o?(t=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),i.width()>t&&(e=i.width())):i.width()>n.width()&&(e=i.width()),this.overlay.width(e).height(i.height())},onReady:function(e,n){var i=this.overlay;t(".fancybox-overlay").stop(!0,!0),i||this.create(e),e.locked&&this.fixed&&n.fixed&&(n.locked=this.overlay.append(n.wrap),n.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,i){i.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&t("*").filter(function(){return"fixed"===t(this).css("position")&&!t(this).hasClass("fancybox-overlay")&&!t(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=n.scrollTop(),this.scrollH=n.scrollLeft(),this.el.addClass("fancybox-lock"),n.scrollTop(this.scrollV).scrollLeft(this.scrollH)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!r.coming&&this.overlay.fadeOut(e.speedOut,t.proxy(this.close,this))}},r.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var n,i,s=r.current,a=s.title,u=e.type;if(t.isFunction(a)&&(a=a.call(s.element,s)),l(a)&&""!==t.trim(a)){switch(n=t('<div class="fancybox-title fancybox-title-'+u+'-wrap">'+a+"</div>"),u){case"inside":i=r.skin;break;case"outside":i=r.wrap;break;case"over":i=r.inner;break;default:i=r.skin,n.appendTo("body"),o&&n.width(n.width()),n.wrapInner('<span class="child"></span>'),r.current.margin[2]+=Math.abs(f(n.css("margin-bottom")))}n["top"===e.position?"prependTo":"appendTo"](i)}}},t.fn.fancybox=function(e){var n,o=t(this),s=this.selector||"",a=function(i){var a,u,l=t(this).blur(),c=n;i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||l.is(".fancybox-wrap")||(a=e.groupAttr||"data-fancybox-group",u=l.attr(a),u||(a="rel",u=l.get(0)[a]),u&&""!==u&&"nofollow"!==u&&(l=s.length?t(s):o,l=l.filter("["+a+'="'+u+'"]'),c=l.index(this)),e.index=c,!1!==r.open(l,e)&&i.preventDefault())};return e=e||{},n=e.index||0,s&&!1!==e.live?i.undelegate(s,"click.fb-start").delegate(s+":not('.fancybox-item, .fancybox-nav')","click.fb-start",a):o.unbind("click.fb-start").bind("click.fb-start",a),this.filter("[data-fancybox-start=1]").trigger("click"),this},i.ready(function(){var n,i;void 0===t.scrollbarWidth&&(t.scrollbarWidth=function(){var e=t('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),n=e.children(),i=n.innerWidth()-n.height(99).innerWidth();return e.remove(),i}),void 0===t.support.fixedPosition&&(t.support.fixedPosition=function(){var e=t('<div style="position:fixed;top:20px;"></div>').appendTo("body"),n=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),n}()),t.extend(r.defaults,{scrollbarWidth:t.scrollbarWidth(),fixed:t.support.fixedPosition,parent:t("body")}),n=t(window).width(),e.addClass("fancybox-lock-test"),i=t(window).width(),e.removeClass("fancybox-lock-test"),t("<style type='text/css'>.fancybox-margin{margin-right:"+(i-n)+"px;}</style>").appendTo("head")})}},function(t,e,n){"use strict";"function"==typeof Symbol&&Symbol.iterator;t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(2)},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){Array.prototype.forEach.call(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(5),u=(i(a),n(6)),l=i(u),c=n(8),h=i(c),f=n(9),p=i(f),_=n(7),d=i(_),g={info:d.default,success:h.default,warning:p.default,error:l.default},m=document.querySelector.bind(document),v=(document.querySelectorAll.bind(document),function(){function t(e,n){r(this,t),this.text=e,this.opts=n,this.events={},this.notify()}return s(t,[{key:"init",value:function(){var t=m(".noties-"+this.opts.position);t?this.noties=t:(this.noties=document.createElement("div"),this.noties.className="noties noties-"+this.opts.position,m("body").appendChild(this.noties))}},{key:"notify",value:function(){var t=this;this.init(),this.notie=document.createElement("div"),this.notie.style.width=this.opts.width+"px",this.notie.className="notie notie-"+this.opts.type+(this.opts.autoHide?"":" notie-auto-hide-disabled"),this.notie.innerHTML='\n    <div class="notie-body">\n      <span class="notie-svg">'+g[this.opts.type]+'</span>\n      <span class="notie-text">'+this.text+"</span>\n    </div>\n    ";var e=this.noties.firstChild;this.noties.insertBefore(this.notie,e),setTimeout(function(){t.notie.classList.add("notie-shown")},100),this.opts.autoHide&&this.startTimeout(),this.registerEvents()}},{key:"registerEvents",value:function(){var t=this;this.opts.autoHide?(this.events.mouseover=function(){clearTimeout(t.timeout),t.timeout=null},this.events.mouseleave=function(){return t.startTimeout()},this.notie.addEventListener("mouseover",this.events.mouseover,!1),this.notie.addEventListener("mouseleave",this.events.mouseleave,!1)):(this.notie.addEventListener("click",function(){return t.removeNotie()}),o(this.notie.querySelectorAll("[notie-prevent]"),function(t){t.addEventListener("click",function(t){return t.stopPropagation()},!1)}))}},{key:"startTimeout",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.opts.timeout;this.timeout=setTimeout(function(){t.removeNotie()},e)}},{key:"removeNotie",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.notie;e.classList.remove("notie-shown"),setTimeout(function(){t.noties.removeChild(e),e=null},200)}}]),t}()),y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.position,i=void 0===n?"top-right":n,r=e.type,o=void 0===r?"info":r,s=e.autoHide,a=void 0===s||s,u=e.timeout,l=void 0===u?3e3:u,c=e.width;return new v(t,{type:o,position:i,autoHide:a,timeout:l,width:void 0===c?240:c})};e.default=y,t.exports=e.default},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".noties {\n  position: fixed;\n  max-width: 80%;\n  z-index: 9999\n}\n\n.noties:empty {\n  display: none\n}\n\n.noties-top-right {\n  right: 0;\n  top: 20px\n}\n\n.noties-top-right .notie {\n  -ms-transform: translateX(100%);\n      transform: translateX(100%)\n}\n\n.noties-top-right .notie.notie-shown {\n  -ms-transform: translateX(-20px);\n      transform: translateX(-20px)\n}\n\n.noties-top-left {\n  left: 0;\n  top: 20px\n}\n\n.noties-top-left .notie {\n  -ms-transform: translateX(-100%);\n      transform: translateX(-100%)\n}\n\n.noties-top-left .notie.notie-shown {\n  -ms-transform: translateX(20px);\n      transform: translateX(20px)\n}\n\n.noties-bottom-right {\n  right: 0;\n  bottom: 20px\n}\n\n.noties-bottom-right .notie {\n  -ms-transform: translateX(100%);\n      transform: translateX(100%)\n}\n\n.noties-bottom-right .notie.notie-shown {\n  -ms-transform: translateX(-20px);\n      transform: translateX(-20px)\n}\n\n.noties-bottom-left {\n  left: 0;\n  bottom: 20px\n}\n\n.noties-bottom-left .notie {\n  -ms-transform: translateX(-100%);\n      transform: translateX(-100%)\n}\n\n.noties-bottom-left .notie.notie-shown {\n  -ms-transform: translateX(20px);\n      transform: translateX(20px)\n}\n\n.noties-top-center {\n  left: 50%;\n  -ms-transform: translateX(-50%);\n      transform: translateX(-50%);\n  top: 0\n}\n\n.noties-top-center .notie {\n  -ms-transform: translateY(-100%);\n      transform: translateY(-100%)\n}\n\n.noties-top-center .notie.notie-shown {\n  -ms-transform: translateY(20px);\n      transform: translateY(20px)\n}\n\n.noties-bottom-center {\n  left: 50%;\n  -ms-transform: translateX(-50%);\n      transform: translateX(-50%);\n  bottom: 0\n}\n\n.noties-bottom-center .notie {\n  -ms-transform: translateY(100%);\n      transform: translateY(100%)\n}\n\n.noties-bottom-center .notie.notie-shown {\n  -ms-transform: translateY(-20px);\n      transform: translateY(-20px)\n}\n\n.notie {\n  background-color: #ddd;\n  opacity: 0;\n  transition: transform .3s, opacity .3s;\n  border: 1px solid #ddd;\n  font: 14px/1.4 Helvetica, serif;\n  word-wrap: break-word\n}\n\n.notie:not(:last-child) {\n  margin-bottom: 10px\n}\n\n.notie.notie-auto-hide-disabled {\n  cursor: pointer\n}\n\n.notie.notie-shown {\n  opacity: 1\n}\n\n.notie .notie-body {\n  padding: 10px 12px\n}\n\n.notie .notie-svg {\n  height: 23px;\n  display: block;\n  float: left\n}\n\n.notie .notie-text {\n  display: block;\n  padding-left: 30px;\n  padding-top: 2px\n}\n\n.notie svg {\n  height: 23px;\n  width: 23px\n}\n\n.notie.notie-info {\n  background-color: #C6E4F4;\n  border-color: #A9D3EB;\n  color: #477DAC;\n\n  a {\n    color: #477DAC\n  }\n}\n\n.notie.notie-error {\n  background-color: #EAC1BD;\n  border-color: #D7A9A6;\n  color: #AB2925;\n\n  a {\n    color: #AB2925\n  }\n}\n\n.notie.notie-success {\n  background-color: #D9F1CF;\n  border-color: #C8E1BF;\n  color: #748C6C;\n\n  a {\n    color: #748C6C\n  }\n}\n\n.notie.notie-warning {\n  background-color: #F7F2CF;\n  border-color: #E8E2B2;\n  color: #9C7D45;\n\n  a {\n    color: #9C7D45\n  }\n}\n",""])},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=p[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(l(i.parts[o],e))}else{for(var s=[],o=0;o<i.parts.length;o++)s.push(l(i.parts[o],e));p[i.id]={id:i.id,refs:1,parts:s}}}}function r(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=r[0],s=r[1],a=r[2],u=r[3],l={css:s,media:a,sourceMap:u};n[o]?n[o].parts.push(l):e.push(n[o]={id:o,parts:[l]})}return e}function o(t,e){var n=g(),i=y[y.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function l(t,e){var n,i,r;if(e.singleton){var o=v++;n=m||(m=a(e)),i=c.bind(null,n,o,!1),r=c.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),i=f.bind(null,n),r=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),i=h.bind(null,n),r=function(){s(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function c(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=$(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function h(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function f(t,e){var n=e.css,i=e.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var p={},_=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},d=_(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=_(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,y=[];t.exports=function(t,e){e=e||{},void 0===e.singleton&&(e.singleton=d()),void 0===e.insertAt&&(e.insertAt="bottom");var n=r(t);return i(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s],u=p[a.id];u.refs--,o.push(u)}if(t){i(r(t),e)}for(var s=0;s<o.length;s++){var u=o[s];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete p[u.id]}}}};var $=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var i=n(3);"string"==typeof i&&(i=[[t.id,i,""]]);n(4)(i,{});i.locals&&(t.exports=i.locals)},function(t,e){t.exports='<svg fill="#AB2925" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg>'},function(t,e){t.exports='<svg fill="#477DAC" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></svg>'},function(t,e){t.exports='<svg fill="#748C6C" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></svg>'},function(t,e){t.exports='<svg fill="#9C7D45" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></svg>'}])},function(t,e,n){"use strict";NexT.utils=NexT.$u={wrapImageWithFancyBox:function(){$(".content img").not("[hidden]").not(".no-fancybox").not(".group-picture img, .post-gallery img").each(function(){var t=$(this),e=t.attr("title"),n=t.parent("a");if(n.size()<1){var i=t.attr("data-original")?this.getAttribute("data-original"):this.getAttribute("src");n=t.wrap('<a href="'+i+'"></a>').parent("a")}n.addClass("fancybox fancybox.image"),n.attr("rel","group"),e&&(n.append('<p class="image-caption">'+e+"</p>"),n.attr("title",e))}),$(".fancybox").fancybox({helpers:{overlay:{locked:!1}}})},lazyLoadPostsImages:function(){$("#posts").find("img").lazyload({effect:"fadeIn",threshold:0})},registerTabsTag:function(){var t=".tabs ul.nav-tabs ";$(function(){$(window).bind("hashchange",function(){var e=location.hash;""!==e&&($(t+'li:has(a[href="'+e+'"])').addClass("active").siblings().removeClass("active"),$(e).addClass("active").siblings().removeClass("active"))}).trigger("hashchange")}),$(t+".tab").on("click",function(t){if(t.preventDefault(),!$(this).hasClass("active")){$(this).addClass("active").siblings().removeClass("active");var e=$(this).find("a").attr("href");$(e).addClass("active").siblings().removeClass("active"),""!==location.hash&&history.pushState("",document.title,window.location.pathname+window.location.search)}})},registerESCKeyEvent:function(){$(document).on("keyup",function(t){27===t.which&&$(".search-popup").is(":visible")&&($(".search-popup").hide(),$(".search-popup-overlay").remove(),$("body").css("overflow",""))})},embeddedVideoTransformer:function(){function t(t){return{width:t.width(),height:t.height()}}function e(t,e){return e/t*100}var n=$("iframe"),i=["www.youtube.com","player.vimeo.com","player.youku.com","music.163.com","www.tudou.com"],r=new RegExp(i.join("|"));n.each(function(){var n,i=this,o=$(this),s=t(o);if(this.src.search(r)>0){var a=e(s.width,s.height);o.width("100%").height("100%").css({position:"absolute",top:"0",left:"0"});var u=document.createElement("div");u.className="fluid-vids",u.style.position="relative",u.style.marginBottom="20px",u.style.width="100%",u.style.paddingTop=a+"%",""===u.style.paddingTop&&(u.style.paddingTop="50%");if(i.parentNode.insertBefore(u,i),u.appendChild(i),this.src.search("music.163.com")>0){n=t(o);(n.width>s.width||n.height<s.height)&&(u.style.paddingTop=e(n.width,s.height)+"%")}}})},addActiveClassToMenuItem:function(){var t=window.location.pathname;t="/"===t?t:t.substring(0,t.length-1),$('.menu-item a[href^="'+t+'"]:first').parent().addClass("menu-item-active")},hasMobileUA:function(){return/iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g.test(window.navigator.userAgent)},isTablet:function(){return window.screen.width<992&&window.screen.width>767&&this.hasMobileUA()},isMobile:function(){return window.screen.width<767&&this.hasMobileUA()},isDesktop:function(){return!this.isTablet()&&!this.isMobile()},escapeSelector:function(t){return t.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")},displaySidebar:function(){!this.isDesktop()||this.isPisces()||this.isGemini()||$(".sidebar-toggle").trigger("click")},isMist:function(){return"Mist"===CONFIG.scheme},isPisces:function(){return"Pisces"===CONFIG.scheme},isGemini:function(){return"Gemini"===CONFIG.scheme},getScrollbarWidth:function(){var t=$("<div />").addClass("scrollbar-measure").prependTo("body"),e=t[0],n=e.offsetWidth-e.clientWidth;return t.remove(),n},getContentVisibilityHeight:function(){var t=$("#content").height(),e=$(window).height();return t>e?t-e:$(document).height()-e},getSidebarb2tHeight:function(){return CONFIG.sidebar.b2t?$(".back-to-top").height():0},getSidebarSchemePadding:function(){var t="block"==$(".sidebar-nav").css("display")?$(".sidebar-nav").outerHeight(!0):0,e=$(".sidebar-inner"),n=e.innerWidth()-e.width();return this.isPisces()||this.isGemini()?2*n+t+2*CONFIG.sidebar.offset+this.getSidebarb2tHeight():2*n+t/2}},$(document).ready(function(){function t(t){t=t||"auto",$(".site-overview, .post-toc").css("max-height",t)}!function(){var e;$(window).on("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){t(document.body.clientHeight-NexT.utils.getSidebarSchemePadding())},0)});var n=NexT.utils.getScrollbarWidth();$(".sidebar-panel").height()>document.body.clientHeight-NexT.utils.getSidebarSchemePadding()&&$(".site-overview").css("width","calc(100% + "+n+"px)"),$(".post-toc").css("width","calc(100% + "+n+"px)"),t(document.body.clientHeight-NexT.utils.getSidebarSchemePadding())}()})},function(t,e,n){"use strict";$(document).ready(function(){function t(t){this.el=$(t.el),this.status=$.extend({},{init:{width:"100%",opacity:1,left:0,rotateZ:0,top:0}},t.status)}NexT.motion={};var e={lines:[],push:function(t){this.lines.push(t)},init:function(){this.lines.forEach(function(t){t.init()})},arrow:function(){this.lines.forEach(function(t){t.arrow()})},close:function(){this.lines.forEach(function(t){t.close()})}};t.prototype.init=function(){this.transform("init")},t.prototype.arrow=function(){this.transform("arrow")},t.prototype.close=function(){this.transform("close")},t.prototype.transform=function(t){this.el.velocity("stop").velocity(this.status[t])};var n=new t({el:".sidebar-toggle-line-first",status:{arrow:{width:"50%",rotateZ:"-45deg",top:"2px"},close:{width:"100%",rotateZ:"-45deg",top:"5px"}}}),i=new t({el:".sidebar-toggle-line-middle",status:{arrow:{width:"90%"},close:{opacity:0}}}),r=new t({el:".sidebar-toggle-line-last",status:{arrow:{width:"50%",rotateZ:"45deg",top:"-2px"},close:{width:"100%",rotateZ:"45deg",top:"-5px"}}});e.push(n),e.push(i),e.push(r);var o,s;({toggleEl:$(".sidebar-toggle"),dimmerEl:$("#sidebar-dimmer"),sidebarEl:$(".sidebar"),isSidebarVisible:!1,init:function(){this.toggleEl.on("click",this.clickHandler.bind(this)),this.dimmerEl.on("click",this.clickHandler.bind(this)),this.toggleEl.on("mouseenter",this.mouseEnterHandler.bind(this)),this.toggleEl.on("mouseleave",this.mouseLeaveHandler.bind(this)),this.sidebarEl.on("touchstart",this.touchstartHandler.bind(this)),this.sidebarEl.on("touchend",this.touchendHandler.bind(this)),this.sidebarEl.on("touchmove",function(t){t.preventDefault()}),$(document).on("sidebar.isShowing",function(){NexT.utils.isDesktop()&&$("body").velocity("stop").velocity({paddingRight:"320px"},200)}).on("sidebar.isHiding",function(){})},clickHandler:function(){this.isSidebarVisible?this.hideSidebar():this.showSidebar(),this.isSidebarVisible=!this.isSidebarVisible},mouseEnterHandler:function(){this.isSidebarVisible||e.arrow()},mouseLeaveHandler:function(){this.isSidebarVisible||e.init()},touchstartHandler:function(t){o=t.originalEvent.touches[0].clientX,s=t.originalEvent.touches[0].clientY},touchendHandler:function(t){var e=t.originalEvent.changedTouches[0].clientX,n=t.originalEvent.changedTouches[0].clientY;e-o>30&&Math.abs(n-s)<20&&this.clickHandler()},showSidebar:function(){var t=this;e.close(),this.sidebarEl.velocity("stop").velocity({width:"320px"},{display:"block",duration:200,begin:function(){$(".sidebar .motion-element").velocity("transition.slideRightIn",{stagger:50,drag:!0,complete:function(){t.sidebarEl.trigger("sidebar.motion.complete")}})},complete:function(){t.sidebarEl.addClass("sidebar-active"),t.sidebarEl.trigger("sidebar.didShow")}}),this.sidebarEl.trigger("sidebar.isShowing")},hideSidebar:function(){NexT.utils.isDesktop()&&$("body").velocity("stop").velocity({paddingRight:0}),this.sidebarEl.find(".motion-element").velocity("stop").css("display","none"),this.sidebarEl.velocity("stop").velocity({width:0},{display:"none"}),e.init(),this.sidebarEl.removeClass("sidebar-active"),this.sidebarEl.trigger("sidebar.isHiding"),$(".post-toc-wrap")&&("block"===$(".site-overview-wrap").css("display")?$(".post-toc-wrap").removeClass("motion-element"):$(".post-toc-wrap").addClass("motion-element"))}}).init(),NexT.motion.integrator={queue:[],cursor:-1,add:function(t){return this.queue.push(t),this},next:function(){this.cursor++;var t=this.queue[this.cursor];$.isFunction(t)&&t(NexT.motion.integrator)},bootstrap:function(){this.next()}},NexT.motion.middleWares={logo:function(t){function e(t,e){return{e:$(t),p:{translateX:e},o:{duration:500,sequenceQueue:!1}}}function n(t){return t=Array.isArray(t)?t:[t],t.every(function(t){return $.isFunction(t.size)&&t.size()>0})}var i=[],r=$(".brand"),o=$(".site-title"),s=$(".site-subtitle"),a=$(".logo-line-before i"),u=$(".logo-line-after i");r.size()>0&&i.push({e:r,p:{opacity:1},o:{duration:200}}),NexT.utils.isMist()&&n([a,u])&&i.push(e(a,"100%"),e(u,"-100%")),n(o)&&i.push({e:o,p:{opacity:1,top:180},o:{duration:200}}),n(s)&&i.push({e:s,p:{opacity:1,top:100},o:{duration:200}}),CONFIG.motion.async&&t.next(),i.length>0?(i[i.length-1].o.complete=function(){t.next()},$.Velocity.RunSequence(i)):t.next()},menu:function(t){CONFIG.motion.async&&t.next(),$(".menu-item").velocity("transition.slideDownIn",{display:null,duration:200,complete:function(){t.next()}})},postList:function(t){var e=$(".post-block, .pagination, .comments"),n=CONFIG.motion.transition.post_block,i=$(".post-header"),r=CONFIG.motion.transition.post_header,o=$(".post-body"),s=CONFIG.motion.transition.post_body,a=$(".collection-title, .archive-year"),u=CONFIG.motion.transition.coll_header,l=$(".sidebar-inner"),c=CONFIG.motion.transition.sidebar;e.size()>0?function(){var h=window.postMotionOptions||{stagger:100,drag:!0};h.complete=function(){CONFIG.motion.transition.sidebar&&(NexT.utils.isPisces()||NexT.utils.isGemini())&&l.css({transform:"initial"}),t.next()},CONFIG.motion.transition.post_block&&e.velocity("transition."+n,h),CONFIG.motion.transition.post_header&&i.velocity("transition."+r,h),CONFIG.motion.transition.post_body&&o.velocity("transition."+s,h),CONFIG.motion.transition.coll_header&&a.velocity("transition."+u,h),CONFIG.motion.transition.sidebar&&(NexT.utils.isPisces()||NexT.utils.isGemini())&&l.velocity("transition."+c,h)}():t.next(),CONFIG.motion.async&&t.next()},sidebar:function(t){"always"===CONFIG.sidebar.display&&NexT.utils.displaySidebar(),t.next()}}})},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};+function(t){function e(e){return this.each(function(){var r=t(this),o=r.data("bs.affix"),s="object"==(void 0===e?"undefined":i(e))&&e;o||r.data("bs.affix",o=new n(this,s)),"string"==typeof e&&o[e]()})}var n=function e(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+s<=t-i)&&"bottom";var a=null==this.affixed,u=a?r:o.top,l=a?s:e;return null!=n&&r<=n?"top":null!=i&&u+l>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),r=this.options.offset,o=r.top,s=r.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=(void 0===r?"undefined":i(r))&&(s=o=r),"function"==typeof o&&(o=r.top(this.$element)),"function"==typeof s&&(s=r.bottom(this.$element));var u=this.getState(a,e,o,s);if(this.affixed!=u){null!=this.unpin&&this.$element.css("top","");var l="affix"+(u?"-"+u:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=u,this.unpin="bottom"==u?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==u&&this.$element.offset({top:a-e-s})}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery)},function(t,e,n){"use strict";$(document).ready(function(){function t(){var t=e();t+($("#sidebar").height()+NexT.utils.getSidebarb2tHeight())<$("#content").height()&&i.affix({offset:{top:t-2*CONFIG.sidebar.offset,bottom:540}})}function e(){return $(".header-inner").height()+CONFIG.sidebar.offset}function n(){$(window).off(".affix"),i.removeData("bs.affix").removeClass("affix affix-top affix-bottom"),t()}var i=$(".sidebar-inner");t(),function(){window.matchMedia("(min-width: 991px)").addListener(function(t){t.matches&&n()})}()})},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};+function(t){function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=t(this),o=r.data("bs.scrollspy"),s="object"==(void 0===n?"undefined":i(n))&&n;o||r.data("bs.scrollspy",o=new e(this,s)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.2",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(NexT.utils.escapeSelector(r));return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var e,n=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),r=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),n>=r)return a!=(e=s[s.length-1])&&this.activate(e);if(a&&n<o[0])return t(this.selector).trigger("clear.bs.scrollspy"),this.activeTarget=null,this.clear();for(e=o.length;e--;)a!=s[e]&&n>=o[e]&&(!o[e+1]||n<=o[e+1])&&this.activate(s[e])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery)},function(t,e,n){"use strict";$(document).ready(function(){!function(){function t(){$(e+" "+i).removeClass(i.substring(1))}var e=".post-toc",n=$(e),i=".active-current";n.on("activate.bs.scrollspy",function(){var i=$(e+" .active").last();t(),i.addClass("active-current"),n.scrollTop(i.offset().top-n.offset().top+n.scrollTop()-n.height()/2)}).on("clear.bs.scrollspy",t),$("body").scrollspy({target:e})}()}),$(document).ready(function(){var t=$("html"),e=$.isFunction(t.velocity);$(".sidebar-nav li").on("click",function(){var t=$(this);if(!t.hasClass("sidebar-nav-active")){var n=$(".sidebar-panel-active"),i=$("."+t.data("target"));e?n.velocity("transition.slideUpOut",200,function(){i.velocity("stop").velocity("transition.slideDownIn",200).addClass("sidebar-panel-active")}):n.animate({opacity:0},200,function(){n.hide(),i.stop().css({opacity:0,display:"block"}).animate({opacity:1},200,function(){n.removeClass("sidebar-panel-active"),i.addClass("sidebar-panel-active")})}),t.siblings().removeClass("sidebar-nav-active"),t.addClass("sidebar-nav-active")}}),$(".post-toc a").on("click",function(n){n.preventDefault();var i=NexT.utils.escapeSelector(this.getAttribute("href")),r=$(i).offset().top;e?t.velocity("stop").velocity("scroll",{offset:r+"px",mobileHA:!1}):$("html, body").stop().animate({scrollTop:r},500)});var n=$(".post-toc-content"),i="post"===CONFIG.sidebar.display||"always"===CONFIG.sidebar.display,r=n.length>0&&n.html().trim().length>0;i&&r&&(CONFIG.motion.enable?NexT.motion.middleWares.sidebar=function(){NexT.utils.displaySidebar()}:NexT.utils.displaySidebar())})},function(t,e,n){"use strict";$(document).ready(function(){$(document).trigger("bootstrap:before"),NexT.utils.isMobile()&&window.FastClick.attach(document.body),NexT.utils.lazyLoadPostsImages(),NexT.utils.registerESCKeyEvent(),$(".site-nav-toggle button").on("click",function(){var t=$(".site-nav"),e=t.hasClass("site-nav-on"),n=e?"slideUp":"slideDown",i=e?"removeClass":"addClass";t.stop()[n]("fast",function(){t[i]("site-nav-on")})}),CONFIG.fancybox&&NexT.utils.wrapImageWithFancyBox(),CONFIG.tabs&&NexT.utils.registerTabsTag(),NexT.utils.embeddedVideoTransformer(),NexT.motion.integrator.add(NexT.motion.middleWares.logo).add(NexT.motion.middleWares.menu).add(NexT.motion.middleWares.postList).add(NexT.motion.middleWares.sidebar),$(document).trigger("motion:before"),CONFIG.motion.enable&&NexT.motion.integrator.bootstrap(),$(document).trigger("bootstrap:after")})},function(t,e,n){"use strict";if(document.getElementById("evanyou")){var i,r=function(){for(u.clearRect(0,0,c,h),i=[{x:0,y:.7*h+f},{x:0,y:.7*h-f}];i[1].x<c+f;)o(i[0],i[1])},o=function(t,e){u.beginPath(),u.moveTo(t.x,t.y),u.lineTo(e.x,e.y);var n=e.x+(2*m()-.25)*f,r=s(e.y);u.lineTo(n,r),u.closePath(),_-=d/-50,u.fillStyle="#"+(127*g(_)+128<<16|127*g(_+d/3)+128<<8|127*g(_+d/3*2)+128).toString(16),u.fill(),i[0]=i[1],i[1]={x:n,y:r}},s=function t(e){var n=e+(2*m()-1.1)*f;return n>h||n<0?t(e):n},a=document.getElementById("evanyou"),u=a.getContext("2d"),l=window.devicePixelRatio||1,c=window.innerWidth,h=window.innerHeight,f=90,p=Math,_=0,d=2*p.PI,g=p.cos,m=p.random;a.width=c*l,a.height=h*l,u.scale(l,l),u.globalAlpha=.6,document.onclick=r,document.ontouchstart=r,r()}},function(t,e,n){"use strict";if(window.CONFIG.leancloud.enable){var i=function(t){var e=new o.Query(t),n=[],i=$(".leancloud_visitors");i.each(function(){n.push($(this).attr("id").trim())}),e.containedIn("url",n),e.find().then(function(t){if(0===t.length)return void i.find(".leancloud-visitors-count").text(0);for(var e=0;e<t.length;e++){var r=t[e],o=r.get("url"),s=r.get("time"),a=document.getElementById(o);$(a).find(".leancloud-visitors-count").text(s)}for(var e=0;e<n.length;e++){var o=n[e],a=document.getElementById(o),u=$(a).find(".leancloud-visitors-count");""==u.text()&&u.text(0)}}).then(function(t,e){console.log("Error: "+e.code+" "+e.message)})},r=function(t){var e=$(".leancloud_visitors"),n=e.attr("id").trim(),i=e.attr("data-flag-title").trim(),r=new o.Query(t);r.equalTo("url",n),r.find().then(function(e){if(e.length>0){var r=e[0];r.save(null,{fetchWhenSave:!0}),r.increment("time"),r.save().then(function(t){$(document.getElementById(n)).find(".leancloud-visitors-count").text(t.get("time"))}).then(function(t,e){console.log("Failed to save Visitor num, with error message: "+e.message)})}else{var s=new t,a=new o.ACL;a.setPublicReadAccess(!0),a.setPublicWriteAccess(!0),s.setACL(a),s.set("title",i),s.set("url",n),s.set("time",1),s.save().then(function(t){$(document.getElementById(n)).find(".leancloud-visitors-count").text(t.get("time"))}).then(function(t,e){console.log("Failed to create")})}}).then(function(t){console.log("Error:"+t.code+" "+t.message)})},o=n(17);o.initialize(window.CONFIG.leancloud.appID,window.CONFIG.leancloud.appKey),$(function(){var t=o.Object.extend("Counter");1==$(".leancloud_visitors").length?r(t):$(".post-title-link").length>1&&i(t)})}},function(t,e,n){"use strict";(function(t,n){var i,r,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,a){"object"==s(e)&&"object"==s(n)?n.exports=a():(r=[],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(n.exports=o))}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=35)}([function(t,e,n){var i,r;(function(){function n(t){function e(e,n,i,r,o,s){for(;o>=0&&o<s;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=S(i,o,4);var s=!C(n)&&T.keys(n),a=(s||n).length,u=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[u]:u],u+=t),e(n,i,r,s,u,a)}}function o(t){return function(e,n,i){n=x(n,i);for(var r=L(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function a(t,e,n){return function(i,r,o){var s=0,a=L(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(d.call(i,s,a),T.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}}function u(t,e){var n=R.length,i=t.constructor,r=T.isFunction(i)&&i.prototype||f,o="constructor";for(T.has(t,o)&&!T.contains(e,o)&&e.push(o);n--;)(o=R[n])in t&&t[o]!==r[o]&&!T.contains(e,o)&&e.push(o)}var l=this,c=l._,h=Array.prototype,f=Object.prototype,p=Function.prototype,_=h.push,d=h.slice,g=f.toString,m=f.hasOwnProperty,v=Array.isArray,y=Object.keys,$=p.bind,b=Object.create,w=function(){},T=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};void 0!==t&&t.exports&&(e=t.exports=T),e._=T,T.VERSION="1.8.3";var S=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},x=function(t,e,n){return null==t?T.identity:T.isFunction(t)?S(t,e,n):T.isObject(t)?T.matcher(t):T.property(t)};T.iteratee=function(t,e){return x(t,e,1/0)};var E=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,u=0;u<a;u++){var l=s[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}},O=function(t){if(!T.isObject(t))return{};if(b)return b(t);w.prototype=t;var e=new w;return w.prototype=null,e},A=function(t){return function(e){return null==e?void 0:e[t]}},P=Math.pow(2,53)-1,L=A("length"),C=function(t){var e=L(t);return"number"==typeof e&&e>=0&&e<=P};T.each=T.forEach=function(t,e,n){e=S(e,n);var i,r;if(C(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=T.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},T.map=T.collect=function(t,e,n){e=x(e,n);for(var i=!C(t)&&T.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},T.reduce=T.foldl=T.inject=n(1),T.reduceRight=T.foldr=n(-1),T.find=T.detect=function(t,e,n){var i;if(void 0!==(i=C(t)?T.findIndex(t,e,n):T.findKey(t,e,n))&&-1!==i)return t[i]},T.filter=T.select=function(t,e,n){var i=[];return e=x(e,n),T.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},T.reject=function(t,e,n){return T.filter(t,T.negate(x(e)),n)},T.every=T.all=function(t,e,n){e=x(e,n);for(var i=!C(t)&&T.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},T.some=T.any=function(t,e,n){e=x(e,n);for(var i=!C(t)&&T.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},T.contains=T.includes=T.include=function(t,e,n,i){return C(t)||(t=T.values(t)),("number"!=typeof n||i)&&(n=0),T.indexOf(t,e,n)>=0},T.invoke=function(t,e){var n=d.call(arguments,2),i=T.isFunction(e);return T.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},T.pluck=function(t,e){return T.map(t,T.property(e))},T.where=function(t,e){return T.filter(t,T.matcher(e))},T.findWhere=function(t,e){return T.find(t,T.matcher(e))},T.max=function(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e&&null!=t){t=C(t)?t:T.values(t);for(var a=0,u=t.length;a<u;a++)(i=t[a])>o&&(o=i)}else e=x(e,n),T.each(t,function(t,n,i){((r=e(t,n,i))>s||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},T.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=C(t)?t:T.values(t);for(var a=0,u=t.length;a<u;a++)(i=t[a])<o&&(o=i)}else e=x(e,n),T.each(t,function(t,n,i){((r=e(t,n,i))<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},T.shuffle=function(t){for(var e,n=C(t)?t:T.values(t),i=n.length,r=Array(i),o=0;o<i;o++)e=T.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},T.sample=function(t,e,n){return null==e||n?(C(t)||(t=T.values(t)),t[T.random(t.length-1)]):T.shuffle(t).slice(0,Math.max(0,e))},T.sortBy=function(t,e,n){return e=x(e,n),T.pluck(T.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var I=function(t){return function(e,n,i){var r={};return n=x(n,i),T.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};T.groupBy=I(function(t,e,n){T.has(t,n)?t[n].push(e):t[n]=[e]}),T.indexBy=I(function(t,e,n){t[n]=e}),T.countBy=I(function(t,e,n){T.has(t,n)?t[n]++:t[n]=1}),T.toArray=function(t){return t?T.isArray(t)?d.call(t):C(t)?T.map(t,T.identity):T.values(t):[]},T.size=function(t){return null==t?0:C(t)?t.length:T.keys(t).length},T.partition=function(t,e,n){e=x(e,n);var i=[],r=[];return T.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},T.first=T.head=T.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:T.initial(t,t.length-e)},T.initial=function(t,e,n){return d.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},T.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:T.rest(t,Math.max(0,t.length-e))},T.rest=T.tail=T.drop=function(t,e,n){return d.call(t,null==e||n?1:e)},T.compact=function(t){return T.filter(t,T.identity)};var M=function t(e,n,i,r){for(var o=[],s=0,a=r||0,u=L(e);a<u;a++){var l=e[a];if(C(l)&&(T.isArray(l)||T.isArguments(l))){n||(l=t(l,n,i));var c=0,h=l.length;for(o.length+=h;c<h;)o[s++]=l[c++]}else i||(o[s++]=l)}return o};T.flatten=function(t,e){return M(t,e,!1)},T.without=function(t){return T.difference(t,d.call(arguments,1))},T.uniq=T.unique=function(t,e,n,i){T.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=x(n,i));for(var r=[],o=[],s=0,a=L(t);s<a;s++){var u=t[s],l=n?n(u,s,t):u;e?(s&&o===l||r.push(u),o=l):n?T.contains(o,l)||(o.push(l),r.push(u)):T.contains(r,u)||r.push(u)}return r},T.union=function(){return T.uniq(M(arguments,!0,!0))},T.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=L(t);i<r;i++){var o=t[i];if(!T.contains(e,o)){for(var s=1;s<n&&T.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},T.difference=function(t){var e=M(arguments,!0,!0,1);return T.filter(t,function(t){return!T.contains(e,t)})},T.zip=function(){return T.unzip(arguments)},T.unzip=function(t){for(var e=t&&T.max(t,L).length||0,n=Array(e),i=0;i<e;i++)n[i]=T.pluck(t,i);return n},T.object=function(t,e){for(var n={},i=0,r=L(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},T.findIndex=o(1),T.findLastIndex=o(-1),T.sortedIndex=function(t,e,n,i){n=x(n,i,1);for(var r=n(e),o=0,s=L(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},T.indexOf=a(1,T.findIndex,T.sortedIndex),T.lastIndexOf=a(-1,T.findLastIndex),T.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var N=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=O(t.prototype),s=t.apply(o,r);return T.isObject(s)?s:o};T.bind=function(t,e){if($&&t.bind===$)return $.apply(t,d.call(arguments,1));if(!T.isFunction(t))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2);return function i(){return N(t,i,e,this,n.concat(d.call(arguments)))}},T.partial=function(t){var e=d.call(arguments,1);return function n(){for(var i=0,r=e.length,o=Array(r),s=0;s<r;s++)o[s]=e[s]===T?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return N(t,n,this,this,o)}},T.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=T.bind(t[n],t);return t},T.memoize=function(t,e){var n=function n(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return T.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},T.delay=function(t,e){var n=d.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},T.defer=T.partial(T.delay,T,1),T.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var u=function(){a=!1===n.leading?0:T.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var l=T.now();a||!1!==n.leading||(a=l);var c=e-(l-a);return i=this,r=arguments,c<=0||c>e?(s&&(clearTimeout(s),s=null),a=l,o=t.apply(i,r),s||(i=r=null)):s||!1===n.trailing||(s=setTimeout(u,c)),o}},T.debounce=function(t,e,n){var i,r,o,s,a,u=function u(){var l=T.now()-s;l<e&&l>=0?i=setTimeout(u,e-l):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=T.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(a=t.apply(o,r),o=r=null),a}},T.wrap=function(t,e){return T.partial(e,t)},T.negate=function(t){return function(){return!t.apply(this,arguments)}},T.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},T.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},T.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},T.once=T.partial(T.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];T.keys=function(t){if(!T.isObject(t))return[];if(y)return y(t);var e=[];for(var n in t)T.has(t,n)&&e.push(n);return D&&u(t,e),e},T.allKeys=function(t){if(!T.isObject(t))return[];var e=[];for(var n in t)e.push(n);return D&&u(t,e),e},T.values=function(t){for(var e=T.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},T.mapObject=function(t,e,n){e=x(e,n);for(var i,r=T.keys(t),o=r.length,s={},a=0;a<o;a++)i=r[a],s[i]=e(t[i],i,t);return s},T.pairs=function(t){for(var e=T.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},T.invert=function(t){for(var e={},n=T.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},T.functions=T.methods=function(t){var e=[];for(var n in t)T.isFunction(t[n])&&e.push(n);return e.sort()},T.extend=E(T.allKeys),T.extendOwn=T.assign=E(T.keys),T.findKey=function(t,e,n){e=x(e,n);for(var i,r=T.keys(t),o=0,s=r.length;o<s;o++)if(i=r[o],e(t[i],i,t))return i},T.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;T.isFunction(e)?(r=T.allKeys(s),i=S(e,n)):(r=M(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,u=r.length;a<u;a++){var l=r[a],c=s[l];i(c,l,s)&&(o[l]=c)}return o},T.omit=function(t,e,n){if(T.isFunction(e))e=T.negate(e);else{var i=T.map(M(arguments,!1,!1,1),String);e=function(t,e){return!T.contains(i,e)}}return T.pick(t,e,n)},T.defaults=E(T.allKeys,!0),T.create=function(t,e){var n=O(t);return e&&T.extendOwn(n,e),n},T.clone=function(t){return T.isObject(t)?T.isArray(t)?t.slice():T.extend({},t):t},T.tap=function(t,e){return e(t),t},T.isMatch=function(t,e){var n=T.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var k=function t(e,n,i,r){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;e instanceof T&&(e=e._wrapped),n instanceof T&&(n=n._wrapped);var o=g.call(e);if(o!==g.call(n))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n}var a="[object Array]"===o;if(!a){if("object"!=(void 0===e?"undefined":s(e))||"object"!=(void 0===n?"undefined":s(n)))return!1;var u=e.constructor,l=n.constructor;if(u!==l&&!(T.isFunction(u)&&u instanceof u&&T.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in n)return!1}i=i||[],r=r||[];for(var c=i.length;c--;)if(i[c]===e)return r[c]===n;if(i.push(e),r.push(n),a){if((c=e.length)!==n.length)return!1;for(;c--;)if(!t(e[c],n[c],i,r))return!1}else{var h,f=T.keys(e);if(c=f.length,T.keys(n).length!==c)return!1;for(;c--;)if(h=f[c],!T.has(n,h)||!t(e[h],n[h],i,r))return!1}return i.pop(),r.pop(),!0};T.isEqual=function(t,e){return k(t,e)},T.isEmpty=function(t){return null==t||(C(t)&&(T.isArray(t)||T.isString(t)||T.isArguments(t))?0===t.length:0===T.keys(t).length)},T.isElement=function(t){return!(!t||1!==t.nodeType)},T.isArray=v||function(t){return"[object Array]"===g.call(t)},T.isObject=function(t){var e=void 0===t?"undefined":s(t);return"function"===e||"object"===e&&!!t},T.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){T["is"+t]=function(e){return g.call(e)==="[object "+t+"]"}}),T.isArguments(arguments)||(T.isArguments=function(t){return T.has(t,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":s(Int8Array))&&(T.isFunction=function(t){return"function"==typeof t||!1}),T.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},T.isNaN=function(t){return T.isNumber(t)&&t!==+t},T.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===g.call(t)},T.isNull=function(t){return null===t},T.isUndefined=function(t){return void 0===t},T.has=function(t,e){return null!=t&&m.call(t,e)},T.noConflict=function(){return l._=c,this},T.identity=function(t){return t},T.constant=function(t){return function(){return t}},T.noop=function(){},T.property=A,T.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},T.matcher=T.matches=function(t){return t=T.extendOwn({},t),function(e){return T.isMatch(e,t)}},T.times=function(t,e,n){var i=Array(Math.max(0,t));e=S(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},T.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},T.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},U=T.invert(F),B=function(t){var e=function(e){return t[e]},n="(?:"+T.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};T.escape=B(F),T.unescape=B(U),T.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),T.isFunction(i)?i.call(t):i};var j=0;T.uniqueId=function(t){var e=++j+"";return t?t+e:e},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(t){return"\\"+q[t]};T.template=function(t,e,n){!e&&n&&(e=n),e=T.defaults({},e,T.templateSettings);var i=RegExp([(e.escape||G).source,(e.interpolate||G).source,(e.evaluate||G).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(H,Y),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,T)};return a.source="function("+(e.variable||"obj")+"){\n"+o+"}",a},T.chain=function(t){var e=T(t);return e._chain=!0,e};var z=function(t,e){return t._chain?T(e).chain():e};T.mixin=function(t){T.each(T.functions(t),function(e){var n=T[e]=t[e];T.prototype[e]=function(){var t=[this._wrapped];return _.apply(t,arguments),z(this,n.apply(T,t))}})},T.mixin(T),T.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=h[t];T.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),T.each(["concat","join","slice"],function(t){var e=h[t];T.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),T.prototype.value=function(){return this._wrapped},T.prototype.valueOf=T.prototype.toJSON=T.prototype.value,T.prototype.toString=function(){return""+this._wrapped},i=[],void 0!==(r=function(){return T}.apply(e,i))&&(t.exports=r)}).call(this)},function(t,e,n){var i=(n(0),n(46).Promise);i._continueWhile=function(t,e){return t()?e().then(function(){return i._continueWhile(t,e)}):i.resolve()},t.exports=i},function(t,e,n){var i=n(50),r=n(0),o=r.extend,s=n(1),a=n(4),u=n(5),l=n(3),c=l.getSessionToken,h=l.ajax,f=function(t,e){var n=(new Date).getTime(),r=i(n+t);return e?r+","+n+",master":r+","+n},p=function(t,e){e?t["X-LC-Sign"]=f(u.applicationKey):t["X-LC-Key"]=u.applicationKey},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n={"X-LC-Id":u.applicationId,"Content-Type":"application/json;charset=UTF-8"},i=!1;return"boolean"==typeof t.useMasterKey?i=t.useMasterKey:"boolean"==typeof u._config.useMasterKey&&(i=u._config.useMasterKey),i?u.masterKey?e?n["X-LC-Sign"]=f(u.masterKey,!0):n["X-LC-Key"]=u.masterKey+",master":(console.warn("masterKey is not set, fall back to use appKey"),p(n,e)):p(n,e),u.hookKey&&(n["X-LC-Hook-Key"]=u.hookKey),null!==u._config.production&&(n["X-LC-Prod"]=String(u._config.production)),n["X-LC-UA"]=u._sharedConfig.userAgent,s.resolve().then(function(){var e=c(t);if(e)n["X-LC-Session"]=e;else if(!u._config.disableCurrentUser)return u.User.currentAsync().then(function(t){return t&&t._sessionToken&&(n["X-LC-Session"]=t._sessionToken),n});return n})},d=function(t){var e=t.service,n=void 0===e?"api":e,i=t.version,r=void 0===i?"1.1":i,o=t.path,s=u._config.serverURLs[n];if(!s)throw new Error("undefined server URL for "+n);return"/"!==s.charAt(s.length-1)&&(s+="/"),s+=r,o&&(s+=o),s},g=function(t){var e=t.service,n=t.version,i=t.method,r=t.path,o=t.query,s=t.data,l=void 0===s?{}:s,c=t.authOptions,f=t.signKey,p=void 0===f||f;if(!u.applicationId||!u.applicationKey&&!u.masterKey)throw new Error("Not initialized");u._appRouter.refresh();var g=d({service:e,path:r,version:n});return _(c,p).then(function(t){return h({method:i,url:g,query:o,data:l,headers:t}).catch(function(t){var e={code:t.code||-1,error:t.message||t.responseText};if(t.response&&t.response.code)e=t.response;else if(t.responseText)try{e=JSON.parse(t.responseText)}catch(t){}throw e.error+=" ["+(t.statusCode||"N/A")+" "+i+" "+g+"]",new a(e.code,e.error)})})},m=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments[5],a=arguments[6],u="";if(t&&(u+="/"+t),e&&(u+="/"+e),n&&(u+="/"+n),r&&r._fetchWhenSave)throw new Error("_fetchWhenSave should be in the query");if(r&&r._where)throw new Error("_where should be in the query");return i&&"get"===i.toLowerCase()&&(a=o({},a,r),r=null),g({method:i,path:u,query:a,data:r,authOptions:s})};u.request=g,t.exports={_request:m,request:g}},function(t,e,n){function i(t){var e=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),n=e.exec(t);if(!n)return null;var i=n[1]||0,r=(n[2]||1)-1,o=n[3]||0,s=n[4]||0,a=n[5]||0,u=n[6]||0,l=n[8]||0;return new Date(Date.UTC(i,r,o,s,a,u,l))}var r="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":s(t)},o=n(0),a=n(7),u=n(6)("leancloud:request"),l=n(1),c=0,h=function(t){var e=t.method,n=t.url,i=t.query,o=t.data,s=t.headers,h=void 0===s?{}:s,f=t.onprogress,p=c++;u("request("+p+")",e,n,i,o,h);var _={};if(i)for(var d in i)"object"===r(i[d])?_[d]=JSON.stringify(i[d]):_[d]=i[d];return new l(function(t,i){var r=a(e,n).set(h).query(_).send(o);f&&r.on("progress",f),r.end(function(e,n){return n&&u("response("+p+")",n.status,n.body||n.text,n.header),e?(n&&(e.statusCode=n.status,e.responseText=n.text,e.response=n.body),i(e)):t(n.body)})})},f=function(t){return o.isNull(t)||o.isUndefined(t)},p=function(t){return o.isArray(t)?t:void 0===t||null===t?[]:[t]},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.keys,n=t.include,i=t.includeACL,r={};return e&&(r.keys=p(e).join(",")),n&&(r.include=p(n).join(",")),i&&(r.returnACL=i),r},d=function(t){return t.sessionToken?t.sessionToken:t.user&&"function"==typeof t.user.getSessionToken?t.user.getSessionToken():void 0},g=function(t){return function(e){return t(e),e}},m=function(){},v=function(t,e,n){var i;return i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},o.extend(i,t),m.prototype=t.prototype,i.prototype=new m,e&&o.extend(i.prototype,e),n&&o.extend(i,n),i.prototype.constructor=i,i.__super__=t.prototype,i};t.exports={ajax:h,isNullOrUndefined:f,ensureArray:p,transformFetchOptions:_,getSessionToken:d,tap:g,inherits:v,parseDate:i}},function(t,e,n){function i(t,e){var n=new Error(e);return n.code=t,n}n(0).extend(i,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,X_DOMAIN_REQUEST:602}),t.exports=i},function(t,e,n){(function(e){var i=n(0),r=n(37),o=n(3),s=o.inherits,a=o.parseDate,u=e.AV||{};u._config={serverURLs:{},useMasterKey:!1,production:null,realtime:null},u._sharedConfig={userAgent:r,liveQueryRealtime:null},u._getAVPath=function(t){if(!u.applicationId)throw new Error("You need to call AV.initialize before using AV.");if(t||(t=""),!i.isString(t))throw new Error("Tried to get a localStorage path that wasn't a String.");return"/"===t[0]&&(t=t.substring(1)),"AV/"+u.applicationId+"/"+t};var l=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},c=function(){return""+l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l()};u._installationId=null,u._getInstallationId=function(){if(u._installationId)return u.Promise.resolve(u._installationId);var t=u._getAVPath("installationId");return u.localStorage.getItemAsync(t).then(function(e){return u._installationId=e,u._installationId?e:(u._installationId=e=c(),u.localStorage.setItemAsync(t,e).then(function(){return e}))})},u._subscriptionId=null,u._refreshSubscriptionId=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u._getAVPath("subscriptionId"),e=u._subscriptionId=c();return u.localStorage.setItemAsync(t,e).then(function(){return e})},u._getSubscriptionId=function(){if(u._subscriptionId)return u.Promise.resolve(u._subscriptionId);var t=u._getAVPath("subscriptionId");return u.localStorage.getItemAsync(t).then(function(e){return u._subscriptionId=e,u._subscriptionId||(e=u._refreshSubscriptionId(t)),e})},u._parseDate=a,u._extend=function(t,e){var n=s(this,t,e);return n.extend=this.extend,n},u._encode=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof u.Object){if(n)throw new Error("AV.Objects not allowed here");return e&&!i.include(e,t)&&t._hasData?t._toFullJSON(e.concat(t),r):t._toPointer()}if(t instanceof u.ACL)return t.toJSON();if(i.isDate(t))return r?{__type:"Date",iso:t.toJSON()}:t.toJSON();if(t instanceof u.GeoPoint)return t.toJSON();if(i.isArray(t))return i.map(t,function(t){return u._encode(t,e,n,r)});if(i.isRegExp(t))return t.source;if(t instanceof u.Relation)return t.toJSON();if(t instanceof u.Op)return t.toJSON();if(t instanceof u.File){if(!t.url()&&!t.id)throw new Error("Tried to save an object containing an unsaved file.");return t._toFullJSON(e,r)}return i.isObject(t)?i.mapObject(t,function(t,i){return u._encode(t,e,n,r)}):t},u._decode=function(t,e){if(!i.isObject(t)||i.isDate(t))return t;if(i.isArray(t))return i.map(t,function(t){return u._decode(t)});if(t instanceof u.Object)return t;if(t instanceof u.File)return t;if(t instanceof u.Op)return t;if(t instanceof u.GeoPoint)return t;if(t instanceof u.ACL)return t;if("ACL"===e)return new u.ACL(t);if(t.__op)return u.Op._decode(t);var n;if("Pointer"===t.__type){n=t.className;var r=u.Object._create(n);if(Object.keys(t).length>3){var o=i.clone(t);delete o.__type,delete o.className,r._finishFetch(o,!0)}else r._finishFetch({objectId:t.objectId},!1);return r}if("Object"===t.__type){n=t.className;var s=i.clone(t);delete s.__type,delete s.className;var a=u.Object._create(n);return a._finishFetch(s,!0),a}if("Date"===t.__type)return u._parseDate(t.iso);if("GeoPoint"===t.__type)return new u.GeoPoint({latitude:t.latitude,longitude:t.longitude});if("Relation"===t.__type){if(!e)throw new Error("key missing decoding a Relation");var l=new u.Relation(null,e);return l.targetClassName=t.className,l}if("File"===t.__type){var c=new u.File(t.name),h=i.clone(t);return delete h.__type,c._finishFetch(h),c}return i.mapObject(t,u._decode)},u.parseJSON=u._decode,u._encodeObjectOrArray=function(t){var e=function(t){return t&&t._toFullJSON&&(t=t._toFullJSON([])),i.mapObject(t,function(t){return u._encode(t,[])})};return i.isArray(t)?t.map(function(t){return e(t)}):e(t)},u._arrayEach=i.each,u._traverse=function(t,e,n){if(t instanceof u.Object){if(n=n||[],i.indexOf(n,t)>=0)return;return n.push(t),u._traverse(t.attributes,e,n),e(t)}return t instanceof u.Relation||t instanceof u.File?e(t):i.isArray(t)?(i.each(t,function(i,r){var o=u._traverse(i,e,n);o&&(t[r]=o)}),e(t)):i.isObject(t)?(u._each(t,function(i,r){var o=u._traverse(i,e,n);o&&(t[r]=o)}),e(t)):e(t)},u._objectEach=u._each=function(t,e){i.isObject(t)?i.each(i.keys(t),function(n){e(t[n],n)}):i.each(t,e)},t.exports=u}).call(e,n(8))},function(e,n,i){function r(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),e){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),t.splice(o,0,i)}}function a(){return"object"==("undefined"==typeof console?"undefined":s(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(t){}}function l(){var e;try{e=n.storage.debug}catch(e){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e}n=e.exports=i(45),n.log=a,n.formatArgs=o,n.save=u,n.load=l,n.useColors=r,n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(l())},function(t,e,n){function i(){}function r(t){if(!g(t))return t;var e=[];for(var n in t)o(e,n,t[n]);return e.join("&")}function o(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){o(t,e,n)});else if(g(n))for(var i in n)o(t,e+"["+i+"]",n[i]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function a(t){for(var e,n,i={},r=t.split("&"),o=0,s=r.length;o<s;++o)e=r[o],n=e.indexOf("="),-1==n?i[decodeURIComponent(e)]="":i[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return i}function u(t){for(var e,n,i,r,o=t.split(/\r?\n/),s={},a=0,u=o.length;a<u;++a)n=o[a],-1!==(e=n.indexOf(":"))&&(i=n.slice(0,e).toLowerCase(),r=$(n.slice(e+1)),s[i]=r);return s}function l(t){return/[\/+]json\b/.test(t)}function c(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function h(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new c(n)}catch(e){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",e);var i;try{n._isResponseOK(e)||(i=new Error(e.statusText||"Unsuccessful HTTP response"))}catch(t){i=t}i?(i.original=t,i.response=e,i.status=e.status,n.callback(i,e)):n.callback(null,e)})}function f(t,e,n){var i=y("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i}var p;"undefined"!=typeof window?p=window:"undefined"!=typeof self?p=self:(console.warn("Using browser-only version of superagent in non-browser environment"),p=this);var _=n(43),d=n(53),g=n(13),m=n(54),v=n(52),y=e=t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1==arguments.length?new e.Request("GET",t):new e.Request(t,n)};e.Request=h,y.getXHR=function(){if(!(!p.XMLHttpRequest||p.location&&"file:"==p.location.protocol&&p.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var $="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};y.serializeObject=r,y.parseString=a,y.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},y.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},y.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},m(c.prototype),c.prototype._parseBody=function(t){var e=y.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&l(this.type)&&(e=y.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},c.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,i="cannot "+e+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=e,r.url=n,r},y.Response=c,_(h.prototype),d(h.prototype),h.prototype.type=function(t){return this.set("Content-Type",y.types[t]||t),this},h.prototype.accept=function(t){return this.set("Accept",y.types[t]||t),this},h.prototype.auth=function(t,e,n){1===arguments.length&&(e=""),"object"==(void 0===e?"undefined":s(e))&&null!==e&&(n=e,e=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});var i=function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,n,i)},h.prototype.query=function(t){return"string"!=typeof t&&(t=r(t)),t&&this._query.push(t),this},h.prototype.attach=function(t,e,n){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},h.prototype._getFormData=function(){return this._formData||(this._formData=new p.FormData),this._formData},h.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},h.prototype.buffer=h.prototype.ca=h.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},h.prototype.pipe=h.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},h.prototype._isHost=function(t){return t&&"object"==(void 0===t?"undefined":s(t))&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},h.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||i,this._finalizeQueryString(),this._end()},h.prototype._end=function(){var t=this,e=this.xhr=y.getXHR(),n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==n){var i;try{i=e.status}catch(t){i=0}if(!i){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var i=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.onprogress=i.bind(null,"download"),e.upload&&(e.upload.onprogress=i.bind(null,"upload"))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var r=this._header["content-type"],o=this._serializer||y.serialize[r?r.split(";")[0]:""];!o&&l(r)&&(o=y.serialize["application/json"]),o&&(n=o(n))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&e.setRequestHeader(s,this.header[s]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==n?n:null),this},y.agent=function(){return new v},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){v.prototype[t.toLowerCase()]=function(e,n){var i=new y.Request(t,e);return this._setDefaults(i),n&&i.end(n),i}}),v.prototype.del=v.prototype.delete,y.get=function(t,e,n){var i=y("GET",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},y.head=function(t,e,n){var i=y("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},y.options=function(t,e,n){var i=y("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},y.del=f,y.delete=f,y.patch=function(t,e,n){var i=y("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},y.post=function(t,e,n){var i=y("POST",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},y.put=function(t,e,n){var i=y("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==("undefined"==typeof window?"undefined":s(window))&&(n=window)}t.exports=n},function(t,e,n){var i=n(10),r=n(5),o=e.removeAsync=i.removeItemAsync.bind(i),s=function(t,e){try{t=JSON.parse(t)}catch(t){return null}return t?t.expiredAt&&t.expiredAt<Date.now()?o(e).then(function(){return null}):t.value:null};e.getAsync=function(t){return t="AV/"+r.applicationId+"/"+t,i.getItemAsync(t).then(function(e){return s(e,t)})},e.setAsync=function(t,e,n){var o={value:e};return"number"==typeof n&&(o.expiredAt=Date.now()+n),i.setItemAsync("AV/"+r.applicationId+"/"+t,JSON.stringify(o))}},function(t,e,n){var i=n(0),r=n(1),o=n(41),s=["getItem","setItem","removeItem","clear"];o.async?i(s).each(function(t){"function"!=typeof o[t]&&(o[t]=function(){var e=new Error("Synchronous API ["+t+"] is not available in this runtime.");throw e.code="SYNC_API_NOT_AVAILABLE",e})}):i(s).each(function(t){"function"==typeof o[t]&&(o[t+"Async"]=function(){return r.resolve(o[t].apply(o,arguments))})}),t.exports=o},function(t,e,n){t.exports="3.3.1"},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){function i(t){return null!==t&&"object"==(void 0===t?"undefined":s(t))}t.exports=i},function(t,e,n){var i=n(0);t.exports=function(t){t.ACL=function(e){var n=this;if(n.permissionsById={},i.isObject(e))if(e instanceof t.User)n.setReadAccess(e,!0),n.setWriteAccess(e,!0);else{if(i.isFunction(e))throw new Error("AV.ACL() called with a function.  Did you forget ()?");t._objectEach(e,function(e,r){if(!i.isString(r))throw new Error("Tried to create an ACL with an invalid userId.");n.permissionsById[r]={},t._objectEach(e,function(t,e){if("read"!==e&&"write"!==e)throw new Error("Tried to create an ACL with an invalid permission type.");if(!i.isBoolean(t))throw new Error("Tried to create an ACL with an invalid permission value.");n.permissionsById[r][e]=t})})}},t.ACL.prototype.toJSON=function(){return i.clone(this.permissionsById)},t.ACL.prototype._setAccess=function(e,n,r){if(n instanceof t.User?n=n.id:n instanceof t.Role&&(n="role:"+n.getName()),!i.isString(n))throw new Error("userId must be a string.");if(!i.isBoolean(r))throw new Error("allowed must be either true or false.");var o=this.permissionsById[n];if(!o){if(!r)return;o={},this.permissionsById[n]=o}r?this.permissionsById[n][e]=!0:(delete o[e],i.isEmpty(o)&&delete this.permissionsById[n])},t.ACL.prototype._getAccess=function(e,n){n instanceof t.User?n=n.id:n instanceof t.Role&&(n="role:"+n.getName());var i=this.permissionsById[n];return!!i&&!!i[e]},t.ACL.prototype.setReadAccess=function(t,e){this._setAccess("read",t,e)},t.ACL.prototype.getReadAccess=function(t){return this._getAccess("read",t)},t.ACL.prototype.setWriteAccess=function(t,e){this._setAccess("write",t,e)},t.ACL.prototype.getWriteAccess=function(t){return this._getAccess("write",t)},t.ACL.prototype.setPublicReadAccess=function(t){this.setReadAccess("*",t)},t.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess("*")},t.ACL.prototype.setPublicWriteAccess=function(t){this.setWriteAccess("*",t)},t.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess("*")},t.ACL.prototype.getRoleReadAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),i.isString(e))return this.getReadAccess("role:"+e);throw new Error("role must be a AV.Role or a String")},t.ACL.prototype.getRoleWriteAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),i.isString(e))return this.getWriteAccess("role:"+e);throw new Error("role must be a AV.Role or a String")},t.ACL.prototype.setRoleReadAccess=function(e,n){if(e instanceof t.Role&&(e=e.getName()),i.isString(e))return void this.setReadAccess("role:"+e,n);throw new Error("role must be a AV.Role or a String")},t.ACL.prototype.setRoleWriteAccess=function(e,n){if(e instanceof t.Role&&(e=e.getName()),i.isString(e))return void this.setWriteAccess("role:"+e,n);throw new Error("role must be a AV.Role or a String")}}},function(t,e,n){var i=n(0),r=n(3),o=r.tap;t.exports=function(t){t.Captcha=function(t,e){this._options=t,this._authOptions=e,this.url=void 0,this.captchaToken=void 0,this.validateToken=void 0},t.Captcha.prototype.refresh=function(){var e=this;return t.Cloud._requestCaptcha(this._options,this._authOptions).then(function(t){var n=t.captchaToken,r=t.url;return i.extend(e,{captchaToken:n,url:r}),r})},t.Captcha.prototype.verify=function(e){var n=this;return t.Cloud.verifyCaptcha(e,this.captchaToken).then(o(function(t){return n.validateToken=t}))},t.Captcha.prototype.bind=function(t,e){var n=this,i=t.textInput,r=t.image,o=t.verifyButton,s=e.success,a=e.error;if("string"==typeof i&&!(i=document.getElementById(i)))throw new Error("textInput with id "+i+" not found");if("string"==typeof r&&!(r=document.getElementById(r)))throw new Error("image with id "+r+" not found");if("string"==typeof o&&!(o=document.getElementById(o)))throw new Error("verifyButton with id "+o+" not found");this.__refresh=function(){return n.refresh().then(function(t){r.src=t,i&&(i.value="",i.focus())}).catch(function(t){return console.warn("refresh captcha fail: "+t.message)})},r&&(this.__image=r,r.src=this.url,r.addEventListener("click",this.__refresh)),this.__verify=function(){var t=i.value;n.verify(t).catch(function(t){throw n.__refresh(),t}).then(s,a).catch(function(t){return console.warn("verify captcha fail: "+t.message)})},i&&o&&(this.__verifyButton=o,o.addEventListener("click",this.__verify))},t.Captcha.prototype.unbind=function(){this.__image&&this.__image.removeEventListener("click",this.__refresh),this.__verifyButton&&this.__verifyButton.removeEventListener("click",this.__verify)},t.Captcha.request=function(e,n){var i=new t.Captcha(e,n);return i.refresh().then(function(){return i})}}},function(t,e,n){var i=n(0),r=n(2),o=r._request,s=r.request,a=n(1);t.exports=function(t){t.Cloud=t.Cloud||{},i.extend(t.Cloud,{run:function(e,n,i){return s({service:"engine",method:"POST",path:"/functions/"+e,data:t._encode(n,null,!0),authOptions:i}).then(function(e){return t._decode(e).result})},rpc:function(e,n,r){return i.isArray(n)?a.reject(new Error("Can't pass Array as the param of rpc function in JavaScript SDK.")):s({service:"engine",method:"POST",path:"/call/"+e,data:t._encodeObjectOrArray(n),authOptions:r}).then(function(e){return t._decode(e).result})},getServerDate:function(){return o("date",null,null,"GET").then(function(e){return t._decode(e)})},requestSmsCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i.isString(t)&&(t={mobilePhoneNumber:t}),!t.mobilePhoneNumber)throw new Error("Missing mobilePhoneNumber.");return e.validateToken&&(t=i.extend({},t,{validate_token:e.validateToken})),o("requestSmsCode",null,null,"POST",t,e)},verifySmsCode:function(t,e){if(!t)throw new Error("Missing sms code.");var n={};return i.isString(e)&&(n.mobilePhoneNumber=e),o("verifySmsCode",t,null,"POST",n)},_requestCaptcha:function(t,e){return o("requestCaptcha",null,null,"GET",t,e).then(function(t){var e=t.captcha_url;return{captchaToken:t.captcha_token,url:e}})},requestCaptcha:t.Captcha.request,verifyCaptcha:function(t,e){return o("verifyCaptcha",null,null,"POST",{captcha_code:t,captcha_token:e}).then(function(t){return t.validate_token})}})}},function(t,e,n){var i=n(0),r=n(2),o=r._request,s=n(5);t.exports=s.Object.extend("_Conversation",{constructor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.Object.prototype.constructor.call(this,null,null),this.set("name",t),void 0!==e.isSystem&&this.set("sys",!!e.isSystem),void 0!==e.isTransient&&this.set("tr",!!e.isTransient)},getCreator:function(){return this.get("c")},getLastMessageAt:function(){return this.get("lm")},getMembers:function(){return this.get("m")},addMember:function(t){return this.add("m",t)},getMutedMembers:function(){return this.get("mu")},getName:function(){return this.get("name")},isTransient:function(){return this.get("tr")},isSystem:function(){return this.get("sys")},send:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"function"==typeof e.toJSON&&(e=e.toJSON()),"string"!=typeof e&&(e=JSON.stringify(e));var r={from_peer:t,conv_id:this.id,transient:!1,message:e};return void 0!==n.toClients&&(r.to_peers=n.toClients),void 0!==n.transient&&(r.transient=!!n.transient),void 0!==n.pushData&&(r.push_data=n.pushData),o("rtm","messages",null,"POST",r,i)},broadcast:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"function"==typeof e.toJSON&&(e=e.toJSON()),"string"!=typeof e&&(e=JSON.stringify(e));var s={from_peer:t,conv_id:this.id,message:e};if(void 0!==n.pushData&&(s.push=n.pushData),void 0!==n.validTill){var a=n.validTill;i.isDate(a)&&(a=a.getTime()),n.valid_till=a}return o("rtm","broadcast",null,"POST",s,r)}})},function(t,e,n){var i=n(0);t.exports=function(t){var e=/\s+/,n=Array.prototype.slice;t.Events={on:function(t,n,i){var r,o,s,a,u;if(!n)return this;for(t=t.split(e),r=this._callbacks||(this._callbacks={}),o=t.shift();o;)u=r[o],s=u?u.tail:{},s.next=a={},s.context=i,s.callback=n,r[o]={tail:a,next:u?u.next:s},o=t.shift();return this},off:function(t,n,r){var o,s,a,u,l,c;if(s=this._callbacks){if(!(t||n||r))return delete this._callbacks,this;for(t=t?t.split(e):i.keys(s),o=t.shift();o;)if(a=s[o],delete s[o],a&&(n||r)){for(u=a.tail,a=a.next;a!==u;)l=a.callback,c=a.context,(n&&l!==n||r&&c!==r)&&this.on(o,l,c),a=a.next;o=t.shift()}return this}},trigger:function(t){var i,r,o,s,a,u,l;if(!(o=this._callbacks))return this;for(u=o.all,t=t.split(e),l=n.call(arguments,1),i=t.shift();i;){if(r=o[i])for(s=r.tail;(r=r.next)!==s;)r.callback.apply(r.context||this,l);if(r=u)for(s=r.tail,a=[i].concat(l);(r=r.next)!==s;)r.callback.apply(r.context||this,a);i=t.shift()}return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off}},function(t,e,n){var i=n(0),r=n(38),o=n(39),s=n(40),a=n(4),u=n(2)._request,l=n(1),c=n(3),h=c.tap,f=c.transformFetchOptions,p=n(6)("leancloud:file"),_=n(42);t.exports=function(t){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},n=function(t){return t.match(/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/)[4]},c=function(t){if(t<26)return String.fromCharCode(65+t);if(t<52)return String.fromCharCode(t-26+97);if(t<62)return String.fromCharCode(t-52+48);if(62===t)return"+";if(63===t)return"/";throw new Error("Tried to encode large digit "+t+" in base64.")},d=function(t){var e=[];return e.length=Math.ceil(t.length/3),i.times(e.length,function(n){var i=t[3*n],r=t[3*n+1]||0,o=t[3*n+2]||0,s=3*n+1<t.length,a=3*n+2<t.length;e[n]=[c(i>>2&63),c(i<<4&48|r>>4&15),s?c(r<<2&60|o>>6&3):"=",a?c(63&o):"="].join("")}),e.join("")};t.File=function(e,r,o){if(this.attributes={name:e,url:"",metaData:{},base64:""},i.isString(r))throw new TypeError("Creating an AV.File from a String is not yet supported.");i.isArray(r)&&(this.attributes.metaData.size=r.length,r={base64:d(r)}),this._extName="",this._data=r,this._uploadHeaders={},"undefined"!=typeof Blob&&r instanceof Blob&&(r.size&&(this.attributes.metaData.size=r.size),r.name&&(this._extName=n(r.name)));var s=void 0;if(r&&r.owner)s=r.owner;else if(!t._config.disableCurrentUser)try{s=t.User.current()}catch(t){if("SYNC_API_NOT_AVAILABLE"!==t.code)throw t;console.warn("Get current user failed. It seems this runtime use an async storage system, please create AV.File in the callback of AV.User.currentAsync().")}this.attributes.metaData.owner=s?s.id:"unknown",this.set("mime_type",o)},t.File.withURL=function(e,n,i,r){if(!e||!n)throw new Error("Please provide file name and url");var o=new t.File(e,null,r);if(i)for(var s in i)o.attributes.metaData[s]||(o.attributes.metaData[s]=i[s]);return o.attributes.url=n,o.attributes.metaData.__source="external",o},t.File.createWithoutData=function(e){var n=new t.File;return n.id=e,n},i.extend(t.File.prototype,{className:"_File",_toFullJSON:function(e){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=i.clone(this.attributes);return t._objectEach(o,function(n,i){o[i]=t._encode(n,e,void 0,r)}),t._objectEach(this._operations,function(t,e){o[e]=t}),i.has(this,"id")&&(o.objectId=this.id),i(["createdAt","updatedAt"]).each(function(t){if(i.has(n,t)){var e=n[t];o[t]=i.isDate(e)?e.toJSON():e}}),r&&(o.__type="File"),o},toFullJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(t)},toJSON:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[this];return this._toFullJSON(n,!1)},getACL:function(){return this._acl},setACL:function(e){if(!(e instanceof t.ACL))return new a(a.OTHER_CAUSE,"ACL must be a AV.ACL.");this._acl=e},name:function(){return this.get("name")},url:function(){return this.get("url")},get:function(t){switch(t){case"objectId":return this.id;case"url":case"name":case"mime_type":case"metaData":case"createdAt":case"updatedAt":return this.attributes[t];default:return this.attributes.metaData[t]}},set:function(){for(var t=this,e=function(e,n){switch(e){case"name":case"url":case"mime_type":case"base64":case"metaData":t.attributes[e]=n;break;default:t.attributes.metaData[e]=n}},n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];switch(i.length){case 1:for(var o in i[0])e(o,i[0][o]);break;case 2:e(i[0],i[1])}},setUploadHeader:function(t,e){return this._uploadHeaders[t]=e,this},metaData:function(t,e){return t&&e?(this.attributes.metaData[t]=e,this):t&&!e?this.attributes.metaData[t]:this.attributes.metaData},thumbnailURL:function(t,e,n,i,r){var o=this.attributes.url;if(!o)throw new Error("Invalid url.");if(!t||!e||t<=0||e<=0)throw new Error("Invalid width or height value.");if(n=n||100,i=i||!0,n<=0||n>100)throw new Error("Invalid quality value.");return r=r||"png",o+"?imageView/"+(i?2:1)+"/w/"+t+"/h/"+e+"/q/"+n+"/format/"+r},size:function(){return this.metaData().size},ownerId:function(){return this.metaData().owner},destroy:function(t){return this.id?u("files",null,this.id,"DELETE",null,t):l.reject(new Error("The file id is not eixsts."))},_fileToken:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fileTokens",r=this.attributes.name,o=n(r);!o&&this._extName&&(r+=this._extName,o=this._extName);var s=e()+e()+e()+e()+e()+o,a={key:s,name:r,ACL:this._acl,mime_type:t,metaData:this.attributes.metaData};return this._qiniu_key=s,u(i,null,null,"POST",a)},save:function(t){var e=this;if(this.id)throw new Error("File already saved. If you want to manipulate a file, use AV.Query to get it.");if(!this._previousSave)if(this._data){var n=this.get("mime_type");this._previousSave=this._fileToken(n).then(function(i){return i.mime_type&&(n=i.mime_type,e.set("mime_type",n)),e._token=i.token,l.resolve().then(function(){var t=e._data;if(t&&t.base64)return _(t.base64,n);if(t&&t.blob)return!t.blob.type&&n&&(t.blob.type=n),t.blob.name||(t.blob.name=e.get("name")),t.blob;if("undefined"!=typeof Blob&&t instanceof Blob)return t;throw new TypeError("malformed file data")}).then(function(n){switch(i.provider){case"s3":return s(i,n,e,t);case"qcloud":return r(i,n,e,t);case"qiniu":default:return o(i,n,e,t)}}).then(h(function(){return e._callback(!0)}),function(t){throw e._callback(!1),t})})}else if(this.attributes.url&&"external"===this.attributes.metaData.__source){var i={name:this.attributes.name,ACL:this._acl,metaData:this.attributes.metaData,mime_type:this.mimeType,url:this.attributes.url};this._previousSave=u("files",this.attributes.name,null,"post",i).then(function(t){return e.attributes.name=t.name,e.attributes.url=t.url,e.id=t.objectId,t.size&&(e.attributes.metaData.size=t.size),e})}return this._previousSave},_callback:function(t){u("fileCallback",null,null,"post",{token:this._token,result:t}).catch(p),delete this._token,delete this._data},fetch:function(t,e){return u("files",null,this.id,"GET",f(t),e).then(this._finishFetch.bind(this))},_finishFetch:function(e){var n=t.Object.prototype.parse(e);return n.attributes={name:n.name,url:n.url,mime_type:n.mime_type,bucket:n.bucket},n.attributes.metaData=n.metaData||{},n.id=n.objectId,delete n.objectId,delete n.metaData,delete n.url,delete n.name,delete n.mime_type,delete n.bucket,i.extend(this,n),this}})}},function(t,e,n){var i=n(0);t.exports=function(t){t.GeoPoint=function(e,n){i.isArray(e)?(t.GeoPoint._validate(e[0],e[1]),this.latitude=e[0],this.longitude=e[1]):i.isObject(e)?(t.GeoPoint._validate(e.latitude,e.longitude),this.latitude=e.latitude,this.longitude=e.longitude):i.isNumber(e)&&i.isNumber(n)?(t.GeoPoint._validate(e,n),this.latitude=e,this.longitude=n):(this.latitude=0,this.longitude=0);var r=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return r._latitude}),this.__defineGetter__("longitude",function(){return r._longitude}),this.__defineSetter__("latitude",function(e){t.GeoPoint._validate(e,r.longitude),r._latitude=e}),this.__defineSetter__("longitude",function(e){t.GeoPoint._validate(r.latitude,e),r._longitude=e}))},t.GeoPoint._validate=function(t,e){if(t<-90)throw new Error("AV.GeoPoint latitude "+t+" < -90.0.");if(t>90)throw new Error("AV.GeoPoint latitude "+t+" > 90.0.");if(e<-180)throw new Error("AV.GeoPoint longitude "+e+" < -180.0.");if(e>180)throw new Error("AV.GeoPoint longitude "+e+" > 180.0.")},t.GeoPoint.current=function(){return new t.Promise(function(e,n){navigator.geolocation.getCurrentPosition(function(n){e(new t.GeoPoint({latitude:n.coords.latitude,longitude:n.coords.longitude}))},n)})},i.extend(t.GeoPoint.prototype,{toJSON:function(){return t.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(t){var e=Math.PI/180,n=this.latitude*e,i=this.longitude*e,r=t.latitude*e,o=t.longitude*e,s=n-r,a=i-o,u=Math.sin(s/2),l=Math.sin(a/2),c=u*u+Math.cos(n)*Math.cos(r)*l*l;return c=Math.min(1,c),2*Math.asin(Math.sqrt(c))},kilometersTo:function(t){return 6371*this.radiansTo(t)},milesTo:function(t){return 3958.8*this.radiansTo(t)}})}},function(t,e,n){function i(t,e){if("us"===e)return h("https://us-api.leancloud.cn");var n=void 0;switch(t.slice(-9)){case"-9Nh9j0Va":return h("https://e1-api.leancloud.cn");case"-MdYXbMMI":return h("https://us-api.leancloud.cn");default:return n=t.slice(0,8).toLowerCase(),{push:"https://"+n+".push.lncld.net",stats:"https://"+n+".stats.lncld.net",engine:"https://"+n+".engine.lncld.net",api:"https://"+n+".api.lncld.net"}}}var r=n(5),o=n(34),s=n(3),a=s.isNullOrUndefined,u=n(0),l=u.extend,c=u.isObject,h=function(t){return{push:t,stats:t,engine:t,api:t}},f=!1;r.init=function(t){if(!c(t))return r.init({appId:t,appKey:arguments.length<=1?void 0:arguments[1],masterKey:arguments.length<=2?void 0:arguments[2],region:arguments.length<=3?void 0:arguments[3]});var e=t.appId,n=t.appKey,s=t.masterKey,a=(t.hookKey,t.region),u=void 0===a?"cn":a,h=t.serverURLs,p=t.disableCurrentUser,_=t.production,d=t.realtime;if(r.applicationId)throw new Error("SDK is already initialized.");if(!e)throw new TypeError("appId must be a string");if(!n)throw new TypeError("appKey must be a string");s&&console.warn("MasterKey is not supposed to be used in browser."),r._config.applicationId=e,r._config.applicationKey=n,r._config.masterKey=s,void 0!==_&&(r._config.production=_),void 0!==p&&(r._config.disableCurrentUser=p),r._appRouter=new o(r);var g=f||void 0!==h||"cn"!==u;r._setServerURLs(l({},i(e,u),r._config.serverURLs,h),g),d?r._config.realtime=d:r._sharedConfig.liveQueryRealtime&&(r._config.realtime=new r._sharedConfig.liveQueryRealtime({appId:e,region:u}))},r.setProduction=function(t){a(t)?r._config.production=null:r._config.production=t?1:0},r._setServerURLs=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"string"!=typeof t?l(r._config.serverURLs,t):r._config.serverURLs=h(t),e&&(r._appRouter?r._appRouter.disable():f=!0)},r.setServerURLs=function(t){return r._setServerURLs(t)},r.initialize=r.init,["applicationId","applicationKey","masterKey","hookKey"].forEach(function(t){return Object.defineProperty(r,t,{get:function(){return r._config[t]},set:function(e){r._config[t]=e}})})},function(t,e,n){var i=n(0),r=n(4),o=n(2),s=o.request;t.exports=function(t){t.Insight=t.Insight||{},i.extend(t.Insight,{startJob:function(e,n){if(!e||!e.sql)throw new Error("Please provide the sql to run the job.");var i={jobConfig:e,appId:t.applicationId};return s({path:"/bigquery/jobs",method:"POST",data:t._encode(i,null,!0),authOptions:n,signKey:!1}).then(function(e){return t._decode(e).id})},on:function(t,e){}}),t.Insight.JobQuery=function(t,e){if(!t)throw new Error("Please provide the job id.");this.id=t,this.className=e,this._skip=0,this._limit=100},i.extend(t.Insight.JobQuery.prototype,{skip:function(t){return this._skip=t,this},limit:function(t){return this._limit=t,this},find:function(e){var n={skip:this._skip,limit:this._limit};return s({path:"/bigquery/jobs/"+this.id,method:"GET",query:n,authOptions:e,signKey:!1}).then(function(e){return e.error?t.Promise.reject(new r(e.code,e.error)):t.Promise.resolve(e)})}})}},function(t,e,n){var i=n(0),r=n(47),o=n(1),s=n(3),a=s.inherits,u=n(2),l=u.request;t.exports=function(t){t.LiveQuery=a(r,{constructor:function(t,e){r.apply(this),this.id=t,this._client=e,this._client.register(this),e.on("message",this._dispatch.bind(this))},_dispatch:function(e){var n=this;e.forEach(function(e){var r=e.op,o=e.object,s=e.query_id,a=e.updatedKeys;if(s===n.id){var u=t.parseJSON(i.extend({__type:"_File"===o.className?"File":"Object"},o));a?n.emit(r,u,a):n.emit(r,u)}})},unsubscribe:function(){return this._client.deregister(this),l({method:"POST",path:"/LiveQuery/unsubscribe",data:{id:this._client.id,query_id:this.id}})}},{init:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.subscriptionId,r=void 0===i?t._getSubscriptionId():i;if(!t._config.realtime)throw new Error("LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query");if(!(e instanceof t.Query))throw new TypeError("LiveQuery must be inited with a Query");var s=e.toJSON(),a=s.where,u=s.keys,c=s.returnACL;return o.resolve(r).then(function(n){return l({method:"POST",path:"/LiveQuery/subscribe",data:{query:{where:a,keys:u,returnACL:c,className:e.className},id:n}}).then(function(e){var i=e.query_id;return t._config.realtime.createLiveQueryClient(n).then(function(e){return new t.LiveQuery(i,e)})})})}})}},function(t,e,n){function i(t,e){return t&&t[e]?r.isFunction(t[e])?t[e]():t[e]:null}var r=n(0),o=n(4),s=n(2),a=s._request,u=n(3),l=u.isNullOrUndefined,c=u.ensureArray,h=u.transformFetchOptions,f=["objectId","createdAt","updatedAt"],p=function(t){if(-1!==f.indexOf(t))throw new Error("key["+t+"] is reserved")},_=function(t){var e=r.find(t,function(t){return t instanceof Error});if(!e)return t;var n=new o(e.code,e.message);throw n.results=t,n};t.exports=function(t){t.Object=function(e,n){if(r.isString(e))return t.Object._create.apply(this,arguments);e=e||{},n&&n.parse&&(e=this.parse(e),e=this._mergeMagicFields(e));var o=i(this,"defaults");o&&(e=r.extend({},o,e)),n&&n.collection&&(this.collection=n.collection),this._serverData={},this._opSetQueue=[{}],this._flags={},this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=r.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=r.clone(this.attributes),this.initialize.apply(this,arguments)},t.Object.saveAll=function(e,n){return t.Object._deepSaveAsync(e,null,n)},t.Object.fetchAll=function(e,n){return t.Promise.resolve().then(function(){return a("batch",null,null,"POST",{requests:r.map(e,function(t){if(!t.className)throw new Error("object must have className to fetch");if(!t.id)throw new Error("object must have id to fetch");if(t.dirty())throw new Error("object is modified but not saved");return{method:"GET",path:"/1.1/classes/"+t.className+"/"+t.id}})},n)}).then(function(t){var n=r.map(e,function(e,n){return t[n].success?(e._finishFetch(e.parse(t[n].success)),e):null===t[n].success?new o(o.OBJECT_NOT_FOUND,"Object not found."):new o(t[n].error.code,t[n].error.error)});return _(n)})},r.extend(t.Object.prototype,t.Events,{_fetchWhenSave:!1,initialize:function(){},fetchWhenSave:function(t){if(console.warn("AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead."),!r.isBoolean(t))throw new Error("Expect boolean value for fetchWhenSave");this._fetchWhenSave=t},getObjectId:function(){return this.id},getCreatedAt:function(){return this.createdAt||this.get("createdAt")},getUpdatedAt:function(){return this.updatedAt||this.get("updatedAt")},toJSON:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this._toFullJSON(n,!1)},toFullJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(t)},_toFullJSON:function(e){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=r.clone(this.attributes);if(r.isArray(e))var s=e.concat(this);return t._objectEach(o,function(e,n){o[n]=t._encode(e,s,void 0,i)}),t._objectEach(this._operations,function(t,e){o[e]=t}),r.has(this,"id")&&(o.objectId=this.id),r(["createdAt","updatedAt"]).each(function(t){if(r.has(n,t)){var e=n[t];o[t]=r.isDate(e)?e.toJSON():e}}),i&&(o.__type="Object",r.isArray(e)&&e.length&&(o.__type="Pointer"),o.className=this.className),o},_refreshCache:function(){var e=this;e._refreshingCache||(e._refreshingCache=!0,t._objectEach(this.attributes,function(n,i){n instanceof t.Object?n._refreshCache():r.isObject(n)&&e._resetCacheForKey(i)&&e.set(i,new t.Op.Set(n),{silent:!0})}),delete e._refreshingCache)},dirty:function(t){return this._refreshCache(),this._dirty()},_dirty:function(t){var e=r.last(this._opSetQueue);return t?!!e[t]:!this.id||r.keys(e).length>0},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(t){switch(t){case"objectId":return this.id;case"createdAt":case"updatedAt":return this[t];default:return this.attributes[t]}},relation:function(e){var n=this.get(e);if(n){if(!(n instanceof t.Relation))throw new Error("Called relation() on non-relation field "+e);return n._ensureParentAndKey(this,e),n}return new t.Relation(this,e)},escape:function(t){var e=this._escapedAttributes[t];if(e)return e;var n,i=this.attributes[t];return n=l(i)?"":r.escape(i.toString()),this._escapedAttributes[t]=n,n},has:function(t){return!l(this.attributes[t])},_mergeMagicFields:function(e){var n=this,i=["objectId","createdAt","updatedAt"];return t._arrayEach(i,function(i){e[i]&&("objectId"===i?n.id=e[i]:"createdAt"!==i&&"updatedAt"!==i||r.isDate(e[i])?n[i]=e[i]:n[i]=t._parseDate(e[i]),delete e[i])}),e},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var e=r.first(this._opSetQueue);this._opSetQueue=r.rest(this._opSetQueue);var n=r.first(this._opSetQueue);t._objectEach(e,function(t,i){var r=e[i],o=n[i];r&&o?n[i]=o._mergeWithPrevious(r):r&&(n[i]=r)}),this._saving=this._saving-1},_finishSave:function(e){var n={};t._traverse(this.attributes,function(e){e instanceof t.Object&&e.id&&e._hasData&&(n[e.id]=e)});var i=r.first(this._opSetQueue);this._opSetQueue=r.rest(this._opSetQueue),this._applyOpSet(i,this._serverData),this._mergeMagicFields(e);var o=this;t._objectEach(e,function(e,i){o._serverData[i]=t._decode(e,i);var r=t._traverse(o._serverData[i],function(e){if(e instanceof t.Object&&n[e.id])return n[e.id]});r&&(o._serverData[i]=r)}),this._rebuildAllEstimatedData(),this._saving=this._saving-1},_finishFetch:function(e,n){this._opSetQueue=[{}],this._mergeMagicFields(e);var i=this;t._objectEach(e,function(e,n){i._serverData[n]=t._decode(e,n)}),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=n},_applyOpSet:function(e,n){var i=this;t._objectEach(e,function(e,r){n[r]=e._estimate(n[r],i,r),n[r]===t.Op._UNSET&&delete n[r]})},_resetCacheForKey:function(e){var n=this.attributes[e];if(r.isObject(n)&&!(n instanceof t.Object)&&!(n instanceof t.File)){n=n.toJSON?n.toJSON():n;var i=JSON.stringify(n);if(this._hashedJSON[e]!==i){var o=!!this._hashedJSON[e];return this._hashedJSON[e]=i,o}}return!1},_rebuildEstimatedDataForKey:function(e){var n=this;delete this.attributes[e],this._serverData[e]&&(this.attributes[e]=this._serverData[e]),t._arrayEach(this._opSetQueue,function(i){var r=i[e];r&&(n.attributes[e]=r._estimate(n.attributes[e],n,e),n.attributes[e]===t.Op._UNSET?delete n.attributes[e]:n._resetCacheForKey(e))})},_rebuildAllEstimatedData:function(){var e=this,n=r.clone(this.attributes);this.attributes=r.clone(this._serverData),t._arrayEach(this._opSetQueue,function(n){e._applyOpSet(n,e.attributes),t._objectEach(n,function(t,n){e._resetCacheForKey(n)})}),t._objectEach(n,function(t,n){e.attributes[n]!==t&&e.trigger("change:"+n,e,e.attributes[n],{})}),t._objectEach(this.attributes,function(t,i){r.has(n,i)||e.trigger("change:"+i,e,t,{})})},set:function(e,n,i){var o;if(r.isObject(e)||l(e)?(o=r.mapObject(e,function(e,n){return p(n),t._decode(e,n)}),i=n):(o={},p(e),o[e]=t._decode(n,e)),i=i||{},!o)return this;o instanceof t.Object&&(o=o.attributes),i.unset&&t._objectEach(o,function(e,n){o[n]=new t.Op.Unset});var s=r.clone(o),a=this;t._objectEach(s,function(e,n){e instanceof t.Op&&(s[n]=e._estimate(a.attributes[n],a,n),s[n]===t.Op._UNSET&&delete s[n])}),this._validate(o,i),i.changes={};var u=this._escapedAttributes;return this._previousAttributes,t._arrayEach(r.keys(o),function(e){var n=o[e];n instanceof t.Relation&&(n.parent=a),n instanceof t.Op||(n=new t.Op.Set(n));var s=!0;n instanceof t.Op.Set&&r.isEqual(a.attributes[e],n.value)&&(s=!1),s&&(delete u[e],i.silent?a._silent[e]=!0:i.changes[e]=!0);var l=r.last(a._opSetQueue);l[e]=n._mergeWithPrevious(l[e]),a._rebuildEstimatedDataForKey(e),s?(a.changed[e]=a.attributes[e],i.silent||(a._pending[e]=!0)):(delete a.changed[e],delete a._pending[e])}),i.silent||this.change(i),this},unset:function(t,e){return e=e||{},e.unset=!0,this.set(t,null,e)},increment:function(e,n){return(r.isUndefined(n)||r.isNull(n))&&(n=1),this.set(e,new t.Op.Increment(n))},add:function(e,n){return this.set(e,new t.Op.Add(c(n)))},addUnique:function(e,n){return this.set(e,new t.Op.AddUnique(c(n)))},remove:function(e,n){return this.set(e,new t.Op.Remove(c(n)))},bitAnd:function(e,n){return this.set(e,new t.Op.BitAnd(n))},bitOr:function(e,n){return this.set(e,new t.Op.BitOr(n))},bitXor:function(e,n){return this.set(e,new t.Op.BitXor(n))},op:function(t){return r.last(this._opSetQueue)[t]},clear:function(t){t=t||{},t.unset=!0;var e=r.extend(this.attributes,this._operations);return this.set(e,t)},_getSaveJSON:function(){var e=r.clone(r.first(this._opSetQueue));return t._objectEach(e,function(t,n){e[n]=t.toJSON()}),e},_canBeSerialized:function(){return t.Object._canBeSerializedAsValue(this.attributes)},fetch:function(t,e){var n=this;return a("classes",this.className,this.id,"GET",h(t),e).then(function(t){return n._finishFetch(n.parse(t),!0),n})},save:function(e,n,i){var o,s,u;r.isObject(e)||l(e)?(o=e,u=n):(o={},o[e]=n,u=i),u=r.clone(u)||{},u.wait&&(s=r.clone(this.attributes));var c=r.clone(u)||{};c.wait&&(c.silent=!0),o&&this.set(o,c);var h=this,f=[],p=[];return t.Object._findUnsavedChildren(h,f,p),f.length+p.length>1?t.Object._deepSaveAsync(this,h,u):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||t.Promise.resolve(),this._allPreviousSaves=this._allPreviousSaves.catch(function(t){}).then(function(){var t=h.id?"PUT":"POST",e=h._getSaveJSON(),n={};if((h._fetchWhenSave||u.fetchWhenSave)&&(n.new="true"),u.query){var i;if("function"==typeof u.query.toJSON&&(i=u.query.toJSON())&&(n.where=i.where),!n.where)throw new Error("options.query is not an AV.Query")}r.extend(e,h._flags);var l="classes",f=h.className;"_User"!==h.className||h.id||(l="users",f=null);var p=u._makeRequest||a,_=p(l,f,h.id,t,e,u,n);return _=_.then(function(t){var e=h.parse(t);return u.wait&&(e=r.extend(o||{},e)),h._finishSave(e),u.wait&&h.set(s,c),h},function(t){throw h._cancelSave(),t})}),this._allPreviousSaves)},destroy:function(t){t=t||{};var e=this,n=function(){e.trigger("destroy",e,e.collection,t)};return this.id?(t.wait||n(),a("classes",this.className,this.id,"DELETE",this._flags,t).then(function(){return t.wait&&n(),e})):n()},parse:function(e){var n=r.clone(e);return r(["createdAt","updatedAt"]).each(function(e){n[e]&&(n[e]=t._parseDate(n[e]))}),n.createdAt&&!n.updatedAt&&(n.updatedAt=n.createdAt),n},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(e){e=e||{};var n=this._changing;this._changing=!0;var i=this;t._objectEach(this._silent,function(t){i._pending[t]=!0});var o=r.extend({},e.changes,this._silent);if(this._silent={},t._objectEach(o,function(t,n){i.trigger("change:"+n,i,i.get(n),e)}),n)return this;for(var s=function(t,e){i._pending[e]||i._silent[e]||delete i.changed[e]};!r.isEmpty(this._pending);)this._pending={},this.trigger("change",this,e),t._objectEach(this.changed,s),i._previousAttributes=r.clone(this.attributes);return this._changing=!1,this},hasChanged:function(t){return arguments.length?this.changed&&r.has(this.changed,t):!r.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&r.clone(this.changed);var n={},i=this._previousAttributes;return t._objectEach(e,function(t,e){r.isEqual(i[e],t)||(n[e]=t)}),n},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return r.clone(this._previousAttributes)},isValid:function(){try{this.validate(this.attributes)}catch(t){return!1}return!0},validate:function(e){if(r.has(e,"ACL")&&!(e.ACL instanceof t.ACL))throw new o(o.OTHER_CAUSE,"ACL must be a AV.ACL.")},_validate:function(t,e){!e.silent&&this.validate&&(t=r.extend({},this.attributes,t),this.validate(t))},getACL:function(){return this.get("ACL")},setACL:function(t,e){return this.set("ACL",t,e)},disableBeforeHook:function(){this.ignoreHook("beforeSave"),this.ignoreHook("beforeUpdate"),this.ignoreHook("beforeDelete")},disableAfterHook:function(){this.ignoreHook("afterSave"),this.ignoreHook("afterUpdate"),this.ignoreHook("afterDelete")},ignoreHook:function(e){r.contains(["beforeSave","afterSave","beforeUpdate","afterUpdate","beforeDelete","afterDelete"],e)||console.trace("Unsupported hookName: "+e),t.hookKey||console.trace("ignoreHook required hookKey"),this._flags.__ignore_hooks||(this._flags.__ignore_hooks=[]),this._flags.__ignore_hooks.push(e)}}),t.Object.createWithoutData=function(e,n,i){var r=new t.Object(e);return r.id=n,r._hasData=i,r},t.Object.destroyAll=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||0===e.length)return t.Promise.resolve();var i=r.groupBy(e,function(t){return JSON.stringify({className:t.className,flags:t._flags})}),s={requests:r.map(i,function(t){var e=r.map(t,"id").join(",");return{method:"DELETE",path:"/1.1/classes/"+t[0].className+"/"+e,body:t[0]._flags}})};return a("batch",null,null,"POST",s,n).then(function(t){var e=r.find(t,function(t){return!t.success});if(e)throw new o(e.error.code,e.error.error)})},t.Object._getSubclass=function(e){if(!r.isString(e))throw new Error("AV.Object._getSubclass requires a string argument.");var n=t.Object._classMap[e];return n||(n=t.Object.extend(e),t.Object._classMap[e]=n),n},t.Object._create=function(e,n,i){return new(t.Object._getSubclass(e))(n,i)},t.Object._classMap={},t.Object._extend=t._extend,t.Object.new=function(e,n){return new t.Object(e,n)},t.Object.extend=function(e,n,i){if(!r.isString(e)){if(e&&r.has(e,"className"))return t.Object.extend(e.className,e,n);throw new Error("AV.Object.extend's first argument should be the className.")}"User"===e&&(e="_User");var o=null;if(r.has(t.Object._classMap,e)){var s=t.Object._classMap[e];if(!n&&!i)return s;o=s._extend(n,i)}else n=n||{},n._className=e,o=this._extend(n,i);return o.extend=function(n){if(r.isString(n)||n&&r.has(n,"className"))return t.Object.extend.apply(o,arguments);var i=[e].concat(r.toArray(arguments));return t.Object.extend.apply(o,i)},Object.defineProperty(o,"query",Object.getOwnPropertyDescriptor(t.Object,"query")),o.new=function(t,e){return new o(t,e)},t.Object._classMap[e]=o,o},Object.defineProperty(t.Object.prototype,"className",{get:function(){var t=this._className||this.constructor._LCClassName||this.constructor.name;return"User"===t?"_User":t}}),t.Object.register=function(e,n){if(!(e.prototype instanceof t.Object))throw new Error("registered class is not a subclass of AV.Object");var i=n||e.name;if(!i.length)throw new Error("registered class must be named");n&&(e._LCClassName=n),t.Object._classMap[i]=e},Object.defineProperty(t.Object,"query",{get:function(){return new t.Query(this.prototype.className)}}),t.Object._findUnsavedChildren=function(e,n,i){t._traverse(e,function(e){return e instanceof t.Object?void(e._dirty()&&n.push(e)):e instanceof t.File?void(e.url()||e.id||i.push(e)):void 0})},t.Object._canBeSerializedAsValue=function(e){var n=!0;return e instanceof t.Object||e instanceof t.File?n=!!e.id:r.isArray(e)?t._arrayEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(n=!1)}):r.isObject(e)&&t._objectEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(n=!1)}),n},t.Object._deepSaveAsync=function(e,n,i){var s=[],u=[];t.Object._findUnsavedChildren(e,s,u);var l=t.Promise.resolve();r.each(u,function(t){l=l.then(function(){return t.save()})});var c=r.uniq(s),h=r.uniq(c);return l.then(function(){return t.Promise._continueWhile(function(){return h.length>0},function(){var e=[],n=[];if(t._arrayEach(h,function(t){if(e.length>20)return void n.push(t);t._canBeSerialized()?e.push(t):n.push(t)}),h=n,0===e.length)return t.Promise.reject(new o(o.OTHER_CAUSE,"Tried to save a batch with a cycle."));var s=t.Promise.resolve(r.map(e,function(e){return e._allPreviousSaves||t.Promise.resolve()})),u=s.then(function(){return a("batch",null,null,"POST",{requests:r.map(e,function(t){var e=t.id?"PUT":"POST",n=t._getSaveJSON();r.extend(n,t._flags);var i=t.className,o="/classes/"+i;"_User"!==t.className||t.id||(o="/users");var o="/1.1"+o;return t.id&&(o=o+"/"+t.id),t._startSave(),{method:e,path:o,body:n}})},i).then(function(t){var n=r.map(e,function(e,n){return t[n].success?(e._finishSave(e.parse(t[n].success)),e):(e._cancelSave(),new o(t[n].error.code,t[n].error.error))});return _(n)})});return t._arrayEach(e,function(t){t._allPreviousSaves=u}),u})}).then(function(){return e})}}},function(t,e,n){var i=n(0);t.exports=function(t){t.Op=function(){this._initialize.apply(this,arguments)},i.extend(t.Op.prototype,{_initialize:function(){}}),i.extend(t.Op,{_extend:t._extend,_opDecoderMap:{},_registerDecoder:function(e,n){t.Op._opDecoderMap[e]=n},_decode:function(e){var n=t.Op._opDecoderMap[e.__op];return n?n(e):void 0}}),t.Op._registerDecoder("Batch",function(e){var n=null;return t._arrayEach(e.ops,function(e){e=t.Op._decode(e),n=e._mergeWithPrevious(n)}),n}),t.Op.Set=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return t._encode(this.value())},_mergeWithPrevious:function(t){return this},_estimate:function(t){return this.value()}}),t.Op._UNSET={},t.Op.Unset=t.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(t){return this},_estimate:function(e){return t.Op._UNSET}}),t.Op._registerDecoder("Delete",function(e){return new t.Op.Unset}),t.Op.Increment=t.Op._extend({_initialize:function(t){this._amount=t},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.amount());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()+this.amount());if(e instanceof t.Op.Increment)return new t.Op.Increment(this.amount()+e.amount());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t?t+this.amount():this.amount()}}),t.Op._registerDecoder("Increment",function(e){return new t.Op.Increment(e.amount)}),t.Op.BitAnd=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitAnd",value:this.value()}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(0);if(e instanceof t.Op.Set)return new t.Op.Set(e.value()&this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t&this.value()}}),t.Op._registerDecoder("BitAnd",function(e){return new t.Op.BitAnd(e.value)}),t.Op.BitOr=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitOr",value:this.value()}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.value());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()|this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t|this.value()}}),t.Op._registerDecoder("BitOr",function(e){return new t.Op.BitOr(e.value)}),t.Op.BitXor=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitXor",value:this.value()}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.value());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()^this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t^this.value()}}),t.Op._registerDecoder("BitXor",function(e){return new t.Op.BitXor(e.value)}),t.Op.Add=t.Op._extend({_initialize:function(t){this._objects=t},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Add)return new t.Op.Add(e.objects().concat(this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t?t.concat(this.objects()):i.clone(this.objects())}}),t.Op._registerDecoder("Add",function(e){return new t.Op.Add(t._decode(e.objects))}),t.Op.AddUnique=t.Op._extend({_initialize:function(t){this._objects=i.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.AddUnique)return new t.Op.AddUnique(this._estimate(e.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){if(e){var n=i.clone(e);return t._arrayEach(this.objects(),function(e){if(e instanceof t.Object&&e.id){var r=i.find(n,function(n){return n instanceof t.Object&&n.id===e.id});if(r){var o=i.indexOf(n,r);n[o]=e}else n.push(e)}else i.contains(n,e)||n.push(e)}),n}return i.clone(this.objects())}}),t.Op._registerDecoder("AddUnique",function(e){return new t.Op.AddUnique(t._decode(e.objects))}),t.Op.Remove=t.Op._extend({_initialize:function(t){this._objects=i.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return e;if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Remove)return new t.Op.Remove(i.union(e.objects(),this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){if(e){var n=i.difference(e,this.objects());return t._arrayEach(this.objects(),function(e){e instanceof t.Object&&e.id&&(n=i.reject(n,function(n){return n instanceof t.Object&&n.id===e.id}))}),n}return[]}}),t.Op._registerDecoder("Remove",function(e){return new t.Op.Remove(t._decode(e.objects))}),t.Op.Relation=t.Op._extend({_initialize:function(e,n){this._targetClassName=null;var r=this,o=function(e){if(e instanceof t.Object){if(!e.id)throw new Error("You can't add an unsaved AV.Object to a relation.");if(r._targetClassName||(r._targetClassName=e.className),r._targetClassName!==e.className)throw new Error("Tried to create a AV.Relation with 2 different types: "+r._targetClassName+" and "+e.className+".");return e.id}return e};this.relationsToAdd=i.uniq(i.map(e,o)),this.relationsToRemove=i.uniq(i.map(n,o))},added:function(){var e=this;return i.map(this.relationsToAdd,function(n){var i=t.Object._create(e._targetClassName);return i.id=n,i})},removed:function(){var e=this;return i.map(this.relationsToRemove,function(n){var i=t.Object._create(e._targetClassName);return i.id=n,i})},toJSON:function(){var t=null,e=null,n=this,r=function(t){return{__type:"Pointer",className:n._targetClassName,objectId:t}},o=null;return this.relationsToAdd.length>0&&(o=i.map(this.relationsToAdd,r),t={__op:"AddRelation",objects:o}),this.relationsToRemove.length>0&&(o=i.map(this.relationsToRemove,r),e={__op:"RemoveRelation",objects:o}),t&&e?{__op:"Batch",ops:[t,e]}:t||e||{}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)throw new Error("You can't modify a relation after deleting it.");if(e instanceof t.Op.Relation){if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+e._targetClassName+", but "+this._targetClassName+" was passed in.");var n=i.union(i.difference(e.relationsToAdd,this.relationsToRemove),this.relationsToAdd),r=i.union(i.difference(e.relationsToRemove,this.relationsToAdd),this.relationsToRemove),o=new t.Op.Relation(n,r);return o._targetClassName=this._targetClassName,o}throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e,n,i){if(e){if(e instanceof t.Relation){if(this._targetClassName)if(e.targetClassName){if(e.targetClassName!==this._targetClassName)throw new Error("Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in.")}else e.targetClassName=this._targetClassName;return e}throw new Error("Op is invalid after previous op.")}new t.Relation(n,i).targetClassName=this._targetClassName}}),t.Op._registerDecoder("AddRelation",function(e){return new t.Op.Relation(t._decode(e.objects),[])}),t.Op._registerDecoder("RemoveRelation",function(e){return new t.Op.Relation([],t._decode(e.objects))})}},function(t,e,n){},function(t,e,n){var i=n(2).request;t.exports=function(t){t.Installation=t.Object.extend("_Installation"),t.Push=t.Push||{},t.Push.send=function(t,e){if(t.where&&(t.where=t.where.toJSON().where),t.where&&t.cql)throw new Error("Both where and cql can't be set");if(t.push_time&&(t.push_time=t.push_time.toJSON()),t.expiration_time&&(t.expiration_time=t.expiration_time.toJSON()),t.expiration_time&&t.expiration_time_interval)throw new Error("Both expiration_time and expiration_time_interval can't be set");return i({service:"push",method:"POST",path:"/push",data:t,authOptions:e})}}},function(t,e,n){var i=n(0),r=n(6)("leancloud:query"),o=n(1),s=n(4),a=n(2),u=a._request,l=a.request,c=n(3),h=c.ensureArray,f=c.transformFetchOptions,p=function(t,e){if(void 0===t)throw new Error(e)};t.exports=function(t){t.Query=function(e){i.isString(e)&&(e=t.Object._getSubclass(e)),this.objectClass=e,this.className=e.prototype.className,this._where={},this._include=[],this._select=[],this._limit=-1,this._skip=0,this._extraOptions={}},t.Query.or=function(){var e=i.toArray(arguments),n=null;t._arrayEach(e,function(t){if(i.isNull(n)&&(n=t.className),n!==t.className)throw new Error("All queries must be for the same class")});var r=new t.Query(n);return r._orQuery(e),r},t.Query.and=function(){var e=i.toArray(arguments),n=null;t._arrayEach(e,function(t){if(i.isNull(n)&&(n=t.className),n!==t.className)throw new Error("All queries must be for the same class")});var r=new t.Query(n);return r._andQuery(e),r},t.Query.doCloudQuery=function(e,n,r){var o={cql:e};return i.isArray(n)?o.pvalues=n:r=n,u("cloudQuery",null,null,"GET",o,r).then(function(e){var n=new t.Query(e.className);return{results:i.map(e.results,function(t){var i=n._newObject(e);return i._finishFetch&&i._finishFetch(n._processResult(t),!0),i}),count:e.count,className:e.className}})},t.Query._extend=t._extend,i.extend(t.Query.prototype,{_processResult:function(t){return t},get:function(t,e){if(!t)throw new s(s.OBJECT_NOT_FOUND,"Object not found.");var n=this._newObject();n.id=t;var r=this.toJSON(),o={};return r.keys&&(o.keys=r.keys),r.include&&(o.include=r.include),r.includeACL&&(o.includeACL=r.includeACL),u("classes",this.className,t,"GET",f(o),e).then(function(t){if(i.isEmpty(t))throw new s(s.OBJECT_NOT_FOUND,"Object not found.");return n._finishFetch(n.parse(t),!0),n})},toJSON:function(){var e={where:this._where};return this._include.length>0&&(e.include=this._include.join(",")),this._select.length>0&&(e.keys=this._select.join(",")),void 0!==this._includeACL&&(e.returnACL=this._includeACL),this._limit>=0&&(e.limit=this._limit),this._skip>0&&(e.skip=this._skip),void 0!==this._order&&(e.order=this._order),t._objectEach(this._extraOptions,function(t,n){e[n]=t}),e},_newObject:function(e){return e&&e.className?new t.Object(e.className):new this.objectClass},_createRequest:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toJSON(),e=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/classes/"+this.className;return encodeURIComponent(JSON.stringify(t)).length>2e3?l({path:"/batch",method:"POST",data:{requests:[{method:"GET",path:"/1.1"+n,params:t}]},authOptions:e}).then(function(t){var e=t[0];if(e.success)return e.success;var n=new Error(e.error.error||"Unknown batch error");throw n.code=e.error.code,n}):l({method:"GET",path:n,query:t,authOptions:e})},_parseResponse:function(t){var e=this;return i.map(t.results,function(n){var i=e._newObject(t);return i._finishFetch&&i._finishFetch(e._processResult(n),!0),i})},find:function(t){return this._createRequest(void 0,t).then(this._parseResponse.bind(this))},scan:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.orderedBy,s=e.batchSize,a=arguments[1],l=this.toJSON();r("scan %O",l),l.order&&(console.warn("The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan."),delete l.order),l.skip&&(console.warn("The skip option of the query is ignored for Query#scan."),delete l.skip),l.limit&&(console.warn("The limit option of the query is ignored for Query#scan."),delete l.limit),n&&(l.scan_key=n),s&&(l.limit=s);var c=o.resolve([]),h=void 0,f=!1;return{next:function(){return c=c.then(function(e){return f?[]:e.length>1?e:h||0===e.length?u("scan/classes",t.className,null,"GET",h?i.extend({},l,{cursor:h}):l,a).then(function(e){return h=e.cursor,t._parseResponse(e)}).then(function(t){return t.length||(f=!0),e.concat(t)}):(f=!0,e)}),c.then(function(t){return t.shift()}).then(function(t){return{value:t,done:f}})}}},destroyAll:function(e){return this.find(e).then(function(n){return t.Object.destroyAll(n,e)})},count:function(t){var e=this.toJSON();return e.limit=0,e.count=1,this._createRequest(e,t).then(function(t){return t.count})},first:function(t){var e=this,n=this.toJSON();return n.limit=1,this._createRequest(n,t).then(function(t){return i.map(t.results,function(t){var n=e._newObject();return n._finishFetch&&n._finishFetch(e._processResult(t),!0),n})[0]})},skip:function(t){return p(t,"undefined is not a valid skip value"),this._skip=t,this},limit:function(t){return p(t,"undefined is not a valid limit value"),this._limit=t,this},equalTo:function(e,n){return p(e,"undefined is not a valid key"),p(n,"undefined is not a valid value"),this._where[e]=t._encode(n),this},_addCondition:function(e,n,i){return p(e,"undefined is not a valid condition key"),p(n,"undefined is not a valid condition"),p(i,"undefined is not a valid condition value"),this._where[e]||(this._where[e]={}),this._where[e][n]=t._encode(i),this},sizeEqualTo:function(t,e){this._addCondition(t,"$size",e)},notEqualTo:function(t,e){return this._addCondition(t,"$ne",e),this},lessThan:function(t,e){return this._addCondition(t,"$lt",e),this},greaterThan:function(t,e){return this._addCondition(t,"$gt",e),this},lessThanOrEqualTo:function(t,e){return this._addCondition(t,"$lte",e),this},greaterThanOrEqualTo:function(t,e){return this._addCondition(t,"$gte",e),this},containedIn:function(t,e){return this._addCondition(t,"$in",e),this},notContainedIn:function(t,e){return this._addCondition(t,"$nin",e),this},containsAll:function(t,e){return this._addCondition(t,"$all",e),this},exists:function(t){return this._addCondition(t,"$exists",!0),this},doesNotExist:function(t){return this._addCondition(t,"$exists",!1),this},matches:function(t,e,n){return this._addCondition(t,"$regex",e),n||(n=""),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&n.length&&this._addCondition(t,"$options",n),this},matchesQuery:function(t,e){var n=e.toJSON();return n.className=e.className,this._addCondition(t,"$inQuery",n),this},doesNotMatchQuery:function(t,e){var n=e.toJSON();return n.className=e.className,this._addCondition(t,"$notInQuery",n),this},matchesKeyInQuery:function(t,e,n){var i=n.toJSON();return i.className=n.className,this._addCondition(t,"$select",{key:e,query:i}),this},doesNotMatchKeyInQuery:function(t,e,n){var i=n.toJSON();return i.className=n.className,this._addCondition(t,"$dontSelect",{key:e,query:i}),this},_orQuery:function(t){var e=i.map(t,function(t){return t.toJSON().where});return this._where.$or=e,this},_andQuery:function(t){var e=i.map(t,function(t){return t.toJSON().where});return this._where.$and=e,this},_quote:function(t){return"\\Q"+t.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(t,e){return this._addCondition(t,"$regex",this._quote(e)),this},startsWith:function(t,e){return this._addCondition(t,"$regex","^"+this._quote(e)),this},endsWith:function(t,e){return this._addCondition(t,"$regex",this._quote(e)+"$"),this},ascending:function(t){return p(t,"undefined is not a valid key"),this._order=t,this},addAscending:function(t){return p(t,"undefined is not a valid key"),this._order?this._order+=","+t:this._order=t,this},descending:function(t){return p(t,"undefined is not a valid key"),this._order="-"+t,this},addDescending:function(t){return p(t,"undefined is not a valid key"),this._order?this._order+=",-"+t:this._order="-"+t,this},near:function(e,n){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),this._addCondition(e,"$nearSphere",n),this},withinRadians:function(t,e,n){return this.near(t,e),this._addCondition(t,"$maxDistance",n),this},withinMiles:function(t,e,n){return this.withinRadians(t,e,n/3958.8)},withinKilometers:function(t,e,n){return this.withinRadians(t,e,n/6371)},withinGeoBox:function(e,n,i){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),i instanceof t.GeoPoint||(i=new t.GeoPoint(i)),this._addCondition(e,"$within",{$box:[n,i]}),this},include:function(t){var e=this;return p(t,"undefined is not a valid key"),i(arguments).forEach(function(t){e._include=e._include.concat(h(t))}),this},includeACL:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._includeACL=t,this},select:function(t){var e=this;return p(t,"undefined is not a valid key"),i(arguments).forEach(function(t){e._select=e._select.concat(h(t))}),this},each:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._order||this._skip||this._limit>=0){var r=new Error("Cannot iterate on a query with sort, skip, or limit.");return t.Promise.reject(r)}var o=new t.Query(this.objectClass);o._limit=n.batchSize||100,o._where=i.clone(this._where),o._include=i.clone(this._include),o.ascending("objectId");var s=!1;return t.Promise._continueWhile(function(){return!s},function(){return o.find(n).then(function(n){var r=t.Promise.resolve();return i.each(n,function(t){r=r.then(function(){return e(t)})}),r.then(function(){n.length>=o._limit?o.greaterThan("objectId",n[n.length-1].id):s=!0})})})},subscribe:function(e){return t.LiveQuery.init(this,e)}}),t.FriendShipQuery=t.Query._extend({_objectClass:t.User,_newObject:function(){return new t.User},_processResult:function(t){if(t&&t[this._friendshipTag]){var e=t[this._friendshipTag];return"Pointer"===e.__type&&"_User"===e.className&&(delete e.__type,delete e.className),e}return null}})}},function(t,e,n){var i=n(0);t.exports=function(t){t.Relation=function(t,e){if(!i.isString(e))throw new TypeError("key must be a string");this.parent=t,this.key=e,this.targetClassName=null},t.Relation.reverseQuery=function(e,n,i){var r=new t.Query(e);return r.equalTo(n,i._toPointer()),r},i.extend(t.Relation.prototype,{_ensureParentAndKey:function(t,e){if(this.parent=this.parent||t,this.key=this.key||e,this.parent!==t)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.key!==e)throw new Error("Internal Error. Relation retrieved from two different keys.")},add:function(e){i.isArray(e)||(e=[e]);var n=new t.Op.Relation(e,[]);this.parent.set(this.key,n),this.targetClassName=n._targetClassName},remove:function(e){i.isArray(e)||(e=[e]);var n=new t.Op.Relation([],e);this.parent.set(this.key,n),this.targetClassName=n._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var e,n;return this.targetClassName?(e=t.Object._getSubclass(this.targetClassName),n=new t.Query(e)):(e=t.Object._getSubclass(this.parent.className),n=new t.Query(e),n._extraOptions.redirectClassNameForKey=this.key),n._addCondition("$relatedTo","object",this.parent._toPointer()),n._addCondition("$relatedTo","key",this.key),n}})}},function(t,e,n){var i=n(0),r=n(4);t.exports=function(t){t.Role=t.Object.extend("_Role",{constructor:function(e,n){if(i.isString(e)?(t.Object.prototype.constructor.call(this,null,null),this.setName(e)):t.Object.prototype.constructor.call(this,e,n),n){if(!(n instanceof t.ACL))throw new TypeError("acl must be an instance of AV.ACL");this.setACL(n)}},getName:function(){return this.get("name")},setName:function(t,e){return this.set("name",t,e)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(e,n){if("name"in e&&e.name!==this.getName()){var o=e.name;if(this.id&&this.id!==e.objectId)return new r(r.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!i.isString(o))return new r(r.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(o))return new r(r.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return!!t.Object.prototype.validate&&t.Object.prototype.validate.call(this,e,n)}})}},function(t,e,n){var i=n(0),r=n(2)._request;t.exports=function(t){t.SearchSortBuilder=function(){this._sortFields=[]},i.extend(t.SearchSortBuilder.prototype,{_addField:function(t,e,n,i){var r={};return r[t]={order:e||"asc",mode:n||"avg",missing:"_"+(i||"last")},this._sortFields.push(r),this},ascending:function(t,e,n){return this._addField(t,"asc",e,n)},descending:function(t,e,n){return this._addField(t,"desc",e,n)},whereNear:function(t,e,n){n=n||{};var i={},r={lat:e.latitude,lon:e.longitude},o={order:n.order||"asc",mode:n.mode||"avg",unit:n.unit||"km"};return o[t]=r,i._geo_distance=o,this._sortFields.push(i),this},build:function(){return JSON.stringify(t._encode(this._sortFields))}}),t.SearchQuery=t.Query._extend({_sid:null,_hits:0,_queryString:null,_highlights:null,_sortBuilder:null,_createRequest:function(t,e){return r("search/select",null,null,"GET",t||this.toJSON(),e)},sid:function(t){return this._sid=t,this},queryString:function(t){return this._queryString=t,this},highlights:function(t){var e;return e=t&&i.isString(t)?arguments:t,this._highlights=e,this},sortBy:function(t){return this._sortBuilder=t,this},hits:function(){return this._hits||(this._hits=0),this._hits},_processResult:function(t){return delete t.className,delete t._app_url,delete t._deeplink,t},hasMore:function(){return!this._hitEnd},reset:function(){this._hitEnd=!1,this._sid=null,this._hits=0},find:function(){var t=this;return this._createRequest().then(function(e){return e.sid?(t._oldSid=t._sid,t._sid=e.sid):(t._sid=null,t._hitEnd=!0),t._hits=e.hits||0,i.map(e.results,function(n){n.className&&(e.className=n.className);var i=t._newObject(e);return i.appURL=n._app_url,i._finishFetch(t._processResult(n),!0),i})})},toJSON:function(){var e=t.SearchQuery.__super__.toJSON.call(this);if(delete e.where,this.className&&(e.clazz=this.className),this._sid&&(e.sid=this._sid),!this._queryString)throw new Error("Please set query string.");if(e.q=this._queryString,this._highlights&&(e.highlights=this._highlights.join(",")),this._sortBuilder&&e.order)throw new Error("sort and order can not be set at same time.");return this._sortBuilder&&(e.sort=this._sortBuilder.build()),e}})}},function(t,e,n){var i="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":s(t)},r=n(0),o=n(2)._request,a=n(3),u=a.getSessionToken;t.exports=function(t){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(e)?t.User._fetchUserBySessionToken(u(e)):t.User.currentAsync()},n=function(n){return e(n).then(function(e){return t.Object.createWithoutData("_User",e.id)._toPointer()})};t.Status=function(t,e){return this.data={},this.inboxType="default",this.query=null,t&&"object"===(void 0===t?"undefined":i(t))?this.data=t:(t&&(this.data.image=t),e&&(this.data.message=e)),this},r.extend(t.Status.prototype,{get:function(t){return this.data[t]},set:function(t,e){return this.data[t]=e,this},destroy:function(e){return this.id?o("statuses",null,this.id,"DELETE",e):t.Promise.reject(new Error("The status id is not exists."))},toObject:function(){return this.id?t.Object.createWithoutData("_Status",this.id):null},_getDataJSON:function(){var e=r.clone(this.data);return t._encode(e)},send:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!u(i)&&!t.User.current())throw new Error("Please signin an user.");return this.query?n(i).then(function(t){var n=e.query.toJSON();n.className=e.query.className;var r={};return r.query=n,e.data=e.data||{},e.data.source=e.data.source||t,r.data=e._getDataJSON(),r.inboxType=e.inboxType||"default",o("statuses",null,null,"POST",r,i)}).then(function(n){return e.id=n.objectId,e.createdAt=t._parseDate(n.createdAt),e}):t.Status.sendStatusToFollowers(this,i)},_finishFetch:function(e){this.id=e.objectId,this.createdAt=t._parseDate(e.createdAt),this.updatedAt=t._parseDate(e.updatedAt),this.messageId=e.messageId,delete e.messageId,delete e.objectId,delete e.createdAt,delete e.updatedAt,this.data=t._decode(e)}}),t.Status.sendStatusToFollowers=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!u(i)&&!t.User.current())throw new Error("Please signin an user.");return n(i).then(function(n){var r={};r.className="_Follower",r.keys="follower",r.where={user:n};var s={};return s.query=r,e.data=e.data||{},e.data.source=e.data.source||n,s.data=e._getDataJSON(),s.inboxType=e.inboxType||"default",o("statuses",null,null,"POST",s,i).then(function(n){return e.id=n.objectId,e.createdAt=t._parseDate(n.createdAt),e})})},t.Status.sendPrivateStatus=function(e,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!u(s)&&!t.User.current())throw new Error("Please signin an user.");if(!i)throw new Error("Invalid target user.");var a=r.isString(i)?i:i.id;if(!a)throw new Error("Invalid target user.");return n(s).then(function(n){var i={};i.className="_User",i.where={objectId:a};var r={};return r.query=i,e.data=e.data||{},e.data.source=e.data.source||n,r.data=e._getDataJSON(),r.inboxType="private",e.inboxType="private",o("statuses",null,null,"POST",r,s).then(function(n){return e.id=n.objectId,e.createdAt=t._parseDate(n.createdAt),e})})},t.Status.countUnreadStatuses=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.isString(i)||(s=i),!u(s)&&null==n&&!t.User.current())throw new Error("Please signin an user or pass the owner objectId.");return e(s).then(function(e){var n={};return n.inboxType=t._encode(i),n.owner=t._encode(e),o("subscribe/statuses/count",null,null,"GET",n,s)})},t.Status.resetUnreadCount=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.isString(i)||(s=i),!u(s)&&null==n&&!t.User.current())throw new Error("Please signin an user or pass the owner objectId.");return e(s).then(function(e){var n={};return n.inboxType=t._encode(i),n.owner=t._encode(e),o("subscribe/statuses/resetUnreadCount",null,null,"POST",n,s)})},t.Status.statusQuery=function(e){var n=new t.Query("_Status");return e&&n.equalTo("source",e),n},t.InboxQuery=t.Query._extend({_objectClass:t.Status,_sinceId:0,_maxId:0,_inboxType:"default",_owner:null,_newObject:function(){return new t.Status},_createRequest:function(e,n){return t.InboxQuery.__super__._createRequest.call(this,e,n,"/subscribe/statuses")},sinceId:function(t){return this._sinceId=t,this},maxId:function(t){return this._maxId=t,this},owner:function(t){return this._owner=t,this},inboxType:function(t){return this._inboxType=t,this},toJSON:function(){var e=t.InboxQuery.__super__.toJSON.call(this);return e.owner=t._encode(this._owner),e.inboxType=t._encode(this._inboxType),e.sinceId=t._encode(this._sinceId),e.maxId=t._encode(this._maxId),e}}),t.Status.inboxQuery=function(e,n){var i=new t.InboxQuery(t.Status);return e&&(i._owner=e),n&&(i._inboxType=n),i}}},function(t,e,n){var i=n(0),r=n(4),o=n(2),s=o._request,a=o.request,u=n(1),l=function(){if("undefined"==typeof wx||"function"!=typeof wx.login)throw new Error("Weapp Login is only available in Weapp");return new u(function(t,e){wx.login({success:function(n){var i=n.code,r=n.errMsg;i?t(i):e(new Error(r))},fail:function(){return e(new Error("wx.login \u5931\u8d25"))}})})};t.exports=function(t){t.User=t.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(e){return e.sessionToken&&(this._sessionToken=e.sessionToken,delete e.sessionToken),t.User.__super__._mergeMagicFields.call(this,e)},_cleanupAuthData:function(){if(this.isCurrent()){var e=this.get("authData");e&&t._objectEach(this.get("authData"),function(t,n){e[n]||delete e[n]})}},_synchronizeAllAuthData:function(){if(this.get("authData")){var e=this;t._objectEach(this.get("authData"),function(t,n){e._synchronizeAuthData(n)})}},_synchronizeAuthData:function(e){if(this.isCurrent()){var n;i.isString(e)?(n=e,e=t.User._authProviders[n]):n=e.getAuthType();var r=this.get("authData");r&&e&&(e.restoreAuthentication(r[n])||this.dissociateAuthData(e))}},_handleSaveResult:function(e){return e&&!t._config.disableCurrentUser&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),!e&&!this.isCurrent()||t._config.disableCurrentUser?u.resolve():u.resolve(t.User._saveCurrentUser(this))},_linkWith:function(e,n){var r,o=this;if(i.isString(e)?(r=e,e=t.User._authProviders[e]):r=e.getAuthType(),n){var s=this.get("authData")||{};return s[r]=n,this.save({authData:s}).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})}return e.authenticate().then(function(t){return o._linkWith(e,t)})},associateWithAuthData:function(t,e){return this._linkWith(e,t)},linkWithWeapp:function(){var t=this;return l().then(function(e){return t._linkWith("lc_weapp",{code:e})})},dissociateAuthData:function(e){var n=this;return i.isString(e)&&(e=t.User._authProviders[e]),this._linkWith(e,null).then(function(t){return n._synchronizeAuthData(e),t})},_unlinkFrom:function(t){return console.warn("DEPRECATED: User#_unlinkFrom \u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528 User#dissociateAuthData \u4ee3\u66ff"),this.dissociateAuthData(t)},_isLinked:function(t){var e;return e=i.isString(t)?t:t.getAuthType(),!!(this.get("authData")||{})[e]},logOut:function(){this._logOutWithAll(),this._isCurrentUser=!1},_logOutWithAll:function(){if(this.get("authData")){var e=this;t._objectEach(this.get("authData"),function(t,n){e._logOutWith(n)})}},_logOutWith:function(e){this.isCurrent()&&(i.isString(e)&&(e=t.User._authProviders[e]),e&&e.deauthenticate&&e.deauthenticate())},signUp:function(t,e){var n=t&&t.username||this.get("username");if(!n||""===n)throw new r(r.OTHER_CAUSE,"Cannot sign up user with an empty name.");var i=t&&t.password||this.get("password");if(!i||""===i)throw new r(r.OTHER_CAUSE,"Cannot sign up user with an empty password.");return this.save(t,e).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})},signUpOrlogInWithMobilePhone:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t&&t.mobilePhoneNumber||this.get("mobilePhoneNumber");if(!n||""===n)throw new r(r.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber with an empty mobilePhoneNumber.");var i=t&&t.smsCode||this.get("smsCode");if(!i||""===i)throw new r(r.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber  with an empty smsCode.");return e._makeRequest=function(t,e,n,i,r){return s("usersByMobilePhone",null,null,"POST",r)},this.save(t,e).then(function(t){return delete t.attributes.smsCode,delete t._serverData.smsCode,t._handleSaveResult(!0).then(function(){return t})})},logIn:function(){var t=this;return s("login",null,null,"POST",this.toJSON()).then(function(e){var n=t.parse(e);return t._finishFetch(n),t._handleSaveResult(!0).then(function(){return n.smsCode||delete t.attributes.smsCode,t})})},save:function(e,n,r){var o,s;return i.isObject(e)||i.isNull(e)||i.isUndefined(e)?(o=e,s=n):(o={},o[e]=n,s=r),s=s||{},t.Object.prototype.save.call(this,o,s).then(function(t){return t._handleSaveResult(!1).then(function(){return t})})},follow:function(e,n){if(!this.id)throw new Error("Please signin.");var r=void 0,o=void 0;e.user?(r=e.user,o=e.attributes):r=e;var a=i.isString(r)?r:r.id;if(!a)throw new Error("Invalid target user.");var u="users/"+this.id+"/friendship/"+a;return s(u,null,null,"POST",t._encode(o),n)},unfollow:function(t,e){if(!this.id)throw new Error("Please signin.");var n=void 0;n=t.user?t.user:t;var r=i.isString(n)?n:n.id;if(!r)throw new Error("Invalid target user.");var o="users/"+this.id+"/friendship/"+r;return s(o,null,null,"DELETE",null,e)},followerQuery:function(){return t.User.followerQuery(this.id)},followeeQuery:function(){return t.User.followeeQuery(this.id)},fetch:function(e,n){return t.Object.prototype.fetch.call(this,e,n).then(function(t){return t._handleSaveResult(!1).then(function(){return t})})},updatePassword:function(t,e,n){var i="users/"+this.id+"/updatePassword";return s(i,null,null,"PUT",{old_password:t,new_password:e},n)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},getMobilePhoneNumber:function(){return this.get("mobilePhoneNumber")},setMobilePhoneNumber:function(t,e){return this.set("mobilePhoneNumber",t,e)},setUsername:function(t,e){return this.set("username",t,e)},setPassword:function(t,e){return this.set("password",t,e)},getEmail:function(){return this.get("email")},setEmail:function(t,e){return this.set("email",t,e)},authenticated:function(){return console.warn("DEPRECATED: \u5982\u679c\u8981\u5224\u65ad\u5f53\u524d\u7528\u6237\u7684\u767b\u5f55\u72b6\u6001\u662f\u5426\u6709\u6548\uff0c\u8bf7\u4f7f\u7528 currentUser.isAuthenticated().then()\uff0c\u5982\u679c\u8981\u5224\u65ad\u8be5\u7528\u6237\u662f\u5426\u662f\u5f53\u524d\u767b\u5f55\u7528\u6237\uff0c\u8bf7\u4f7f\u7528 user.id === currentUser.id\u3002"),!!this._sessionToken&&!t._config.disableCurrentUser&&t.User.current()&&t.User.current().id===this.id},isAuthenticated:function(){var e=this;return u.resolve().then(function(){return!!e._sessionToken&&t.User._fetchUserBySessionToken(e._sessionToken).then(function(){return!0},function(t){if(211===t.code)return!1;throw t})})},getSessionToken:function(){return this._sessionToken},refreshSessionToken:function(t){var e=this;return s("users/"+this.id+"/refreshSessionToken",null,null,"PUT",null,t).then(function(t){return e._finishFetch(t),e._handleSaveResult(!0).then(function(){return e})})},getRoles:function(e){return t.Relation.reverseQuery("_Role","users",this).find(e)}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(e,n,i,r){return i=i||{},i.username=e,i.password=n,t.Object._create("_User").signUp(i,r)},logIn:function(e,n,i){var r=t.Object._create("_User");return r._finishFetch({username:e,password:n}),r.logIn(i)},become:function(t){return this._fetchUserBySessionToken(t).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})},_fetchUserBySessionToken:function(e){var n=t.Object._create("_User");return a({method:"GET",path:"/users/me",authOptions:{sessionToken:e}}).then(function(t){var e=n.parse(t);return n._finishFetch(e),n})},logInWithMobilePhoneSmsCode:function(e,n,i){var r=t.Object._create("_User");return r._finishFetch({mobilePhoneNumber:e,smsCode:n}),r.logIn(i)},signUpOrlogInWithMobilePhone:function(e,n,i,r){return i=i||{},i.mobilePhoneNumber=e,i.smsCode=n,t.Object._create("_User").signUpOrlogInWithMobilePhone(i,r)},logInWithMobilePhone:function(e,n,i){var r=t.Object._create("_User");return r._finishFetch({mobilePhoneNumber:e,password:n}),r.logIn(i)},signUpOrlogInWithAuthData:function(e,n){return t.User._logInWith(n,e)},loginWithWeapp:function(){var t=this;return l().then(function(e){return t.signUpOrlogInWithAuthData({code:e},"lc_weapp")})},associateWithAuthData:function(t,e,n){return console.warn("DEPRECATED: User.associateWithAuthData \u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528 User#dissociateAuthData \u4ee3\u66ff"),t._linkWith(e,n)},logOut:function(){return t._config.disableCurrentUser?(console.warn("AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),u.resolve(null)):(null!==t.User._currentUser&&(t.User._currentUser._logOutWithAll(),t.User._currentUser._isCurrentUser=!1),t.User._currentUserMatchesDisk=!0,t.User._currentUser=null,t.localStorage.removeItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY)).then(function(){return t._refreshSubscriptionId()}))},followerQuery:function(e){if(!e||!i.isString(e))throw new Error("Invalid user object id.");var n=new t.FriendShipQuery("_Follower");return n._friendshipTag="follower",n.equalTo("user",t.Object.createWithoutData("_User",e)),n},followeeQuery:function(e){if(!e||!i.isString(e))throw new Error("Invalid user object id.");var n=new t.FriendShipQuery("_Followee");return n._friendshipTag="followee",n.equalTo("user",t.Object.createWithoutData("_User",e)),n},requestPasswordReset:function(t){return s("requestPasswordReset",null,null,"POST",{email:t})},requestEmailVerify:function(t){return s("requestEmailVerify",null,null,"POST",{email:t})},requestMobilePhoneVerify:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mobilePhoneNumber:t};return e.validateToken&&(n.validate_token=e.validateToken),s("requestMobilePhoneVerify",null,null,"POST",n,e)},requestPasswordResetBySmsCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mobilePhoneNumber:t};return e.validateToken&&(n.validate_token=e.validateToken),s("requestPasswordResetBySmsCode",null,null,"POST",n,e)},resetPasswordBySmsCode:function(t,e){return s("resetPasswordBySmsCode",null,t,"PUT",{password:e})},verifyMobilePhone:function(t){return s("verifyMobilePhone",null,t,"POST",null)},requestLoginSmsCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mobilePhoneNumber:t};return e.validateToken&&(n.validate_token=e.validateToken),s("requestLoginSmsCode",null,null,"POST",n,e)},currentAsync:function(){return t._config.disableCurrentUser?(console.warn("AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),u.resolve(null)):t.User._currentUser?u.resolve(t.User._currentUser):t.User._currentUserMatchesDisk?u.resolve(t.User._currentUser):t.localStorage.getItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY)).then(function(e){if(!e)return null;t.User._currentUserMatchesDisk=!0,t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser})},current:function(){if(t._config.disableCurrentUser)return console.warn("AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),null;if(t.User._currentUser)return t.User._currentUser;if(t.User._currentUserMatchesDisk)return t.User._currentUser;t.User._currentUserMatchesDisk=!0;var e=t.localStorage.getItem(t._getAVPath(t.User._CURRENT_USER_KEY));if(!e)return null;t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser},_saveCurrentUser:function(e){var n;return n=t.User._currentUser!==e?t.User.logOut():u.resolve(),n.then(function(){e._isCurrentUser=!0,t.User._currentUser=e;var n=e.toJSON();return n._id=e.id,n._sessionToken=e._sessionToken,t.localStorage.setItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY),JSON.stringify(n)).then(function(){return t.User._currentUserMatchesDisk=!0,t._refreshSubscriptionId()})})},_registerAuthenticationProvider:function(e){t.User._authProviders[e.getAuthType()]=e,!t._config.disableCurrentUser&&t.User.current()&&t.User.current()._synchronizeAuthData(e.getAuthType())},_logInWith:function(e,n){return t.Object._create("_User")._linkWith(e,n)}})}},function(t,e,n){function i(t){var e=this;this.AV=t,this.lockedUntil=0,s.getAsync("serverURLs").then(function(t){if(!t)return e.lock(0);var n=t.serverURLs,i=t.lockedUntil;e.AV._setServerURLs(n,!1),e.lockedUntil=i}).catch(function(){return e.lock(0)})}var r=n(3),o=r.ajax,s=n(9);i.prototype.disable=function(){this.disabled=!0},i.prototype.lock=function(t){this.lockedUntil=Date.now()+t},i.prototype.refresh=function(){var t=this;if(!(this.disabled||Date.now()<this.lockedUntil))return this.lock(10),o({method:"get",url:"https://app-router.leancloud.cn/2/route",query:{appId:this.AV.applicationId}}).then(function(e){if(!t.disabled){var n=e.ttl;if(!n)throw new Error("missing ttl");n*=1e3;var i={push:"https://"+e.push_server,stats:"https://"+e.stats_server,engine:"https://"+e.engine_server,api:"https://"+e.api_server};return t.AV._setServerURLs(i,!1),t.lock(n),s.setAsync("serverURLs",{serverURLs:i,lockedUntil:t.lockedUntil},n)}}).catch(function(e){console.warn("refresh server URLs failed: "+e.message),t.lock(600)})},t.exports=i},function(t,e,n){n(26);var i=n(5);i._=n(0),i.version=n(11),i.Promise=n(1),i.localStorage=n(10),i.Cache=n(9),i.Error=n(4),n(21),n(18)(i),n(20)(i),n(14)(i),n(25)(i),n(29)(i),n(19)(i),n(24)(i),n(30)(i),n(33)(i),n(28)(i),n(23)(i),n(15)(i),n(16)(i),n(27)(i),n(32)(i),n(31)(i),n(22)(i),i.Conversation=n(17),t.exports=i},function(t,e,n){t.exports=[]},function(t,e,n){var i=n(11),r=["Browser"].concat(n(36));t.exports="LeanCloud-JS-SDK/"+i+" ("+r.join("; ")+")"},function(t,e,n){var i=n(7),r=n(6)("cos"),o=n(1);t.exports=function(t,e,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.attributes.url=t.url,n._bucket=t.bucket,n.id=t.objectId;var a=t.upload_url+"?sign="+encodeURIComponent(t.token);return new o(function(t,o){var u=i("POST",a).set(n._uploadHeaders).field("fileContent",e).field("op","upload");s.onprogress&&u.on("progress",s.onprogress),u.end(function(e,i){if(i&&r(i.status,i.body,i.text),e)return i&&(e.statusCode=i.status,e.responseText=i.text,e.response=i.body),o(e);t(n)})})}},function(t,e,n){var i=n(7),r=n(1),o=n(6)("qiniu");t.exports=function(t,e,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.attributes.url=t.url,n._bucket=t.bucket,n.id=t.objectId;var a=t.token,u=t.upload_url||"https://upload.qiniup.com";return new r(function(t,r){var l=i("POST",u).set(n._uploadHeaders).field("file",e).field("name",n.attributes.name).field("key",n._qiniu_key).field("token",a);s.onprogress&&l.on("progress",s.onprogress),l.end(function(e,i){if(i&&o(i.status,i.body,i.text),e)return i&&(e.statusCode=i.status,e.responseText=i.text,e.response=i.body),r(e);t(n)})})}},function(t,e,n){var i=n(7),r=n(1),o=function(t,e){return e&&(t.statusCode=e.status,t.responseText=e.text,t.response=e.body),t};t.exports=function(t,e,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n.attributes.url=t.url,n._bucket=t.bucket,n.id=t.objectId,new r(function(r,a){var u=i("PUT",t.upload_url).set(Object.assign({"Content-Type":n.get("mime_type"),"Cache-Control":"public, max-age=31536000"},n._uploadHeaders));s.onprogress&&u.on("progress",s.onprogress),u.on("response",function(t){if(t.ok)return r(n);a(o(t.error,t))}),u.on("error",function(t,e){return a(o(t,e))}),u.send(e).end()})}},function(t,e,n){(function(e){var i=n(0),r=(n(1),{}),o=["getItem","setItem","removeItem","clear"],s=e.localStorage;try{var a="__storejs__";if(s.setItem(a,a),s.getItem(a)!=a)throw new Error;s.removeItem(a)}catch(t){s=n(49)}i(o).each(function(t){r[t]=function(){return s[t].apply(s,arguments)}}),r.async=!1,t.exports=r}).call(e,n(8))},function(t,e,n){var i=function(t,e){var n;t.indexOf("base64")<0?n=atob(t):t.split(",")[0].indexOf("base64")>=0?(e=e||t.split(",")[0].split(":")[1].split(";")[0],n=atob(t.split(",")[1])):n=unescape(t.split(",")[1]);for(var i=new Uint8Array(n.length),r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return new Blob([i],{type:e})};t.exports=i},function(t,e,n){function i(t){if(t)return r(t)}function r(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],i=0;i<t.length;i+=3)for(var r=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)8*i+6*o<=8*t.length?n.push(e.charAt(r>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,r=0;i<t.length;r=++i%4)0!=r&&n.push((e.indexOf(t.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|e.indexOf(t.charAt(i))>>>6-2*r);return n}};t.exports=n}()},function(t,e,n){function i(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}function r(t){function n(){if(n.enabled){var t=n,i=+new Date,r=i-(l||i);t.diff=r,t.prev=l,t.curr=i,l=i;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=e.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;a++;var r=e.formatters[i];if("function"==typeof r){var s=o[a];n=r.call(t,s),o.splice(a,1),a--}return n}),e.formatArgs.call(t,o),(n.log||e.log||console.log.bind(console)).apply(t,o)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=i(t),"function"==typeof e.init&&e.init(n),n}function o(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length,r=0;r<i;r++)n[r]&&(t=n[r].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=r.debug=r.default=r,e.coerce=u,e.disable=s,e.enable=o,e.enabled=a,e.humanize=n(51),e.names=[],e.skips=[],e.formatters={};var l},function(e,n,i){(function(n){!function(n,i){e.exports=function(){function e(t){var e=void 0===t?"undefined":s(t);return null!==t&&("object"===e||"function"===e)}function r(t){return"function"==typeof t}function o(t){z=t}function a(t){V=t}function u(){return void 0!==Y?function(){Y(c)}:l()}function l(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<H;t+=2)(0,Z[t])(Z[t+1]),Z[t]=void 0,Z[t+1]=void 0;H=0}function h(t,e){var n=arguments,i=this,r=new this.constructor(p);void 0===r[et]&&I(r);var o=i._state;return o?function(){var t=n[o-1];V(function(){return P(o,r,t,i._result)})}():x(i,r,t,e),r}function f(t){var e=this;if(t&&"object"==(void 0===t?"undefined":s(t))&&t.constructor===e)return t;var n=new e(p);return b(n,t),n}function p(){}function _(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function g(t){try{return t.then}catch(t){return ot.error=t,ot}}function m(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}function v(t,e,n){V(function(t){var i=!1,r=m(n,e,function(n){i||(i=!0,e!==n?b(t,n):T(t,n))},function(e){i||(i=!0,S(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,S(t,r))},t)}function y(t,e){e._state===it?T(t,e._result):e._state===rt?S(t,e._result):x(e,void 0,function(e){return b(t,e)},function(e){return S(t,e)})}function $(t,e,n){e.constructor===t.constructor&&n===h&&e.constructor.resolve===f?y(t,e):n===ot?(S(t,ot.error),ot.error=null):void 0===n?T(t,e):r(n)?v(t,e,n):T(t,e)}function b(t,n){t===n?S(t,_()):e(n)?$(t,n,g(n)):T(t,n)}function w(t){t._onerror&&t._onerror(t._result),E(t)}function T(t,e){t._state===nt&&(t._result=e,t._state=it,0!==t._subscribers.length&&V(E,t))}function S(t,e){t._state===nt&&(t._state=rt,t._result=e,V(w,t))}function x(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+it]=n,r[o+rt]=i,0===o&&t._state&&V(E,t)}function E(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?P(n,i,r,o):r(o);t._subscribers.length=0}}function O(){this.error=null}function A(t,e){try{return t(e)}catch(t){return st.error=t,st}}function P(t,e,n,i){var o=r(n),s=void 0,a=void 0,u=void 0,l=void 0;if(o){if(s=A(n,i),s===st?(l=!0,a=s.error,s.error=null):u=!0,e===s)return void S(e,d())}else s=i,u=!0;e._state!==nt||(o&&u?b(e,s):l?S(e,a):t===it?T(e,s):t===rt&&S(e,s))}function L(t,e){try{e(function(e){b(t,e)},function(e){S(t,e)})}catch(e){S(t,e)}}function C(){return at++}function I(t){t[et]=at++,t._state=void 0,t._result=void 0,t._subscribers=[]}function M(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[et]||I(this.promise),q(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&T(this.promise,this._result))):S(this.promise,N())}function N(){return new Error("Array Methods must be provided an Array")}function D(t){return new M(this,t).promise}function R(t){var e=this;return new e(q(t)?function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function k(t){var e=this,n=new e(p);return S(n,t),n}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(t){this[et]=C(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&F(),this instanceof B?L(this,t):U())}function j(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=B}var G=void 0;G=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var q=G,H=0,Y=void 0,z=void 0,V=function(t,e){Z[H]=t,Z[H+1]=e,2===(H+=2)&&(z?z(c):tt())},W="undefined"!=typeof window?window:void 0,X=W||{},J=X.MutationObserver||X.WebKitMutationObserver,Q="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),K="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),tt=void 0;tt=Q?function(){return function(){return t.nextTick(c)}}():J?function(){var t=0,e=new J(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():K?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}():void 0===W?function(){try{var t=i(56);return Y=t.runOnLoop||t.runOnContext,u()}catch(t){return l()}}():l();var et=Math.random().toString(36).substring(16),nt=void 0,it=1,rt=2,ot=new O,st=new O,at=0;return M.prototype._enumerate=function(t){for(var e=0;this._state===nt&&e<t.length;e++)this._eachEntry(t[e],e)},M.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===f){var r=g(t);if(r===h&&t._state!==nt)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===B){var o=new n(p);$(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},M.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===nt&&(this._remaining--,t===rt?S(i,n):this._result[e]=n),0===this._remaining&&T(i,this._result)},M.prototype._willSettleAt=function(t,e){var n=this;x(t,void 0,function(t){return n._settledAt(it,e,t)},function(t){return n._settledAt(rt,e,t)})},B.all=D,B.race=R,B.resolve=f,B.reject=k,B._setScheduler=o,B._setAsap=a,B._asap=V,B.prototype={constructor:B,then:h,catch:function(t){return this.then(null,t)}},B.polyfill=j,B.Promise=B,B}()}()}).call(n,i(8))},function(t,e,n){function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){this._events=new i,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,a="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(a=!1)),o.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)s.call(t,e)&&n.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t,e){var n=a?a+t:t,i=this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=new Array(o);r<o;r++)s[r]=i[r].fn;return s},o.prototype.emit=function(t,e,n,i,r,o){var s=a?a+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,r),!0;case 6:return c.fn.call(c.context,e,n,i,r,o),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},o.prototype.on=function(t,e,n){var i=new r(e,n||this),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.once=function(t,e,n){var i=new r(e,n||this,!0),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.removeListener=function(t,e,n,r){var o=a?a+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new i:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new i:delete this._events[o]);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==e||r&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new i:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=a?a+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new i:delete this._events[e])):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,t.exports=o},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function i(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}t.exports=function(t){return null!=t&&(n(t)||i(t)||!!t._isBuffer)}},function(t,e,n){!function(e){var n={},i={};n.length=0,n.getItem=function(t){return i[t]||null},n.setItem=function(t,e){void 0===e?n.removeItem(t):(i.hasOwnProperty(t)||n.length++,i[t]=""+e)},n.removeItem=function(t){i.hasOwnProperty(t)&&(delete i[t],n.length--)},n.key=function(t){return Object.keys(i)[t]||null},n.clear=function(){i={},n.length=0},t.exports=n}()},function(t,e,n){!function(){var e=n(44),i=n(12).utf8,r=n(48),o=n(12).bin,s=function t(n,s){n.constructor==String?n=s&&"binary"===s.encoding?o.stringToBytes(n):i.stringToBytes(n):r(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());for(var a=e.bytesToWords(n),u=8*n.length,l=1732584193,c=-271733879,h=-1732584194,f=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[u>>>5]|=128<<u%32,a[14+(u+64>>>9<<4)]=u;for(var _=t._ff,d=t._gg,g=t._hh,m=t._ii,p=0;p<a.length;p+=16){var v=l,y=c,$=h,b=f;l=_(l,c,h,f,a[p+0],7,-680876936),f=_(f,l,c,h,a[p+1],12,-389564586),h=_(h,f,l,c,a[p+2],17,606105819),c=_(c,h,f,l,a[p+3],22,-1044525330),l=_(l,c,h,f,a[p+4],7,-176418897),f=_(f,l,c,h,a[p+5],12,1200080426),h=_(h,f,l,c,a[p+6],17,-1473231341),c=_(c,h,f,l,a[p+7],22,-45705983),l=_(l,c,h,f,a[p+8],7,1770035416),f=_(f,l,c,h,a[p+9],12,-1958414417),h=_(h,f,l,c,a[p+10],17,-42063),c=_(c,h,f,l,a[p+11],22,-1990404162),l=_(l,c,h,f,a[p+12],7,1804603682),f=_(f,l,c,h,a[p+13],12,-40341101),h=_(h,f,l,c,a[p+14],17,-1502002290),c=_(c,h,f,l,a[p+15],22,1236535329),l=d(l,c,h,f,a[p+1],5,-165796510),f=d(f,l,c,h,a[p+6],9,-1069501632),h=d(h,f,l,c,a[p+11],14,643717713),c=d(c,h,f,l,a[p+0],20,-373897302),l=d(l,c,h,f,a[p+5],5,-701558691),f=d(f,l,c,h,a[p+10],9,38016083),h=d(h,f,l,c,a[p+15],14,-660478335),c=d(c,h,f,l,a[p+4],20,-405537848),l=d(l,c,h,f,a[p+9],5,568446438),f=d(f,l,c,h,a[p+14],9,-1019803690),h=d(h,f,l,c,a[p+3],14,-187363961),c=d(c,h,f,l,a[p+8],20,1163531501),l=d(l,c,h,f,a[p+13],5,-1444681467),f=d(f,l,c,h,a[p+2],9,-51403784),h=d(h,f,l,c,a[p+7],14,1735328473),c=d(c,h,f,l,a[p+12],20,-1926607734),l=g(l,c,h,f,a[p+5],4,-378558),f=g(f,l,c,h,a[p+8],11,-2022574463),h=g(h,f,l,c,a[p+11],16,1839030562),c=g(c,h,f,l,a[p+14],23,-35309556),l=g(l,c,h,f,a[p+1],4,-1530992060),f=g(f,l,c,h,a[p+4],11,1272893353),h=g(h,f,l,c,a[p+7],16,-155497632),c=g(c,h,f,l,a[p+10],23,-1094730640),l=g(l,c,h,f,a[p+13],4,681279174),f=g(f,l,c,h,a[p+0],11,-358537222),h=g(h,f,l,c,a[p+3],16,-722521979),c=g(c,h,f,l,a[p+6],23,76029189),l=g(l,c,h,f,a[p+9],4,-640364487),f=g(f,l,c,h,a[p+12],11,-421815835),h=g(h,f,l,c,a[p+15],16,530742520),c=g(c,h,f,l,a[p+2],23,-995338651),l=m(l,c,h,f,a[p+0],6,-198630844),f=m(f,l,c,h,a[p+7],10,1126891415),h=m(h,f,l,c,a[p+14],15,-1416354905),c=m(c,h,f,l,a[p+5],21,-57434055),l=m(l,c,h,f,a[p+12],6,1700485571),f=m(f,l,c,h,a[p+3],10,-1894986606),h=m(h,f,l,c,a[p+10],15,-1051523),c=m(c,h,f,l,a[p+1],21,-2054922799),l=m(l,c,h,f,a[p+8],6,1873313359),f=m(f,l,c,h,a[p+15],10,-30611744),h=m(h,f,l,c,a[p+6],15,-1560198380),c=m(c,h,f,l,a[p+13],21,1309151649),l=m(l,c,h,f,a[p+4],6,-145523070),f=m(f,l,c,h,a[p+11],10,-1120210379),h=m(h,f,l,c,a[p+2],15,718787259),c=m(c,h,f,l,a[p+9],21,-343485551),l=l+v>>>0,c=c+y>>>0,h=h+$>>>0,f=f+b>>>0}return e.endian([l,c,h,f])};s._ff=function(t,e,n,i,r,o,s){var a=t+(e&n|~e&i)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},s._gg=function(t,e,n,i,r,o,s){var a=t+(e&i|n&~i)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},s._hh=function(t,e,n,i,r,o,s){var a=t+(e^n^i)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},s._ii=function(t,e,n,i,r,o,s){var a=t+(n^(e|~i))+(r>>>0)+s;return(a<<o|a>>>32-o)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var i=e.wordsToBytes(s(t,n));return n&&n.asBytes?i:n&&n.asString?o.bytesToString(i):e.bytesToHex(i)}}()},function(t,e){function n(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*h;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*l;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function i(t){return t>=c?Math.round(t/c)+"d":t>=l?Math.round(t/l)+"h":t>=u?Math.round(t/u)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function r(t){return o(t,c,"day")||o(t,l,"hour")||o(t,u,"minute")||o(t,a,"second")||t+" ms"}function o(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,u=60*a,l=60*u,c=24*l,h=365.25*c;t.exports=function(t,e){e=e||{};var o=void 0===t?"undefined":s(t);if("string"===o&&t.length>0)return n(t);if("number"===o&&!1===isNaN(t))return e.long?r(t):i(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){n.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),n.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},t.exports=n},function(t,e,n){function i(t){if(t)return r(t)}function r(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}var o=n(13);t.exports=i,i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},i.prototype.parse=function(t){return this._parser=t,this},i.prototype.responseType=function(t){return this._responseType=t,this},i.prototype.serialize=function(t){return this._serializer=t,this},i.prototype.timeout=function(t){if(!t||"object"!=(void 0===t?"undefined":s(t)))return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},i.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var a=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];i.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(!0===n)return!0;if(!1===n)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~a.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},i.prototype.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){n.end(function(n,i){n?e(n):t(i)})})}return this._fullfilledPromise.then(t,e)},i.prototype.catch=function(t){return this.then(void 0,t)},i.prototype.use=function(t){return t(this),this},i.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},i.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},i.prototype.get=function(t){return this._header[t.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(t,e){if(o(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},i.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},i.prototype.field=function(t,e){if(null===t||void 0===t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),o(t)){for(var n in t)this.field(n,t[n]);return this}if(Array.isArray(e)){for(var i in e)this.field(t,e[i]);return this}if(null===e||void 0===e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},i.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},i.prototype._auth=function(t,e,n,i){switch(n.type){case"basic":this.set("Authorization","Basic "+i(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},i.prototype.withCredentials=function(t){return void 0==t&&(t=!0),this._withCredentials=t,this},i.prototype.redirects=function(t){return this._maxRedirects=t,this},i.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(t){var e=o(t),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&o(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)},i.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},i.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.substring(e+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,e)+"?"+n.join("&")}}},i.prototype._appendQueryString=function(){console.trace("Unsupported")},i.prototype._timeoutError=function(t,e,n){if(!this._aborted){var i=new Error(t+e+"ms exceeded");i.timeout=e,i.code="ECONNABORTED",i.errno=n,this.timedout=!0,this.abort(),this.callback(i)}},i.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(t,e,n){function i(t){if(t)return r(t)}function r(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}var o=n(55);t.exports=i,i.prototype.get=function(t){return this.header[t.toLowerCase()]},i.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=o.type(e);var n=o.params(e);for(var i in n)this[i]=n[i];this.links={};try{t.link&&(this.links=o.parseLinks(t.link))}catch(t){}},i.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t}},function(t,e,n){e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce(function(t,e){var n=e.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(t[i]=r),t},{})},e.parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var n=e.split(/ *; */),i=n[0].slice(1,-1);return t[n[1].split(/ *= */)[1].slice(1,-1)]=i,t},{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&delete t.cookie,t}},function(t,e){}])})}).call(e,n(18),n(1)(t))},function(t,e,n){"use strict";function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function s(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){g&&_&&(g=!1,_.length?d=_.concat(d):m=-1,d.length&&u())}function u(){if(!g){var t=o(a);g=!0;for(var e=d.length;e;){for(_=d,d=[];++m<e;)_&&_[m].run();m=-1,e=d.length}_=null,g=!1,s(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var h,f,p=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(t){h=i}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var _,d=[],g=!1,m=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new l(t,e)),1!==d.length||g||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){"use strict";n(20),$(".post-share").share({disabled:["tencent","douban","linkedin","diandian","facebook","google"],wechatQrcodeTitle:"\u5fae\u4fe1\u626b\u4e00\u626b",wechatQrcodeHelper:"<p>\u5fae\u4fe1\u626b\u4e00\u626b\uff0c\u53f3\u4e0a\u89d2\u5206\u4eab</p>",source:CONFIG.site.title})},function(t,e,n){"use strict";var i,r,o;"function"==typeof Symbol&&Symbol.iterator;!function(t){function e(e,n,i,r){function o(t,e){return t-=r,e-=r,!(0>t||t>=a||0>e||e>=a)&&s.isDark(t,e)}var s=t(i,n);s.addData(e),s.make(),r=r||0;var a=s.getModuleCount(),u=s.getModuleCount()+2*r,l=function(t,e,n,i){var r=this.isDark,o=1/u;this.isDark=function(s,a){var u=a*o,l=s*o,c=u+o,h=l+o;return r(s,a)&&(t>c||u>n||e>h||l>i)}};this.text=e,this.level=n,this.version=i,this.moduleCount=u,this.isDark=o,this.addBlank=l}function n(t,n,i,r,o){i=Math.max(1,i||1),r=Math.min(40,r||40);for(var s=i;r>=s;s+=1)try{return new e(t,n,s,o)}catch(t){}}function i(t,e,n){var i=n.size,r="bold "+n.mSize*i+"px "+n.fontname,o=g("<canvas/>")[0].getContext("2d");o.font=r;var s=o.measureText(n.label).width,a=n.mSize,u=s/i,l=(1-u)*n.mPosX,c=(1-a)*n.mPosY,h=l+u,f=c+a,p=.01;1===n.mode?t.addBlank(0,c-p,i,f+p):t.addBlank(l-p,c-p,h+p,f+p),e.fillStyle=n.fontcolor,e.font=r,e.fillText(n.label,l*i,c*i+.75*n.mSize*i)}function r(t,e,n){var i=n.size,r=n.image.naturalWidth||1,o=n.image.naturalHeight||1,s=n.mSize,a=s*r/o,u=(1-a)*n.mPosX,l=(1-s)*n.mPosY,c=u+a,h=l+s,f=.01;3===n.mode?t.addBlank(0,l-f,i,h+f):t.addBlank(u-f,l-f,c+f,h+f),e.drawImage(n.image,u*i,l*i,a*i,s*i)}function o(t,e,n){g(n.background).is("img")?e.drawImage(n.background,0,0,n.size,n.size):n.background&&(e.fillStyle=n.background,e.fillRect(n.left,n.top,n.size,n.size));var o=n.mode;1===o||2===o?i(t,e,n):(3===o||4===o)&&r(t,e,n)}function s(t,e,n,i,r,o,s,a){t.isDark(s,a)&&e.rect(i,r,o,o)}function a(t,e,n,i,r,o,s,a,u,l){s?t.moveTo(e+o,n):t.moveTo(e,n),a?(t.lineTo(i-o,n),t.arcTo(i,n,i,r,o)):t.lineTo(i,n),u?(t.lineTo(i,r-o),t.arcTo(i,r,e,r,o)):t.lineTo(i,r),l?(t.lineTo(e+o,r),t.arcTo(e,r,e,n,o)):t.lineTo(e,r),s?(t.lineTo(e,n+o),t.arcTo(e,n,i,n,o)):t.lineTo(e,n)}function u(t,e,n,i,r,o,s,a,u,l){s&&(t.moveTo(e+o,n),t.lineTo(e,n),t.lineTo(e,n+o),t.arcTo(e,n,e+o,n,o)),a&&(t.moveTo(i-o,n),t.lineTo(i,n),t.lineTo(i,n+o),t.arcTo(i,n,i-o,n,o)),u&&(t.moveTo(i-o,r),t.lineTo(i,r),t.lineTo(i,r-o),t.arcTo(i,r,i-o,r,o)),l&&(t.moveTo(e+o,r),t.lineTo(e,r),t.lineTo(e,r-o),t.arcTo(e,r,e+o,r,o))}function l(t,e,n,i,r,o,s,l){var c=t.isDark,h=i+o,f=r+o,p=n.radius*o,_=s-1,d=s+1,g=l-1,m=l+1,v=c(s,l),y=c(_,g),$=c(_,l),b=c(_,m),w=c(s,m),T=c(d,m),S=c(d,l),x=c(d,g),E=c(s,g);v?a(e,i,r,h,f,p,!$&&!E,!$&&!w,!S&&!w,!S&&!E):u(e,i,r,h,f,p,$&&E&&y,$&&w&&b,S&&w&&T,S&&E&&x)}function c(t,e,n){var i,r,o=t.moduleCount,a=n.size/o,u=s;for(v&&n.radius>0&&n.radius<=.5&&(u=l),e.beginPath(),i=0;o>i;i+=1)for(r=0;o>r;r+=1){var c=n.left+r*a,h=n.top+i*a,f=a;u(t,e,n,c,h,f,i,r)}if(g(n.fill).is("img")){e.strokeStyle="rgba(0,0,0,0.5)",e.lineWidth=2,e.stroke();var p=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",e.fill(),e.globalCompositeOperation=p,e.clip(),e.drawImage(n.fill,0,0,n.size,n.size),e.restore()}else e.fillStyle=n.fill,e.fill()}function h(t,e){var i=n(e.text,e.ecLevel,e.minVersion,e.maxVersion,e.quiet);if(!i)return null;var r=g(t).data("qrcode",i),s=r[0].getContext("2d");return o(i,s,e),c(i,s,e),r}function f(t){return h(g("<canvas/>").attr("width",t.size).attr("height",t.size),t)}function p(t){return g("<img/>").attr("src",f(t)[0].toDataURL("image/png"))}function _(t){var e=n(t.text,t.ecLevel,t.minVersion,t.maxVersion,t.quiet);if(!e)return null;var i,r,o=t.size,s=t.background,a=Math.floor,u=e.moduleCount,l=a(o/u),c=a(.5*(o-l*u)),h={position:"relative",left:0,top:0,padding:0,margin:0,width:o,height:o},f={position:"absolute",padding:0,margin:0,width:l,height:l,"background-color":t.fill},p=g("<div/>").data("qrcode",e).css(h);for(s&&p.css("background-color",s),i=0;u>i;i+=1)for(r=0;u>r;r+=1)e.isDark(i,r)&&g("<div/>").css(f).css({left:c+r*l,top:c+i*l}).appendTo(p);return p}function d(t){return m&&"canvas"===t.render?f(t):m&&"image"===t.render?p(t):_(t)}var g=jQuery,m=function(){var t=document.createElement("canvas");return Boolean(t.getContext&&t.getContext("2d"))}(),v="[object Opera]"!==Object.prototype.toString.call(window.opera),y={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};g.fn.qrcode=function(t){var e=g.extend({},y,t);return this.each(function(){"canvas"===this.nodeName.toLowerCase()?h(this,e):g(this).append(d(e))})}}(function(){var n=function(){function t(e,n){if(void 0===e.length)throw new Error(e.length+"/"+n);var i=function(){for(var t=0;t<e.length&&0==e[t];)t+=1;for(var i=new Array(e.length-t+n),r=0;r<e.length-t;r+=1)i[r]=e[r+t];return i}(),r={};return r.getAt=function(t){return i[t]},r.getLength=function(){return i.length},r.multiply=function(e){for(var n=new Array(r.getLength()+e.getLength()-1),i=0;i<r.getLength();i+=1)for(var o=0;o<e.getLength();o+=1)n[i+o]^=s.gexp(s.glog(r.getAt(i))+s.glog(e.getAt(o)));return t(n,0)},r.mod=function(e){if(r.getLength()-e.getLength()<0)return r;for(var n=s.glog(r.getAt(0))-s.glog(e.getAt(0)),i=new Array(r.getLength()),o=0;o<r.getLength();o+=1)i[o]=r.getAt(o);for(var o=0;o<e.getLength();o+=1)i[o]^=s.gexp(s.glog(e.getAt(o))+n);return t(i,0).mod(e)},r}var e=function(e,n){var r=e,s=i[n],c=null,h=0,f=null,p=new Array,d={},g=function(t,e){h=4*r+17,c=function(t){for(var e=new Array(t),n=0;t>n;n+=1){e[n]=new Array(t);for(var i=0;t>i;i+=1)e[n][i]=null}return e}(h),m(0,0),m(h-7,0),m(0,h-7),$(),y(),w(t,e),r>=7&&b(t),null==f&&(f=x(r,s,p)),T(f,e)},m=function(t,e){for(var n=-1;7>=n;n+=1)if(!(-1>=t+n||t+n>=h))for(var i=-1;7>=i;i+=1)-1>=e+i||e+i>=h||(c[t+n][e+i]=n>=0&&6>=n&&(0==i||6==i)||i>=0&&6>=i&&(0==n||6==n)||n>=2&&4>=n&&i>=2&&4>=i)},v=function(){for(var t=0,e=0,n=0;8>n;n+=1){g(!0,n);var i=o.getLostPoint(d);(0==n||t>i)&&(t=i,e=n)}return e},y=function(){for(var t=8;h-8>t;t+=1)null==c[t][6]&&(c[t][6]=t%2==0);for(var e=8;h-8>e;e+=1)null==c[6][e]&&(c[6][e]=e%2==0)},$=function(){for(var t=o.getPatternPosition(r),e=0;e<t.length;e+=1)for(var n=0;n<t.length;n+=1){var i=t[e],s=t[n];if(null==c[i][s])for(var a=-2;2>=a;a+=1)for(var u=-2;2>=u;u+=1)c[i+a][s+u]=-2==a||2==a||-2==u||2==u||0==a&&0==u}},b=function(t){for(var e=o.getBCHTypeNumber(r),n=0;18>n;n+=1){var i=!t&&1==(e>>n&1);c[Math.floor(n/3)][n%3+h-8-3]=i}for(var n=0;18>n;n+=1){var i=!t&&1==(e>>n&1);c[n%3+h-8-3][Math.floor(n/3)]=i}},w=function(t,e){for(var n=s<<3|e,i=o.getBCHTypeInfo(n),r=0;15>r;r+=1){var a=!t&&1==(i>>r&1);6>r?c[r][8]=a:8>r?c[r+1][8]=a:c[h-15+r][8]=a}for(var r=0;15>r;r+=1){var a=!t&&1==(i>>r&1);8>r?c[8][h-r-1]=a:9>r?c[8][15-r-1+1]=a:c[8][15-r-1]=a}c[h-8][8]=!t},T=function(t,e){for(var n=-1,i=h-1,r=7,s=0,a=o.getMaskFunction(e),u=h-1;u>0;u-=2)for(6==u&&(u-=1);;){for(var l=0;2>l;l+=1)if(null==c[i][u-l]){var f=!1;s<t.length&&(f=1==(t[s]>>>r&1));var p=a(i,u-l);p&&(f=!f),c[i][u-l]=f,-1==(r-=1)&&(s+=1,r=7)}if(0>(i+=n)||i>=h){i-=n,n=-n;break}}},S=function(e,n){for(var i=0,r=0,s=0,a=new Array(n.length),u=new Array(n.length),l=0;l<n.length;l+=1){var c=n[l].dataCount,h=n[l].totalCount-c;r=Math.max(r,c),s=Math.max(s,h),a[l]=new Array(c);for(var f=0;f<a[l].length;f+=1)a[l][f]=255&e.getBuffer()[f+i];i+=c;var p=o.getErrorCorrectPolynomial(h),_=t(a[l],p.getLength()-1),d=_.mod(p);u[l]=new Array(p.getLength()-1);for(var f=0;f<u[l].length;f+=1){var g=f+d.getLength()-u[l].length;u[l][f]=g>=0?d.getAt(g):0}}for(var m=0,f=0;f<n.length;f+=1)m+=n[f].totalCount;for(var v=new Array(m),y=0,f=0;r>f;f+=1)for(var l=0;l<n.length;l+=1)f<a[l].length&&(v[y]=a[l][f],y+=1);for(var f=0;s>f;f+=1)for(var l=0;l<n.length;l+=1)f<u[l].length&&(v[y]=u[l][f],y+=1);return v},x=function(t,e,n){for(var i=a.getRSBlocks(t,e),r=u(),s=0;s<n.length;s+=1){var l=n[s];r.put(l.getMode(),4),r.put(l.getLength(),o.getLengthInBits(l.getMode(),t)),l.write(r)}for(var c=0,s=0;s<i.length;s+=1)c+=i[s].dataCount;if(r.getLengthInBits()>8*c)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*c+")");for(r.getLengthInBits()+4<=8*c&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*c||(r.put(236,8),r.getLengthInBits()>=8*c));)r.put(17,8);return S(r,i)};return d.addData=function(t){var e=l(t);p.push(e),f=null},d.isDark=function(t,e){if(0>t||t>=h||0>e||e>=h)throw new Error(t+","+e);return c[t][e]},d.getModuleCount=function(){return h},d.make=function(){g(!1,v())},d.createTableTag=function(t,e){t=t||2,e=void 0===e?4*t:e;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+e+"px;",n+='">',n+="<tbody>";for(var i=0;i<d.getModuleCount();i+=1){n+="<tr>";for(var r=0;r<d.getModuleCount();r+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+t+"px;",n+=" height: "+t+"px;",n+=" background-color: ",n+=d.isDark(i,r)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},d.createImgTag=function(t,e){t=t||2,e=void 0===e?4*t:e;var n=d.getModuleCount()*t+2*e,i=e,r=n-e;return _(n,n,function(e,n){if(e>=i&&r>e&&n>=i&&r>n){var o=Math.floor((e-i)/t),s=Math.floor((n-i)/t);return d.isDark(s,o)?0:1}return 1})},d};e.stringToBytes=function(t){for(var e=new Array,n=0;n<t.length;n+=1){var i=t.charCodeAt(n);e.push(255&i)}return e},e.createStringToBytes=function(t,e){var n=function(){for(var n=f(t),i=function(){var t=n.read();if(-1==t)throw new Error;return t},r=0,o={};;){var s=n.read();if(-1==s)break;var a=i(),u=i(),l=i(),c=String.fromCharCode(s<<8|a),h=u<<8|l;o[c]=h,r+=1}if(r!=e)throw new Error(r+" != "+e);return o}(),i="?".charCodeAt(0);return function(t){for(var e=new Array,r=0;r<t.length;r+=1){var o=t.charCodeAt(r);if(128>o)e.push(o);else{var s=n[t.charAt(r)];"number"==typeof s?(255&s)==s?e.push(s):(e.push(s>>>8),e.push(255&s)):e.push(i)}}return e}};var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o=function(){var e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],i=1335,o=7973,a={},u=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e};return a.getBCHTypeInfo=function(t){for(var e=t<<10;u(e)-u(i)>=0;)e^=i<<u(e)-u(i);return 21522^(t<<10|e)},a.getBCHTypeNumber=function(t){for(var e=t<<12;u(e)-u(o)>=0;)e^=o<<u(e)-u(o);return t<<12|e},a.getPatternPosition=function(t){return e[t-1]},a.getMaskFunction=function(t){switch(t){case r.PATTERN000:return function(t,e){return(t+e)%2==0};case r.PATTERN001:return function(t,e){return t%2==0};case r.PATTERN010:return function(t,e){return e%3==0};case r.PATTERN011:return function(t,e){return(t+e)%3==0};case r.PATTERN100:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case r.PATTERN101:return function(t,e){return t*e%2+t*e%3==0};case r.PATTERN110:return function(t,e){return(t*e%2+t*e%3)%2==0};case r.PATTERN111:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw new Error("bad maskPattern:"+t)}},a.getErrorCorrectPolynomial=function(e){for(var n=t([1],0),i=0;e>i;i+=1)n=n.multiply(t([1,s.gexp(i)],0));return n},a.getLengthInBits=function(t,e){if(e>=1&&10>e)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},a.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,i=0;e>i;i+=1)for(var r=0;e>r;r+=1){for(var o=0,s=t.isDark(i,r),a=-1;1>=a;a+=1)if(!(0>i+a||i+a>=e))for(var u=-1;1>=u;u+=1)0>r+u||r+u>=e||(0!=a||0!=u)&&s==t.isDark(i+a,r+u)&&(o+=1);o>5&&(n+=3+o-5)}for(var i=0;e-1>i;i+=1)for(var r=0;e-1>r;r+=1){var l=0;t.isDark(i,r)&&(l+=1),t.isDark(i+1,r)&&(l+=1),t.isDark(i,r+1)&&(l+=1),t.isDark(i+1,r+1)&&(l+=1),(0==l||4==l)&&(n+=3)}for(var i=0;e>i;i+=1)for(var r=0;e-6>r;r+=1)t.isDark(i,r)&&!t.isDark(i,r+1)&&t.isDark(i,r+2)&&t.isDark(i,r+3)&&t.isDark(i,r+4)&&!t.isDark(i,r+5)&&t.isDark(i,r+6)&&(n+=40);for(var r=0;e>r;r+=1)for(var i=0;e-6>i;i+=1)t.isDark(i,r)&&!t.isDark(i+1,r)&&t.isDark(i+2,r)&&t.isDark(i+3,r)&&t.isDark(i+4,r)&&!t.isDark(i+5,r)&&t.isDark(i+6,r)&&(n+=40);for(var c=0,r=0;e>r;r+=1)for(var i=0;e>i;i+=1)t.isDark(i,r)&&(c+=1);return n+=Math.abs(100*c/e/e-50)/5*10},a}(),s=function(){for(var t=new Array(256),e=new Array(256),n=0;8>n;n+=1)t[n]=1<<n;for(var n=8;256>n;n+=1)t[n]=t[n-4]^t[n-5]^t[n-6]^t[n-8];for(var n=0;255>n;n+=1)e[t[n]]=n;var i={};return i.glog=function(t){if(1>t)throw new Error("glog("+t+")");return e[t]},i.gexp=function(e){for(;0>e;)e+=255;for(;e>=256;)e-=255;return t[e]},i}(),a=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var n={};return n.totalCount=t,n.dataCount=e,n},n={},r=function(e,n){switch(n){case i.L:return t[4*(e-1)+0];case i.M:return t[4*(e-1)+1];case i.Q:return t[4*(e-1)+2];case i.H:return t[4*(e-1)+3];default:return}};return n.getRSBlocks=function(t,n){var i=r(t,n);if(void 0===i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+n);for(var o=i.length/3,s=new Array,a=0;o>a;a+=1)for(var u=i[3*a+0],l=i[3*a+1],c=i[3*a+2],h=0;u>h;h+=1)s.push(e(l,c));return s},n}(),u=function(){var t=new Array,e=0,n={};return n.getBuffer=function(){return t},n.getAt=function(e){var n=Math.floor(e/8);return 1==(t[n]>>>7-e%8&1)},n.put=function(t,e){for(var i=0;e>i;i+=1)n.putBit(1==(t>>>e-i-1&1))},n.getLengthInBits=function(){return e},n.putBit=function(n){var i=Math.floor(e/8);t.length<=i&&t.push(0),n&&(t[i]|=128>>>e%8),e+=1},n},l=function(t){var i=n.MODE_8BIT_BYTE,r=e.stringToBytes(t),o={};return o.getMode=function(){return i},o.getLength=function(t){return r.length},o.write=function(t){for(var e=0;e<r.length;e+=1)t.put(r[e],8)},o},c=function(){var t=new Array,e={};return e.writeByte=function(e){t.push(255&e)},e.writeShort=function(t){e.writeByte(t),e.writeByte(t>>>8)},e.writeBytes=function(t,n,i){n=n||0,i=i||t.length;for(var r=0;i>r;r+=1)e.writeByte(t[r+n])},e.writeString=function(t){for(var n=0;n<t.length;n+=1)e.writeByte(t.charCodeAt(n))},e.toByteArray=function(){return t},e.toString=function(){var e="";e+="[";for(var n=0;n<t.length;n+=1)n>0&&(e+=","),e+=t[n];return e+="]"},e},h=function(){var t=0,e=0,n=0,i="",r={},o=function(t){i+=String.fromCharCode(s(63&t))},s=function(t){if(0>t);else{if(26>t)return 65+t;if(52>t)return t-26+97;if(62>t)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw new Error("n:"+t)};return r.writeByte=function(i){for(t=t<<8|255&i,e+=8,n+=1;e>=6;)o(t>>>e-6),e-=6},r.flush=function(){if(e>0&&(o(t<<6-e),t=0,e=0),n%3!=0)for(var r=3-n%3,s=0;r>s;s+=1)i+="="},r.toString=function(){return i},r},f=function(t){var e=t,n=0,i=0,r=0,o={};o.read=function(){for(;8>r;){if(n>=e.length){if(0==r)return-1;throw new Error("unexpected end of file./"+r)}var t=e.charAt(n);if(n+=1,"="==t)return r=0,-1;t.match(/^\s$/)||(i=i<<6|s(t.charCodeAt(0)),r+=6)}var o=i>>>r-8&255;return r-=8,o};var s=function(t){if(t>=65&&90>=t)return t-65;if(t>=97&&122>=t)return t-97+26;if(t>=48&&57>=t)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw new Error("c:"+t)};return o},p=function(t,e){var n=t,i=e,r=new Array(t*e),o={};o.setPixel=function(t,e,i){r[e*n+t]=i},o.write=function(t){t.writeString("GIF87a"),t.writeShort(n),t.writeShort(i),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(i),t.writeByte(0);var e=a(2);t.writeByte(2);for(var r=0;e.length-r>255;)t.writeByte(255),t.writeBytes(e,r,255),r+=255;t.writeByte(e.length-r),t.writeBytes(e,r,e.length-r),t.writeByte(0),t.writeString(";")};var s=function(t){var e=t,n=0,i=0,r={};return r.write=function(t,r){if(t>>>r!=0)throw new Error("length over");for(;n+r>=8;)e.writeByte(255&(t<<n|i)),r-=8-n,t>>>=8-n,i=0,n=0;i|=t<<n,n+=r},r.flush=function(){n>0&&e.writeByte(i)},r},a=function(t){for(var e=1<<t,n=1+(1<<t),i=t+1,o=u(),a=0;e>a;a+=1)o.add(String.fromCharCode(a));o.add(String.fromCharCode(e)),o.add(String.fromCharCode(n));var l=c(),h=s(l);h.write(e,i);var f=0,p=String.fromCharCode(r[f]);for(f+=1;f<r.length;){var _=String.fromCharCode(r[f]);f+=1,o.contains(p+_)?p+=_:(h.write(o.indexOf(p),i),o.size()<4095&&(o.size()==1<<i&&(i+=1),o.add(p+_)),p=_)}return h.write(o.indexOf(p),i),h.write(n,i),h.flush(),l.toByteArray()},u=function(){var t={},e=0,n={};return n.add=function(i){if(n.contains(i))throw new Error("dup key:"+i);t[i]=e,e+=1},n.size=function(){return e},n.indexOf=function(e){return t[e]},n.contains=function(e){return void 0!==t[e]},n};return o},_=function(t,e,n,i){for(var r=p(t,e),o=0;e>o;o+=1)for(var s=0;t>s;s+=1)r.setPixel(s,o,n(s,o));var a=c();r.write(a);for(var u=h(),l=a.toByteArray(),f=0;f<l.length;f+=1)u.writeByte(l[f]);u.flush();var _="";return _+="<img",_+=' src="',_+="data:image/gif;base64,",_+=u,_+='"',_+=' width="',_+=t,_+='"',_+=' height="',_+=e,_+='"',i&&(_+=' alt="',_+=i,_+='"'),_+="/>"};return e}();return function(n){r=[],i=n,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(function(){return n}),function(t){t.stringToBytes=function(t){return function(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e.push(i):2048>i?e.push(192|i>>6,128|63&i):55296>i||i>=57344?e.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return e}(t)}}(n),n}()),function(t){t.fn.share=function(e){function n(e,n){var i=r(n);"prepend"==n.mode&&i.reverse(),i.length&&t.each(i,function(i,r){var s=o(r,n),a=n.initialized?e.find(".icon-"+r):t('<a class="social-share-icon icon-'+r+'"></a>');return!a.length||(a.prop("aria-label","\u5206\u4eab\u5230 "+f[r]),a.prop("href",s),"wechat"===r?a.prop("tabindex",-1):a.prop("target","_blank"),void(n.initialized||("prepend"==n.mode?e.prepend(a):e.append(a))))})}function i(t,e){var n=t.find("a.icon-wechat");n.length&&(n.append('<div class="wechat-qrcode"><h4>'+e.wechatQrcodeTitle+'</h4><div class="qrcode"></div><div class="help">'+e.wechatQrcodeHelper+"</div></div>"),n.find(".qrcode").qrcode({render:"image",size:e.wechatQrcodeSize,text:e.url}),n.offset().top<100&&n.find(".wechat-qrcode").addClass("bottom"))}function r(e){0===e.mobileSites.length&&e.sites.length&&(e.mobileSites=e.sites);var n=(a()?e.mobileSites:e.sites.length?e.sites:[]).slice(0),i=e.disabled;return"string"==typeof n&&(n=n.split(/\s*,\s*/)),"string"==typeof i&&(i=i.split(/\s*,\s*/)),s()&&i.push("wechat"),i.length&&t.each(i,function(e,i){var r=t.inArray(i,n);-1!==r&&n.splice(r,1)}),n}function o(t,e){var n=h[t];e.summary=e.description;for(var i in e)if(e.hasOwnProperty(i)){var r=t+i.replace(/^[a-z]/,function(t){return t.toUpperCase()}),o=encodeURIComponent(void 0===e[r]?e[i]:e[r]);n=n.replace(new RegExp("{{"+i.toUpperCase()+"}}","g"),o)}return n}function s(){return/MicroMessenger/i.test(navigator.userAgent)}function a(){return t(window).width()<=768}var u=t(document.head),l={url:location.href,site_url:location.origin,source:u.find("[name=site], [name=Site]").attr("content")||document.title,title:u.find("[name=title], [name=Title]").attr("content")||document.title,description:u.find("[name=description], [name=Description]").attr("content")||"",image:t("img:first").prop("src")||"",imageSelector:void 0,weiboKey:"",wechatQrcodeTitle:"\u5fae\u4fe1\u626b\u4e00\u626b\uff1a\u5206\u4eab",wechatQrcodeHelper:"<p>\u5fae\u4fe1\u91cc\u70b9\u201c\u53d1\u73b0\u201d\uff0c\u626b\u4e00\u4e0b</p><p>\u4e8c\u7ef4\u7801\u4fbf\u53ef\u5c06\u672c\u6587\u5206\u4eab\u81f3\u670b\u53cb\u5708\u3002</p>",wechatQrcodeSize:100,mobileSites:[],sites:["weibo","qq","wechat","tencent","douban","qzone","linkedin","diandian","facebook","twitter","google"],disabled:[],initialized:!1},c=t.extend({},l,e),h={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}",qq:"http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&source={{SOURCE}}&desc={{DESCRIPTION}}&pics={{IMAGE}}",tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title={{TITLE}}&url={{URL}}&pic={{IMAGE}}",weibo:"http://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}",wechat:"javascript:;",douban:"http://shuo.douban.com/!service/share?href={{URL}}&name={{TITLE}}&text={{DESCRIPTION}}&image={{IMAGE}}&starid=0&aid=0&style=11",diandian:"http://www.diandian.com/share?lo={{URL}}&ti={{TITLE}}&type=link",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title={{TITLE}}&url={{URL}}&summary={{SUMMARY}}&source={{SOURCE}}&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u={{URL}}",twitter:"https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}&via={{SITE_URL}}",google:"https://plus.google.com/share?url={{URL}}"},f={qzone:"QQ\u7a7a\u95f4",qq:"QQ",tencent:"\u817e\u8baf\u5fae\u535a",weibo:"\u5fae\u535a",wechat:"\u5fae\u4fe1",douban:"\u8c46\u74e3",diandian:"\u70b9\u70b9",linkedin:"LinkedIn",facebook:"Facebook",twitter:"Twitter",google:"Google"};this.each(function(){if(t(this).data("initialized"))return!0;var e=t.extend({},c,t(this).data());e.imageSelector&&(e.image=t(e.imageSelector).map(function(){return t(this).prop("src")}).get().join("||"));var r=t(this).addClass("share-component social-share");n(r,e),i(r,e),t(this).data("initialized",!0)})},t(function(){t(".share-component,.social-share").share()})}(jQuery)},function(t,e,n){"use strict";var i=n(22);if(!NexT.utils.isMobile()){new i($(".site-nav")[0],{tolerance:5,offset:205,classes:{initial:"head-animated",pinned:"slideDown",unpinned:"slideUp"}}).init(),$.scrollto=function(t,e){$(t).click(function(){return $(this).addClass("active").siblings().removeClass("active"),$("html, body").animate({scrollTop:$("body").offset().top},e),!1})};var r=$(".back-to-top"),o=$(window).height()-980+"px";$(window).scroll(function(){$(window).scrollTop()>700&&"-900px"===r.css("top")?r.css("top",o):$(window).scrollTop()<=700&&"-900px"!==r.css("top")&&r.css("top","-900px")}),$.scrollto(".back-to-top",800)}},function(t,e,n){"use strict";var i,r,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,s){r=[],i=s,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(0,function(){function t(t){this.callback=t,this.ticking=!1}function e(t){return t&&"undefined"!=typeof window&&(t===window||t.nodeType)}function n(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var i,r,o=t||{};for(r=1;r<arguments.length;r++){var a=arguments[r]||{};for(i in a)"object"!==s(o[i])||e(o[i])?o[i]=o[i]||a[i]:o[i]=n(o[i],a[i])}return o}function i(t){return t===Object(t)?t:{down:t,up:t}}function r(t,e){e=n(e,r.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=i(e.tolerance),this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop,this.onBottom=e.onBottom,this.onNotBottom=e.onNotBottom}var o={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},r.prototype={constructor:r,init:function(){if(r.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;this.initialised=!1;for(var e in t)t.hasOwnProperty(e)&&this.elem.classList.remove(t[e]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,n=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||n},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var n=t>this.lastKnownScrollY,i=t>=this.offset;return n&&i&&e},shouldPin:function(t,e){var n=t<this.lastKnownScrollY,i=t<=this.offset;return n&&e||i},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,n)?this.unpin():this.shouldPin(t,n)&&this.pin(),this.lastKnownScrollY=t)}},r.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},r.cutsTheMustard=void 0!==o&&o.rAF&&o.bind&&o.classList,r})},function(t,e,n){"use strict";function i(){window.setTimeout(function(){i()},1e3);var t=new Date(window.CONFIG.since),e=new Date,n=e.getTime()-t.getTime(),r=n/864e5,o=Math.floor(r),s=24*(r-o),a=Math.floor(s),u=60*(s-a),l=Math.floor(60*(s-a)),c=Math.floor(60*(u-l));$("#since").html(o+"\u5929"+a+"\u5c0f\u65f6"+l+"\u5206"+c+"\u79d2")}i()},function(t,e,n){"use strict";if(window.CONFIG.favicon.visibilitychange){var i,r=document.title;document.addEventListener("visibilitychange",function(){document.hidden?($('[rel="icon"]').attr("href",window.CONFIG.favicon.hidden),document.title=window.CONFIG.favicon.hide_text,clearTimeout(i)):($('[rel="icon"]').attr("href",window.CONFIG.favicon.narmal),document.title=window.CONFIG.favicon.show_text+r,i=setTimeout(function(){document.title=r},2e3))})}},function(t,e,n){"use strict";var i=n(26),r=function(t){return t&&t.__esModule?t:{default:t}}(i);new r.default(".site-title",{strings:[window.CONFIG.site.title],typeSpeed:70})},function(t,e,n){"use strict";(function(t){var n,i,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s,a){"object"===o(e)&&"object"===o(t)?t.exports=a():(i=[],n=a,void 0!==(r="function"==typeof n?n.apply(e,i):n)&&(t.exports=r))}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(3),a=function(){function t(e,n){i(this,t),o.initializer.load(this,n,e),this.begin()}return r(t,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var t=this;this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){t.currentElContent&&0!==t.currentElContent.length?t.backspace(t.currentElContent,t.currentElContent.length):t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)}},{key:"typewrite",value:function(t,e){var n=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var i=this.humanizer(this.typeSpeed),r=1;if(!0===this.pause.status)return void this.setPauseStatus(t,e,!0);this.timeout=setTimeout(function(){e=s.htmlParser.typeHtmlChars(t,e,n);var i=0,o=t.substr(e);if("^"===o.charAt(0)&&/^\^\d+/.test(o)){var a=1;o=/\d+/.exec(o)[0],a+=o.length,i=parseInt(o),n.temporaryPause=!0,n.options.onTypingPaused(n.arrayPos,n),t=t.substring(0,e)+t.substring(e+a),n.toggleBlinking(!0)}if("`"===o.charAt(0)){for(;"`"!==t.substr(e+r).charAt(0)&&(r++,!(e+r>t.length)););var u=t.substring(0,e),l=t.substring(u.length+1,e+r),c=t.substring(e+r+1);t=u+l+c,r--}n.timeout=setTimeout(function(){n.toggleBlinking(!1),e===t.length?n.doneTyping(t,e):n.keepTyping(t,e,r),n.temporaryPause&&(n.temporaryPause=!1,n.options.onTypingResumed(n.arrayPos,n))},i)},i)}},{key:"keepTyping",value:function(t,e,n){0===e&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this)),e+=n;var i=t.substr(0,e);this.replaceText(i),this.typewrite(t,e)}},{key:"doneTyping",value:function(t,e){var n=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){n.backspace(t,e)},this.backDelay))}},{key:"backspace",value:function(t,e){var n=this;if(!0===this.pause.status)return void this.setPauseStatus(t,e,!0);if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var i=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){e=s.htmlParser.backSpaceHtmlChars(t,e,n);var i=t.substr(0,e);if(n.replaceText(i),n.smartBackspace){var r=n.strings[n.arrayPos+1];r&&i===r.substr(0,e)?n.stopNum=e:n.stopNum=0}e>n.stopNum?(e--,n.backspace(t,e)):e<=n.stopNum&&(n.arrayPos++,n.arrayPos===n.strings.length?(n.arrayPos=0,n.options.onLastStringBackspaced(),n.shuffleStringsIfNeeded(),n.begin()):n.typewrite(n.strings[n.sequence[n.arrayPos]],e))},i)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(t,e,n){this.pause.typewrite=n,this.pause.curString=t,this.pause.curStrPos=e}},{key:"toggleBlinking",value:function(t){if(this.cursor&&!this.pause.status&&this.cursorBlinking!==t){this.cursorBlinking=t;var e=t?"infinite":0;this.cursor.style.animationIterationCount=e}}},{key:"humanizer",value:function(t){return Math.round(Math.random()*t/2)+t}},{key:"shuffleStringsIfNeeded",value:function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:"html"===this.contentType?this.el.innerHTML=t:this.el.textContent=t}},{key:"bindFocusEvents",value:function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(e){t.stop()}),this.el.addEventListener("blur",function(e){t.el.value&&0!==t.el.value.length||t.start()}))}},{key:"insertCursor",value:function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))}}]),t}();e.default=a,t.exports=e.default},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(2),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(){function t(){i(this,t)}return o(t,[{key:"load",value:function(t,e,n){if(t.el="string"==typeof n?document.querySelector(n):n,t.options=r({},a.default,e),t.isInput="input"===t.el.tagName.toLowerCase(),t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(t){return t.trim()}),"string"==typeof t.options.stringsElement?t.stringsElement=document.querySelector(t.options.stringsElement):t.stringsElement=t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.display="none";var i=Array.prototype.slice.apply(t.stringsElement.children),o=i.length;if(o)for(var s=0;s<o;s+=1){var u=i[s];t.strings.push(u.innerHTML.trim())}}t.strPos=0,t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.sequence=[],t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1;for(var s in t.strings)t.sequence[s]=s;t.currentElContent=this.getCurrentElContent(t),t.autoInsertCss=t.options.autoInsertCss,this.appendAnimationCss(t)}},{key:"getCurrentElContent",value:function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:"html"===t.contentType?t.el.innerHTML:t.el.textContent}},{key:"appendAnimationCss",value:function(t){if(t.autoInsertCss&&t.showCursor&&t.fadeOut){var e=document.createElement("style");e.type="text/css";var n="";t.showCursor&&(n+="\n        .typed-cursor{\n          opacity: 1;\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      "),t.fadeOut&&(n+="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n          -webkit-animation: 0;\n                  animation: 0;\n        }\n      "),0!==e.length&&(e.innerHTML=n,document.head.appendChild(e))}}}]),t}();e.default=u;var l=new u;e.initializer=l},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onComplete:function(t){},preStringTyped:function(t,e){},onStringTyped:function(t,e){},onLastStringBackspaced:function(t){},onTypingPaused:function(t,e){},onTypingResumed:function(t,e){},onReset:function(t){},onStop:function(t,e){},onStart:function(t,e){},onDestroy:function(t){}};e.default=n,t.exports=e.default},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){n(this,t)}return i(t,[{key:"typeHtmlChars",value:function(t,e,n){if("html"!==n.contentType)return e;var i=t.substr(e).charAt(0);if("<"===i||"&"===i){var r="";for(r="<"===i?">":";";t.substr(e+1).charAt(0)!==r&&!(++e+1>t.length););e++}return e}},{key:"backSpaceHtmlChars",value:function(t,e,n){if("html"!==n.contentType)return e;var i=t.substr(e).charAt(0);if(">"===i||";"===i){var r="";for(r=">"===i?"<":"&";t.substr(e-1).charAt(0)!==r&&!(--e<0););e--}return e}}]),t}();e.default=r;var o=new r;e.htmlParser=o}])})}).call(e,n(1)(t))},function(t,e,n){"use strict";NexT.utils.isMobile()||(n(28),loadlive2d("live2d","/images/live2d/22/22.model.json"))},function(t,e,n){"use strict";!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(t,e,n){function i(){this.live2DModel=null,this.modelMatrix=null,this.eyeBlink=null,this.physics=null,this.pose=null,this.debugMode=!1,this.initialized=!1,this.updating=!1,this.alpha=1,this.accAlpha=0,this.lipSync=!1,this.lipSyncValue=0,this.accelX=0,this.accelY=0,this.accelZ=0,this.dragX=0,this.dragY=0,this.startTimeMSec=null,this.mainMotionManager=new l,this.expressionManager=new l,this.motions={},this.expressions={},this.isTexLoaded=!1}function r(){AMotion.prototype.constructor.call(this),this.paramList=new Array}function o(){this.id="",this.type=-1,this.value=null}function s(){this.nextBlinkTime=null,this.stateStartTime=null,this.blinkIntervalMsec=null,this.eyeState=m.STATE_FIRST,this.blinkIntervalMsec=4e3,this.closingMotionMsec=100,this.closedMotionMsec=50,this.openingMotionMsec=150,this.closeIfZero=!0,this.eyeID_L="PARAM_EYE_L_OPEN",this.eyeID_R="PARAM_EYE_R_OPEN"}function a(){this.tr=new Float32Array(16),this.identity()}function u(t,e){a.prototype.constructor.call(this),this.width=t,this.height=e}function l(){MotionQueueManager.prototype.constructor.call(this),this.currentPriority=null,this.reservePriority=null,this.super=MotionQueueManager.prototype}function c(){this.physicsList=new Array,this.startTimeMSec=UtSystem.getUserTimeMSec()}function h(){this.lastTime=0,this.lastModel=null,this.partsGroups=new Array}function f(t){this.paramIndex=-1,this.partsIndex=-1,this.link=null,this.id=t}function p(){this.EPSILON=.01,this.faceTargetX=0,this.faceTargetY=0,this.faceX=0,this.faceY=0,this.faceVX=0,this.faceVY=0,this.lastTimeSec=0}function _(){a.prototype.constructor.call(this),this.screenLeft=null,this.screenRight=null,this.screenTop=null,this.screenBottom=null,this.maxLeft=null,this.maxRight=null,this.maxTop=null,this.maxBottom=null,this.max=Number.MAX_VALUE,this.min=0}function d(){}var g=0;i.prototype.getModelMatrix=function(){return this.modelMatrix},i.prototype.setAlpha=function(t){t>.999&&(t=1),t<.001&&(t=0),this.alpha=t},i.prototype.getAlpha=function(){return this.alpha},i.prototype.isInitialized=function(){return this.initialized},i.prototype.setInitialized=function(t){this.initialized=t},i.prototype.isUpdating=function(){return this.updating},i.prototype.setUpdating=function(t){this.updating=t},i.prototype.getLive2DModel=function(){return this.live2DModel},i.prototype.setLipSync=function(t){this.lipSync=t},i.prototype.setLipSyncValue=function(t){this.lipSyncValue=t},i.prototype.setAccel=function(t,e,n){this.accelX=t,this.accelY=e,this.accelZ=n},i.prototype.setDrag=function(t,e){this.dragX=t,this.dragY=e},i.prototype.getMainMotionManager=function(){return this.mainMotionManager},i.prototype.getExpressionManager=function(){return this.expressionManager},i.prototype.loadModelData=function(t,e){var n=d.getPlatformManager();this.debugMode&&n.log("Load model : "+t);var i=this;n.loadLive2DModel(t,function(t){if(i.live2DModel=t,i.live2DModel.saveParam(),0!=Live2D.getError())return void console.error("Error : Failed to loadModelData().");i.modelMatrix=new u(i.live2DModel.getCanvasWidth(),i.live2DModel.getCanvasHeight()),i.modelMatrix.setWidth(2),i.modelMatrix.setCenterPosition(0,0),e(i.live2DModel)})},i.prototype.loadTexture=function(t,e,n){g++;var i=d.getPlatformManager();this.debugMode&&i.log("Load Texture : "+e);var r=this;i.loadTexture(this.live2DModel,t,e,function(){g--,0==g&&(r.isTexLoaded=!0),"function"==typeof n&&n()})},i.prototype.loadMotion=function(t,e,n){var i=d.getPlatformManager();this.debugMode&&i.log("Load Motion : "+e);var r=null,o=this;i.loadBytes(e,function(e){r=Live2DMotion.loadMotion(e),null!=t&&(o.motions[t]=r),n(r)})},i.prototype.loadExpression=function(t,e,n){var i=d.getPlatformManager();this.debugMode&&i.log("Load Expression : "+e);var o=this;i.loadBytes(e,function(e){null!=t&&(o.expressions[t]=r.loadJson(e)),"function"==typeof n&&n()})},i.prototype.loadPose=function(t,e){var n=d.getPlatformManager();this.debugMode&&n.log("Load Pose : "+t);var i=this;try{n.loadBytes(t,function(t){i.pose=h.load(t),"function"==typeof e&&e()})}catch(t){console.warn(t)}},i.prototype.loadPhysics=function(t){var e=d.getPlatformManager();this.debugMode&&e.log("Load Physics : "+t);var n=this;try{e.loadBytes(t,function(t){n.physics=c.load(t)})}catch(t){console.warn(t)}},i.prototype.hitTestSimple=function(t,e,n){var i=this.live2DModel.getDrawDataIndex(t);if(i<0)return!1;for(var r=this.live2DModel.getTransformedPoints(i),o=this.live2DModel.getCanvasWidth(),s=0,a=this.live2DModel.getCanvasHeight(),u=0,l=0;l<r.length;l+=2){var c=r[l],h=r[l+1];c<o&&(o=c),c>s&&(s=c),h<a&&(a=h),h>u&&(u=h)}var f=this.modelMatrix.invertTransformX(e),p=this.modelMatrix.invertTransformY(n);return o<=f&&f<=s&&a<=p&&p<=u},r.prototype=new AMotion,r.EXPRESSION_DEFAULT="DEFAULT",r.TYPE_SET=0,r.TYPE_ADD=1,r.TYPE_MULT=2,r.loadJson=function(t){var e=new r,n=d.getPlatformManager(),i=n.jsonParseFromBytes(t);if(e.setFadeIn(parseInt(i.fade_in)>0?parseInt(i.fade_in):1e3),e.setFadeOut(parseInt(i.fade_out)>0?parseInt(i.fade_out):1e3),null==i.params)return e;var s=i.params,a=s.length;e.paramList=[];for(var u=0;u<a;u++){var l=s[u],c=l.id.toString(),h=parseFloat(l.val),f=r.TYPE_ADD,p=null!=l.calc?l.calc.toString():"add";if((f="add"===p?r.TYPE_ADD:"mult"===p?r.TYPE_MULT:"set"===p?r.TYPE_SET:r.TYPE_ADD)==r.TYPE_ADD){var _=null==l.def?0:parseFloat(l.def);h-=_}else if(f==r.TYPE_MULT){var _=null==l.def?1:parseFloat(l.def);0==_&&(_=1),h/=_}var g=new o;g.id=c,g.type=f,g.value=h,e.paramList.push(g)}return e},r.prototype.updateParamExe=function(t,e,n,i){for(var o=this.paramList.length-1;o>=0;--o){var s=this.paramList[o];s.type==r.TYPE_ADD?t.addToParamFloat(s.id,s.value,n):s.type==r.TYPE_MULT?t.multParamFloat(s.id,s.value,n):s.type==r.TYPE_SET&&t.setParamFloat(s.id,s.value,n)}},s.prototype.calcNextBlink=function(){return UtSystem.getUserTimeMSec()+Math.random()*(2*this.blinkIntervalMsec-1)},s.prototype.setInterval=function(t){this.blinkIntervalMsec=t},s.prototype.setEyeMotion=function(t,e,n){this.closingMotionMsec=t,this.closedMotionMsec=e,this.openingMotionMsec=n},s.prototype.updateParam=function(t){var e,n=UtSystem.getUserTimeMSec(),i=0;switch(this.eyeState){case m.STATE_CLOSING:i=(n-this.stateStartTime)/this.closingMotionMsec,i>=1&&(i=1,this.eyeState=m.STATE_CLOSED,this.stateStartTime=n),e=1-i;break;case m.STATE_CLOSED:i=(n-this.stateStartTime)/this.closedMotionMsec,i>=1&&(this.eyeState=m.STATE_OPENING,this.stateStartTime=n),e=0;break;case m.STATE_OPENING:i=(n-this.stateStartTime)/this.openingMotionMsec,i>=1&&(i=1,this.eyeState=m.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink()),e=i;break;case m.STATE_INTERVAL:this.nextBlinkTime<n&&(this.eyeState=m.STATE_CLOSING,this.stateStartTime=n),e=1;break;case m.STATE_FIRST:default:this.eyeState=m.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink(),e=1}this.closeIfZero||(e=-e),t.setParamFloat(this.eyeID_L,e),t.setParamFloat(this.eyeID_R,e)};var m=function(){};m.STATE_FIRST="STATE_FIRST",m.STATE_INTERVAL="STATE_INTERVAL",m.STATE_CLOSING="STATE_CLOSING",m.STATE_CLOSED="STATE_CLOSED",m.STATE_OPENING="STATE_OPENING",a.mul=function(t,e,n){var i,r,o,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<4;i++)for(r=0;r<4;r++)for(o=0;o<4;o++)s[i+4*r]+=t[i+4*o]*e[o+4*r];for(i=0;i<16;i++)n[i]=s[i]},a.prototype.identity=function(){for(var t=0;t<16;t++)this.tr[t]=t%5==0?1:0},a.prototype.getArray=function(){return this.tr},a.prototype.getCopyMatrix=function(){return new Float32Array(this.tr)},a.prototype.setMatrix=function(t){if(null!=this.tr&&this.tr.length==this.tr.length)for(var e=0;e<16;e++)this.tr[e]=t[e]},a.prototype.getScaleX=function(){return this.tr[0]},a.prototype.getScaleY=function(){return this.tr[5]},a.prototype.transformX=function(t){return this.tr[0]*t+this.tr[12]},a.prototype.transformY=function(t){return this.tr[5]*t+this.tr[13]},a.prototype.invertTransformX=function(t){return(t-this.tr[12])/this.tr[0]},a.prototype.invertTransformY=function(t){return(t-this.tr[13])/this.tr[5]},a.prototype.multTranslate=function(t,e){var n=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1];a.mul(n,this.tr,this.tr)},a.prototype.translate=function(t,e){this.tr[12]=t,this.tr[13]=e},a.prototype.translateX=function(t){this.tr[12]=t},a.prototype.translateY=function(t){this.tr[13]=t},a.prototype.multScale=function(t,e){var n=[t,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1];a.mul(n,this.tr,this.tr)},a.prototype.scale=function(t,e){this.tr[0]=t,this.tr[5]=e},u.prototype=new a,u.prototype.setPosition=function(t,e){this.translate(t,e)},u.prototype.setCenterPosition=function(t,e){var n=this.width*this.getScaleX(),i=this.height*this.getScaleY();this.translate(t-n/2,e-i/2)},u.prototype.top=function(t){this.setY(t)},u.prototype.bottom=function(t){var e=this.height*this.getScaleY();this.translateY(t-e)},u.prototype.left=function(t){this.setX(t)},u.prototype.right=function(t){var e=this.width*this.getScaleX();this.translateX(t-e)},u.prototype.centerX=function(t){var e=this.width*this.getScaleX();this.translateX(t-e/2)},u.prototype.centerY=function(t){var e=this.height*this.getScaleY();this.translateY(t-e/2)},u.prototype.setX=function(t){this.translateX(t)},u.prototype.setY=function(t){this.translateY(t)},u.prototype.setHeight=function(t){var e=t/this.height,n=-e;this.scale(e,n)},u.prototype.setWidth=function(t){var e=t/this.width,n=-e;this.scale(e,n)},l.prototype=new MotionQueueManager,l.prototype.getCurrentPriority=function(){return this.currentPriority},l.prototype.getReservePriority=function(){return this.reservePriority},l.prototype.reserveMotion=function(t){return!(this.reservePriority>=t||this.currentPriority>=t||(this.reservePriority=t,0))},l.prototype.setReservePriority=function(t){this.reservePriority=t},l.prototype.updateParam=function(t){var e=MotionQueueManager.prototype.updateParam.call(this,t);return this.isFinished()&&(this.currentPriority=0),e},l.prototype.startMotionPrio=function(t,e){return e==this.reservePriority&&(this.reservePriority=0),this.currentPriority=e,this.startMotion(t,!1)},c.load=function(t){for(var e=new c,n=d.getPlatformManager(),i=n.jsonParseFromBytes(t),r=i.physics_hair,o=r.length,s=0;s<o;s++){var a=r[s],u=new PhysicsHair,l=a.setup,h=parseFloat(l.length),f=parseFloat(l.regist),p=parseFloat(l.mass);u.setup(h,f,p);for(var _=a.src,g=_.length,m=0;m<g;m++){var v=_[m],y=v.id,$=PhysicsHair.Src.SRC_TO_X,b=v.ptype;"x"===b?$=PhysicsHair.Src.SRC_TO_X:"y"===b?$=PhysicsHair.Src.SRC_TO_Y:"angle"===b?$=PhysicsHair.Src.SRC_TO_G_ANGLE:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Src");var w=parseFloat(v.scale),T=parseFloat(v.weight);u.addSrcParam($,y,w,T)}for(var S=a.targets,x=S.length,m=0;m<x;m++){var E=S[m],y=E.id,$=PhysicsHair.Target.TARGET_FROM_ANGLE,b=E.ptype;"angle"===b?$=PhysicsHair.Target.TARGET_FROM_ANGLE:"angle_v"===b?$=PhysicsHair.Target.TARGET_FROM_ANGLE_V:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Target");var w=parseFloat(E.scale),T=parseFloat(E.weight);u.addTargetParam($,y,w,T)}e.physicsList.push(u)}return e},c.prototype.updateParam=function(t){for(var e=UtSystem.getUserTimeMSec()-this.startTimeMSec,n=0;n<this.physicsList.length;n++)this.physicsList[n].update(t,e)},h.load=function(t){for(var e=new h,n=d.getPlatformManager(),i=n.jsonParseFromBytes(t),r=i.parts_visible,o=r.length,s=0;s<o;s++){for(var a=r[s],u=a.group,l=u.length,c=new Array,p=0;p<l;p++){var _=u[p],g=new f(_.id);if(c[p]=g,null!=_.link){var m=_.link,v=m.length;g.link=new Array;for(var y=0;y<v;y++){var $=new f(m[y]);g.link.push($)}}}e.partsGroups.push(c)}return e},h.prototype.updateParam=function(t){if(null!=t){t!=this.lastModel&&this.initParam(t),this.lastModel=t;var e=UtSystem.getUserTimeMSec(),n=0==this.lastTime?0:(e-this.lastTime)/1e3;this.lastTime=e,n<0&&(n=0);for(var i=0;i<this.partsGroups.length;i++)this.normalizePartsOpacityGroup(t,this.partsGroups[i],n),this.copyOpacityOtherParts(t,this.partsGroups[i])}},h.prototype.initParam=function(t){if(null!=t)for(var e=0;e<this.partsGroups.length;e++)for(var n=this.partsGroups[e],i=0;i<n.length;i++){n[i].initIndex(t);var r=n[i].partsIndex,o=n[i].paramIndex;if(!(r<0)){var s=0!=t.getParamFloat(o);if(t.setPartsOpacity(r,s?1:0),t.setParamFloat(o,s?1:0),null!=n[i].link)for(var a=0;a<n[i].link.length;a++)n[i].link[a].initIndex(t)}}},h.prototype.normalizePartsOpacityGroup=function(t,e,n){for(var i=-1,r=1,o=0;o<e.length;o++){var s=e[o].partsIndex,a=e[o].paramIndex;if(!(s<0)&&0!=t.getParamFloat(a)){if(i>=0)break;i=o,r=t.getPartsOpacity(s),(r+=n/.5)>1&&(r=1)}}i<0&&(i=0,r=1);for(var o=0;o<e.length;o++){var s=e[o].partsIndex;if(!(s<0))if(i==o)t.setPartsOpacity(s,r);else{var u,l=t.getPartsOpacity(s);u=r<.5?-.5*r/.5+1:.5*(1-r)/.5;var c=(1-u)*(1-r);c>.15&&(u=1-.15/(1-r)),l>u&&(l=u),t.setPartsOpacity(s,l)}}},h.prototype.copyOpacityOtherParts=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(null!=i.link&&!(i.partsIndex<0))for(var r=t.getPartsOpacity(i.partsIndex),o=0;o<i.link.length;o++){var s=i.link[o];s.partsIndex<0||t.setPartsOpacity(s.partsIndex,r)}}},f.prototype.initIndex=function(t){this.paramIndex=t.getParamIndex("VISIBLE:"+this.id),this.partsIndex=t.getPartsDataIndex(PartsDataID.getID(this.id)),t.setParamFloat(this.paramIndex,1)},p.FRAME_RATE=30,p.prototype.setPoint=function(t,e){this.faceTargetX=t,this.faceTargetY=e},p.prototype.getX=function(){return this.faceX},p.prototype.getY=function(){return this.faceY},p.prototype.update=function(){var t=40/7.5/p.FRAME_RATE;if(0==this.lastTimeSec)return void(this.lastTimeSec=UtSystem.getUserTimeMSec());var e=UtSystem.getUserTimeMSec(),n=(e-this.lastTimeSec)*p.FRAME_RATE/1e3;this.lastTimeSec=e;var i=.15*p.FRAME_RATE,r=n*t/i,o=this.faceTargetX-this.faceX,s=this.faceTargetY-this.faceY;if(!(Math.abs(o)<=this.EPSILON&&Math.abs(s)<=this.EPSILON)){var a=Math.sqrt(o*o+s*s),u=t*o/a,l=t*s/a,c=u-this.faceVX,h=l-this.faceVY,f=Math.sqrt(c*c+h*h);(f<-r||f>r)&&(c*=r/f,h*=r/f,f=r),this.faceVX+=c,this.faceVY+=h;var _=.5*(Math.sqrt(r*r+16*r*a-8*r*a)-r),d=Math.sqrt(this.faceVX*this.faceVX+this.faceVY*this.faceVY);d>_&&(this.faceVX*=_/d,this.faceVY*=_/d),this.faceX+=this.faceVX,this.faceY+=this.faceVY}},_.prototype=new a,_.prototype.getMaxScale=function(){return this.max},_.prototype.getMinScale=function(){return this.min},_.prototype.setMaxScale=function(t){this.max=t},_.prototype.setMinScale=function(t){this.min=t},_.prototype.isMaxScale=function(){return this.getScaleX()==this.max},_.prototype.isMinScale=function(){return this.getScaleX()==this.min},_.prototype.adjustTranslate=function(t,e){this.tr[0]*this.maxLeft+(this.tr[12]+t)>this.screenLeft&&(t=this.screenLeft-this.tr[0]*this.maxLeft-this.tr[12]),this.tr[0]*this.maxRight+(this.tr[12]+t)<this.screenRight&&(t=this.screenRight-this.tr[0]*this.maxRight-this.tr[12]),this.tr[5]*this.maxTop+(this.tr[13]+e)<this.screenTop&&(e=this.screenTop-this.tr[5]*this.maxTop-this.tr[13]),this.tr[5]*this.maxBottom+(this.tr[13]+e)>this.screenBottom&&(e=this.screenBottom-this.tr[5]*this.maxBottom-this.tr[13]);var n=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1];a.mul(n,this.tr,this.tr)},_.prototype.adjustScale=function(t,e,n){var i=n*this.tr[0];i<this.min?this.tr[0]>0&&(n=this.min/this.tr[0]):i>this.max&&this.tr[0]>0&&(n=this.max/this.tr[0]);var r=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1],o=[n,0,0,0,0,n,0,0,0,0,1,0,0,0,0,1],s=[1,0,0,0,0,1,0,0,0,0,1,0,-t,-e,0,1];a.mul(s,this.tr,this.tr),a.mul(o,this.tr,this.tr),a.mul(r,this.tr,this.tr)},_.prototype.setScreenRect=function(t,e,n,i){this.screenLeft=t,this.screenRight=e,this.screenTop=i,this.screenBottom=n},_.prototype.setMaxScreenRect=function(t,e,n,i){this.maxLeft=t,this.maxRight=e,this.maxTop=i,this.maxBottom=n},_.prototype.getScreenLeft=function(){return this.screenLeft},_.prototype.getScreenRight=function(){return this.screenRight},_.prototype.getScreenBottom=function(){return this.screenBottom},_.prototype.getScreenTop=function(){return this.screenTop},_.prototype.getMaxLeft=function(){return this.maxLeft},_.prototype.getMaxRight=function(){return this.maxRight},_.prototype.getMaxBottom=function(){return this.maxBottom},_.prototype.getMaxTop=function(){return this.maxTop},d.platformManager=null,d.getPlatformManager=function(){return d.platformManager},d.setPlatformManager=function(t){d.platformManager=t},t.exports={L2DTargetPoint:p,Live2DFramework:d,L2DViewMatrix:_,L2DPose:h,L2DPartsParam:f,L2DPhysics:c,L2DMotionManager:l,L2DModelMatrix:u,L2DMatrix44:a,EYE_STATE:m,L2DEyeBlink:s,L2DExpressionParam:o,L2DExpressionMotion:r,L2DBaseModel:i}},function(t,e,n){var i={DEBUG_LOG:!1,DEBUG_MOUSE_LOG:!1,VIEW_MAX_SCALE:2,VIEW_MIN_SCALE:.8,VIEW_LOGICAL_LEFT:-1,VIEW_LOGICAL_RIGHT:1,VIEW_LOGICAL_MAX_LEFT:-2,VIEW_LOGICAL_MAX_RIGHT:2,VIEW_LOGICAL_MAX_BOTTOM:-2,VIEW_LOGICAL_MAX_TOP:2,PRIORITY_NONE:0,PRIORITY_IDLE:1,PRIORITY_NORMAL:2,PRIORITY_FORCE:3,MOTION_GROUP_IDLE:"idle",MOTION_GROUP_TAP_BODY:"tap_body",MOTION_GROUP_FLICK_HEAD:"flick_head",MOTION_GROUP_PINCH_IN:"pinch_in",MOTION_GROUP_PINCH_OUT:"pinch_out",MOTION_GROUP_SHAKE:"shake",HIT_AREA_HEAD:"head",HIT_AREA_BODY:"body"};t.exports=i},function(t,e,n){function i(){}i.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i.depth=0,i.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i.tmp=new Array(16),i.reset=function(){this.depth=0},i.loadIdentity=function(){for(var t=0;t<16;t++)this.currentMatrix[t]=t%5==0?1:0},i.push=function(){var t=(this.depth,16*(this.depth+1));this.matrixStack.length<t+16&&(this.matrixStack.length=t+16);for(var e=0;e<16;e++)this.matrixStack[t+e]=this.currentMatrix[e];this.depth++},i.pop=function(){--this.depth<0&&(myError("Invalid matrix stack."),this.depth=0);for(var t=16*this.depth,e=0;e<16;e++)this.currentMatrix[e]=this.matrixStack[t+e]},i.getMatrix=function(){return this.currentMatrix},i.multMatrix=function(t){var e,n,i;for(e=0;e<16;e++)this.tmp[e]=0;for(e=0;e<4;e++)for(n=0;n<4;n++)for(i=0;i<4;i++)this.tmp[e+4*n]+=this.currentMatrix[e+4*i]*t[i+4*n];for(e=0;e<16;e++)this.currentMatrix[e]=this.tmp[e]},t.exports=i},function(t,e,n){function i(t){o=t}function r(){return o}Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=i,e.getContext=r;var o=void 0},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t){N=document.getElementById(t),N.addEventListener&&(window.addEventListener("click",d),window.addEventListener("mousedown",d),window.addEventListener("mousemove",d),window.addEventListener("mouseup",d),document.addEventListener("mouseleave",d),window.addEventListener("touchstart",g),window.addEventListener("touchend",g),window.addEventListener("touchmove",g))}function o(t){var e=N.width,n=N.height;D=new T.L2DTargetPoint;var i=n/e,r=O.default.VIEW_LOGICAL_LEFT,o=O.default.VIEW_LOGICAL_RIGHT,a=-i,l=i;if(R=new T.L2DViewMatrix,R.setScreenRect(r,o,a,l),R.setMaxScreenRect(O.default.VIEW_LOGICAL_MAX_LEFT,O.default.VIEW_LOGICAL_MAX_RIGHT,O.default.VIEW_LOGICAL_MAX_BOTTOM,O.default.VIEW_LOGICAL_MAX_TOP),R.setMaxScale(O.default.VIEW_MAX_SCALE),R.setMinScale(O.default.VIEW_MIN_SCALE),k=new T.L2DMatrix44,k.multScale(1,e/n),F=new T.L2DMatrix44,F.multTranslate(-e/2,-n/2),F.multScale(2/e,-2/e),M=b(),(0,L.setContext)(M),!M)return void console.error("Failed to create WebGL context.");window.Live2D.setGL(M),M.clearColor(0,0,0,0),u(t),s()}function s(){I||(I=!0,function t(){a(),(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)(t,N)}())}function a(){P.default.reset(),P.default.loadIdentity(),D.update(),C.setDrag(D.getX(),D.getY()),M.clear(M.COLOR_BUFFER_BIT),P.default.multMatrix(k.getArray()),P.default.multMatrix(R.getArray()),P.default.push();for(var t=0;t<C.numModels();t++){var e=C.getModel(t);if(null==e)return;e.initialized&&!e.updating&&(e.update(),e.draw(M))}P.default.pop()}function u(t){C.reloadFlg=!0,C.count++,C.changeModel(M,t)}function l(t,e){return t.x*e.x+t.y*e.y}function c(t,e){var n=Math.sqrt(t*t+e*e);return{x:t/n,y:e/n}}function h(t,e,n){function i(t,e){return 180*Math.acos(l({x:0,y:1},c(t,e)))/Math.PI}if(e.x<n.left+n.width&&e.y<n.top+n.height&&e.x>n.left&&e.y>n.top)return e;var r=t.x-e.x,o=t.y-e.y,s=i(r,o);e.x<t.x&&(s=360-s);var a=360-i(n.left-t.x,-1*(n.top-t.y)),u=360-i(n.left-t.x,-1*(n.top+n.height-t.y)),h=i(n.left+n.width-t.x,-1*(n.top-t.y)),f=i(n.left+n.width-t.x,-1*(n.top+n.height-t.y)),p=o/r,_={};if(s<h){var d=n.top-t.y,g=d/p;_={y:t.y+d,x:t.x+g}}else if(s<f){var m=n.left+n.width-t.x,v=m*p;_={y:t.y+v,x:t.x+m}}else if(s<u){var y=n.top+n.height-t.y,$=y/p;_={y:t.y+y,x:t.x+$}}else if(s<a){var b=t.x-n.left,w=b*p;_={y:t.y-w,x:t.x-b}}else{var T=n.top-t.y,S=T/p;_={y:t.y+T,x:t.x+S}}return _}function f(t){U=!0;var e=N.getBoundingClientRect(),n=y(t.clientX-e.left),i=$(t.clientY-e.top),r=h({x:e.left+e.width/2,y:e.top+e.height*G},{x:t.clientX,y:t.clientY},e),o=m(r.x-e.left),s=v(r.y-e.top);O.default.DEBUG_MOUSE_LOG&&console.log("onMouseDown device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+o+" y:"+s+")"),B=n,j=i,D.setPoint(o,s),C.tapEvent(o,s)}function p(t){var e=N.getBoundingClientRect(),n=y(t.clientX-e.left),i=$(t.clientY-e.top),r=h({x:e.left+e.width/2,y:e.top+e.height*G},{x:t.clientX,y:t.clientY},e),o=m(r.x-e.left),s=v(r.y-e.top);O.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+o+" y:"+s+")"),U&&(B=n,j=i,D.setPoint(o,s))}function _(){U&&(U=!1),D.setPoint(0,0)}function d(t){if("mousewheel"==t.type);else if("mousedown"==t.type){if("button"in t&&0!=t.button)return}else if("mousemove"==t.type)f(t);else if("mouseup"==t.type){if("button"in t&&0!=t.button)return}else"mouseleave"==t.type&&_()}function g(t){var e=t.touches[0];"touchstart"==t.type?1==t.touches.length&&f(e):"touchmove"==t.type?p(e):"touchend"==t.type&&_()}function m(t){var e=F.transformX(t);return R.invertTransformX(e)}function v(t){var e=F.transformY(t);return R.invertTransformY(e)}function y(t){return F.transformX(t)}function $(t){return F.transformY(t)}function b(){for(var t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=0;e<t.length;e++)try{var n=N.getContext(t[e],{premultipliedAlpha:!0});if(n)return n}catch(t){}return null}function w(t,e,n){G=void 0===n?.5:n,r(t),o(e)}n(9);var T=n(0),S=n(5),x=i(S),E=n(1),O=i(E),A=n(2),P=i(A),L=n(3),C=(window.navigator.platform.toLowerCase(),new x.default),I=!1,M=null,N=null,D=null,R=null,k=null,F=null,U=!1,B=0,j=0,G=.5;window.loadlive2d=w},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.models=[],this.count=-1,this.reloadFlg=!1,Live2D.init(),o.Live2DFramework.setPlatformManager(new a.default)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=n(7),a=i(s),u=n(6),l=i(u),c=n(1),h=i(c);r.prototype.createModel=function(){var t=new l.default;return this.models.push(t),t},r.prototype.changeModel=function(t,e){this.reloadFlg&&(this.reloadFlg=!1,this.releaseModel(0,t),this.createModel(),this.models[0].load(t,e))},r.prototype.getModel=function(t){return t>=this.models.length?null:this.models[t]},r.prototype.releaseModel=function(t,e){this.models.length<=t||(this.models[t].release(e),delete this.models[t],this.models.splice(t,1))},r.prototype.numModels=function(){return this.models.length},r.prototype.setDrag=function(t,e){for(var n=0;n<this.models.length;n++)this.models[n].setDrag(t,e)},r.prototype.maxScaleEvent=function(){h.default.DEBUG_LOG&&console.log("Max scale event.");for(var t=0;t<this.models.length;t++)this.models[t].startRandomMotion(h.default.MOTION_GROUP_PINCH_IN,h.default.PRIORITY_NORMAL)},r.prototype.minScaleEvent=function(){h.default.DEBUG_LOG&&console.log("Min scale event.");for(var t=0;t<this.models.length;t++)this.models[t].startRandomMotion(h.default.MOTION_GROUP_PINCH_OUT,h.default.PRIORITY_NORMAL)},r.prototype.tapEvent=function(t,e){h.default.DEBUG_LOG&&console.log("tapEvent view x:"+t+" y:"+e);for(var n=0;n<this.models.length;n++)this.models[n].hitTest(h.default.HIT_AREA_HEAD,t,e)?(h.default.DEBUG_LOG&&console.log("Tap face."),this.models[n].setRandomExpression()):this.models[n].hitTest(h.default.HIT_AREA_BODY,t,e)&&(h.default.DEBUG_LOG&&console.log("Tap body. models["+n+"]"),this.models[n].startRandomMotion(h.default.MOTION_GROUP_TAP_BODY,h.default.PRIORITY_NORMAL));return!0}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(){o.L2DBaseModel.prototype.constructor.call(this),this.modelHomeDir="",this.modelSetting=null,this.tmpMatrix=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=n(8),a=i(s),u=n(1),l=i(u),c=n(2),h=i(c);r.prototype=new o.L2DBaseModel,r.prototype.load=function(t,e,n){this.setUpdating(!0),this.setInitialized(!1),this.modelHomeDir=e.substring(0,e.lastIndexOf("/")+1),this.modelSetting=new a.default;var i=this;this.modelSetting.loadModelSetting(e,function(){var t=i.modelHomeDir+i.modelSetting.getModelFile();i.loadModelData(t,function(t){for(var e=0;e<i.modelSetting.getTextureNum();e++){var r=i.modelHomeDir+i.modelSetting.getTextureFile(e);i.loadTexture(e,r,function(){if(i.isTexLoaded){if(i.modelSetting.getExpressionNum()>0){i.expressions={};for(var t=0;t<i.modelSetting.getExpressionNum();t++){var e=i.modelSetting.getExpressionName(t),r=i.modelHomeDir+i.modelSetting.getExpressionFile(t);i.loadExpression(e,r)}}else i.expressionManager=null,i.expressions={};if(null==i.eyeBlink&&(i.eyeBlink=new o.L2DEyeBlink),null!=i.modelSetting.getPhysicsFile()?i.loadPhysics(i.modelHomeDir+i.modelSetting.getPhysicsFile()):i.physics=null,null!=i.modelSetting.getPoseFile()?i.loadPose(i.modelHomeDir+i.modelSetting.getPoseFile(),function(){i.pose.updateParam(i.live2DModel)}):i.pose=null,null!=i.modelSetting.getLayout()){var s=i.modelSetting.getLayout();null!=s.width&&i.modelMatrix.setWidth(s.width),null!=s.height&&i.modelMatrix.setHeight(s.height),null!=s.x&&i.modelMatrix.setX(s.x),null!=s.y&&i.modelMatrix.setY(s.y),null!=s.center_x&&i.modelMatrix.centerX(s.center_x),null!=s.center_y&&i.modelMatrix.centerY(s.center_y),null!=s.top&&i.modelMatrix.top(s.top),null!=s.bottom&&i.modelMatrix.bottom(s.bottom),null!=s.left&&i.modelMatrix.left(s.left),null!=s.right&&i.modelMatrix.right(s.right)}for(var t=0;t<i.modelSetting.getInitParamNum();t++)i.live2DModel.setParamFloat(i.modelSetting.getInitParamID(t),i.modelSetting.getInitParamValue(t));for(var t=0;t<i.modelSetting.getInitPartsVisibleNum();t++)i.live2DModel.setPartsOpacity(i.modelSetting.getInitPartsVisibleID(t),i.modelSetting.getInitPartsVisibleValue(t));i.live2DModel.saveParam(),i.preloadMotionGroup(l.default.MOTION_GROUP_IDLE),i.mainMotionManager.stopAllMotions(),i.setUpdating(!1),i.setInitialized(!0),"function"==typeof n&&n()}})}})})},r.prototype.release=function(t){var e=Live2DFramework.getPlatformManager();t.deleteTexture(e.texture)},r.prototype.preloadMotionGroup=function(t){for(var e=this,n=0;n<this.modelSetting.getMotionNum(t);n++){var i=this.modelSetting.getMotionFile(t,n);this.loadMotion(i,this.modelHomeDir+i,function(i){i.setFadeIn(e.modelSetting.getMotionFadeIn(t,n)),i.setFadeOut(e.modelSetting.getMotionFadeOut(t,n))})}},r.prototype.update=function(){if(null==this.live2DModel)return void(l.default.DEBUG_LOG&&console.error("Failed to update."));var t=UtSystem.getUserTimeMSec()-this.startTimeMSec,e=t/1e3,n=2*e*Math.PI;this.mainMotionManager.isFinished()&&this.startRandomMotion(l.default.MOTION_GROUP_IDLE,l.default.PRIORITY_IDLE),this.live2DModel.loadParam(),this.mainMotionManager.updateParam(this.live2DModel)||null!=this.eyeBlink&&this.eyeBlink.updateParam(this.live2DModel),this.live2DModel.saveParam(),null==this.expressionManager||null==this.expressions||this.expressionManager.isFinished()||this.expressionManager.updateParam(this.live2DModel),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",30*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",30*this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",this.dragX*this.dragY*-30,1),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",10*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_X",this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_Y",this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",Number(15*Math.sin(n/6.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",Number(8*Math.sin(n/3.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",Number(10*Math.sin(n/5.5345)),.5),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",Number(4*Math.sin(n/15.5345)),.5),this.live2DModel.setParamFloat("PARAM_BREATH",Number(.5+.5*Math.sin(n/3.2345)),1),null!=this.physics&&this.physics.updateParam(this.live2DModel),null==this.lipSync&&this.live2DModel.setParamFloat("PARAM_MOUTH_OPEN_Y",this.lipSyncValue),null!=this.pose&&this.pose.updateParam(this.live2DModel),this.live2DModel.update()},r.prototype.setRandomExpression=function(){var t=[];for(var e in this.expressions)t.push(e);var n=parseInt(Math.random()*t.length);this.setExpression(t[n])},r.prototype.startRandomMotion=function(t,e){var n=this.modelSetting.getMotionNum(t),i=parseInt(Math.random()*n);this.startMotion(t,i,e)},r.prototype.startMotion=function(t,e,n){var i=this.modelSetting.getMotionFile(t,e);if(null==i||""==i)return void(l.default.DEBUG_LOG&&console.error("Failed to motion."));if(n==l.default.PRIORITY_FORCE)this.mainMotionManager.setReservePriority(n);else if(!this.mainMotionManager.reserveMotion(n))return void(l.default.DEBUG_LOG&&console.log("Motion is running."));var r,o=this;null==this.motions[t]?this.loadMotion(null,this.modelHomeDir+i,function(i){r=i,o.setFadeInFadeOut(t,e,n,r)}):(r=this.motions[t],o.setFadeInFadeOut(t,e,n,r))},r.prototype.setFadeInFadeOut=function(t,e,n,i){var r=this.modelSetting.getMotionFile(t,e);if(i.setFadeIn(this.modelSetting.getMotionFadeIn(t,e)),i.setFadeOut(this.modelSetting.getMotionFadeOut(t,e)),l.default.DEBUG_LOG&&console.log("Start motion : "+r),null==this.modelSetting.getMotionSound(t,e))this.mainMotionManager.startMotionPrio(i,n);else{var o=this.modelSetting.getMotionSound(t,e),s=document.createElement("audio");s.src=this.modelHomeDir+o,l.default.DEBUG_LOG&&console.log("Start sound : "+o),s.play(),this.mainMotionManager.startMotionPrio(i,n)}},r.prototype.setExpression=function(t){var e=this.expressions[t];l.default.DEBUG_LOG&&console.log("Expression : "+t),this.expressionManager.startMotion(e,!1)},r.prototype.draw=function(t){h.default.push(),h.default.multMatrix(this.modelMatrix.getArray()),this.tmpMatrix=h.default.getMatrix(),this.live2DModel.setMatrix(this.tmpMatrix),this.live2DModel.draw(),h.default.pop()},r.prototype.hitTest=function(t,e,n){for(var i=this.modelSetting.getHitAreaNum(),r=0;r<i;r++)if(t==this.modelSetting.getHitAreaName(r)){var o=this.modelSetting.getHitAreaID(r);return this.hitTestSimple(o,e,n)}return!1}},function(t,e,n){function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(3);i.prototype.loadBytes=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){switch(n.status){case 200:e(n.response);break;default:console.error("Failed to load ("+n.status+") : "+t)}},n.send(null)},i.prototype.loadString=function(t){this.loadBytes(t,function(t){return t})},i.prototype.loadLive2DModel=function(t,e){var n=null;this.loadBytes(t,function(t){n=Live2DModelWebGL.loadModel(t),e(n)})},i.prototype.loadTexture=function(t,e,n,i){var o=new Image;o.src=n,o.onload=function(){var n=(0,r.getContext)(),s=n.createTexture();if(!s)return console.error("Failed to generate gl texture name."),-1;0==t.isPremultipliedAlpha()&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,1),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,s),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,o),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_NEAREST),n.generateMipmap(n.TEXTURE_2D),t.setTexture(e,s),s=null,"function"==typeof i&&i()},o.onerror=function(){console.error("Failed to load image : "+n)}},i.prototype.jsonParseFromBytes=function(t){var e,n=new Uint8Array(t,0,3);return e=239==n[0]&&187==n[1]&&191==n[2]?String.fromCharCode.apply(null,new Uint8Array(t,3)):String.fromCharCode.apply(null,new Uint8Array(t)),JSON.parse(e)},i.prototype.log=function(t){}},function(t,e,n){function i(){this.NAME="name",this.ID="id",this.MODEL="model",this.TEXTURES="textures",this.HIT_AREAS="hit_areas",this.PHYSICS="physics",this.POSE="pose",this.EXPRESSIONS="expressions",this.MOTION_GROUPS="motions",this.SOUND="sound",this.FADE_IN="fade_in",this.FADE_OUT="fade_out",this.LAYOUT="layout",this.INIT_PARAM="init_param",this.INIT_PARTS_VISIBLE="init_parts_visible",this.VALUE="val",this.FILE="file",this.json={}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);i.prototype.loadModelSetting=function(t,e){var n=this;r.Live2DFramework.getPlatformManager().loadBytes(t,function(t){var i=String.fromCharCode.apply(null,new Uint8Array(t));n.json=JSON.parse(i),e()})},i.prototype.getTextureFile=function(t){return null==this.json[this.TEXTURES]||null==this.json[this.TEXTURES][t]?null:this.json[this.TEXTURES][t]},i.prototype.getModelFile=function(){return this.json[this.MODEL]},i.prototype.getTextureNum=function(){return null==this.json[this.TEXTURES]?0:this.json[this.TEXTURES].length},i.prototype.getHitAreaNum=function(){return null==this.json[this.HIT_AREAS]?0:this.json[this.HIT_AREAS].length},i.prototype.getHitAreaID=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.ID]},i.prototype.getHitAreaName=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.NAME]},i.prototype.getPhysicsFile=function(){return this.json[this.PHYSICS]},i.prototype.getPoseFile=function(){return this.json[this.POSE]},i.prototype.getExpressionNum=function(){return null==this.json[this.EXPRESSIONS]?0:this.json[this.EXPRESSIONS].length},i.prototype.getExpressionFile=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.FILE]},i.prototype.getExpressionName=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.NAME]},i.prototype.getLayout=function(){return this.json[this.LAYOUT]},i.prototype.getInitParamNum=function(){return null==this.json[this.INIT_PARAM]?0:this.json[this.INIT_PARAM].length},i.prototype.getMotionNum=function(t){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]?0:this.json[this.MOTION_GROUPS][t].length},i.prototype.getMotionFile=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]?null:this.json[this.MOTION_GROUPS][t][e][this.FILE]},i.prototype.getMotionSound=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.SOUND]?null:this.json[this.MOTION_GROUPS][t][e][this.SOUND]},i.prototype.getMotionFadeIn=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.FADE_IN]?1e3:this.json[this.MOTION_GROUPS][t][e][this.FADE_IN]},i.prototype.getMotionFadeOut=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.FADE_OUT]?1e3:this.json[this.MOTION_GROUPS][t][e][this.FADE_OUT]},i.prototype.getInitParamID=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?null:this.json[this.INIT_PARAM][t][this.ID]},i.prototype.getInitParamValue=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?NaN:this.json[this.INIT_PARAM][t][this.VALUE]},i.prototype.getInitPartsVisibleNum=function(){return null==this.json[this.INIT_PARTS_VISIBLE]?0:this.json[this.INIT_PARTS_VISIBLE].length},i.prototype.getInitPartsVisibleID=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?null:this.json[this.INIT_PARTS_VISIBLE][t][this.ID]},i.prototype.getInitPartsVisibleValue=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?NaN:this.json[this.INIT_PARTS_VISIBLE][t][this.VALUE]}},function(t,e,n){(function(t){!function(){function e(){Ot||(this._$MT=null,this._$5S=null,this._$NP=0,e._$42++,this._$5S=new j(this))}function n(t){if(!Ot){this.clipContextList=new Array,this.glcontext=t.gl,this.dp_webgl=t,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new w,ut.glContext.length>ut.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new M,this.tmpMatrix2=new M,this.tmpMatrixForMask=new M,this.tmpMatrixForDraw=new M,this.CHANNEL_COLORS=new Array;var e=new O;e=new O,e.r=0,e.g=0,e.b=0,e.a=1,this.CHANNEL_COLORS.push(e),e=new O,e.r=1,e.g=0,e.b=0,e.a=0,this.CHANNEL_COLORS.push(e),e=new O,e.r=0,e.g=1,e.b=0,e.a=0,this.CHANNEL_COLORS.push(e),e=new O,e.r=0,e.g=0,e.b=1,e.a=0,this.CHANNEL_COLORS.push(e);for(var n=0;n<this.CHANNEL_COLORS.length;n++)this.dp_webgl.setChannelFlagAsColor(n,this.CHANNEL_COLORS[n])}}function i(t,e,n){this.clipIDList=new Array,this.clipIDList=n,this.clippingMaskDrawIndexList=new Array;for(var i=0;i<n.length;i++)this.clippingMaskDrawIndexList.push(e.getDrawDataIndex(n[i]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new w,this.allClippedDrawRect=new w,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=t}function r(t,e){this._$gP=t,this.drawDataIndex=e}function o(){Ot||(this.color=null)}function s(){Ot||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}function a(){}function u(){this._$r=null,this._$0S=null}function l(){Ot||(this.x=null,this.y=null,this.width=null,this.height=null)}function c(t){Ot||nt.prototype.constructor.call(this,t)}function h(){}function f(t){Ot||nt.prototype.constructor.call(this,t)}function p(){Ot||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,p._$42++)}function _(){Ot||(this.p1=new d,this.p2=new d,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}function d(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}function g(t,e,n){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=e,this._$V0=n}function v(t,e,n,i){g.prototype.constructor.call(this,e,n,i),this._$tL=null,this._$tL=t}function y(t,e,n){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=e,this._$V0=n}function $(t,e,n,i){y.prototype.constructor.call(this,e,n,i),this._$YP=null,this._$YP=t}function b(){Ot||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}function w(){Ot||(this.x=null,this.y=null,this.width=null,this.height=null)}function T(){}function S(){Ot||(this.x=null,this.y=null)}function x(){Ot||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}function E(){Ot||(this._$Eb=E._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=E.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}function O(){Ot||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=ut.L2D_COLOR_BLEND_MODE_MULT)}function A(){Ot||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}function P(){}function L(){Ot||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=L._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}function C(){}function I(){Ot||(this._$Ob=null)}function M(){this.m=new Float32Array(16),this.identity()}function N(t){Ot||nt.prototype.constructor.call(this,t)}function D(){Ot||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}function R(){Ot||(s.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=R._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}function k(){this._$P=new Float32Array(100),this.size=0}function F(){this._$4P=null,this._$I0=null,this._$RP=null}function U(){}function B(){}function j(t){Ot||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(j._$is),this._$_2=new Float32Array(j._$is),this._$vr=new Float32Array(j._$is),this._$Rr=new Float32Array(j._$is),this._$Or=new Float32Array(j._$is),this._$fs=new Float32Array(j._$is),this._$Js=new Array(j._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(U._$Qb),this._$ZP=new Float32Array(2*U._$1r),this._$Ri=t,this._$b0=j._$HP++,this.clipManager=null,this.dp_webgl=null)}function G(){}function q(){Ot||(this._$12=null,this._$bb=null,this._$_L=null,this._$jo=null,this._$iL=null,this._$0L=null,this._$Br=null,this._$Dr=null,this._$Cb=null,this._$mr=null,this._$_L=Pt.STATE_FIRST,this._$Br=4e3,this._$Dr=100,this._$Cb=50,this._$mr=150,this._$jo=!0,this._$iL="PARAM_EYE_L_OPEN",this._$0L="PARAM_EYE_R_OPEN")}function H(){Ot||(E.prototype.constructor.call(this),this._$sb=new Int32Array(H._$As),this._$U2=new Array,this.transform=null,this.gl=null,null==H._$NT&&(H._$NT=H._$9r(256),H._$vS=H._$9r(256),H._$no=H._$vb(256)))}function Y(){Ot||(A.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}function z(t){at.prototype.constructor.call(this,t),this._$8r=A._$ur,this._$Yr=null,this._$Wr=null}function V(){Ot||(x.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}function W(){Ot||(this._$NL=null,this._$3S=null,this._$aS=null,W._$42++)}function X(){Ot||(e.prototype.constructor.call(this),this._$zo=new H)}function J(){Ot||(s.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=J._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}function Q(t,e){return String.fromCharCode(t.getUint8(e))}function k(){this._$P=new Float32Array(100),this.size=0}function F(){this._$4P=null,this._$I0=null,this._$RP=null}function K(){Ot||(A.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}function Z(t){at.prototype.constructor.call(this,t),this._$8r=A._$ur,this._$Cr=null,this._$hr=null}function tt(){Ot||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,tt._$42++)}function et(t){this._$VS=null,this._$e0=null,this._$e0=t}function nt(t){Ot||(this.id=t)}function it(){}function rt(){Ot||(this._$4S=null)}function ot(t,e){this.canvas=t,this.context=e,this.viewport=new Array(0,0,t.width,t.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}function st(){Ot||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}function at(t){Ot||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=t,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}function ut(){}function lt(){}function ct(t){Ot||(this._$ib=t)}function ht(){Ot||(V.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=ht._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=ht._$42++)}function ft(t){xt.prototype.constructor.call(this,t),this._$8r=V._$ur,this._$Cr=null,this._$hr=null}function pt(){Ot||(this.x=null,this.y=null)}function _t(t){Ot||(e.prototype.constructor.call(this),this.drawParamWebGL=new yt(t),this.drawParamWebGL.setGL(ut.getGL(t)))}function dt(){Ot||(this.motions=null,this._$eb=!1,this.motions=new Array)}function gt(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=gt._$Gs++}function mt(){this.m=new Array(1,0,0,0,1,0,0,0,1)}function vt(t){Ot||nt.prototype.constructor.call(this,t)}function yt(t){Ot||(E.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=t,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}function $t(t,e,n){return null==e&&(e=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,n,t.DYNAMIC_DRAW),e}function bt(t,e,n){return null==e&&(e=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.DYNAMIC_DRAW),e}function wt(t){Ot||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=t,this._$F=0)}function Tt(){}function St(){}function xt(t){Ot||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=t)}function Et(){}var Ot=!0;e._$0s=1,e._$4s=2,e._$42=0,e._$62=function(t,n){try{if(n instanceof ArrayBuffer&&(n=new DataView(n)),!(n instanceof DataView))throw new ct("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var i,r=new wt(n),o=r._$ST(),s=r._$ST(),u=r._$ST();if(109!=o||111!=s||99!=u)throw new ct("_$gi _$C _$li , _$Q0 _$P0.");if(i=r._$ST(),r._$gr(i),i>B._$T7)throw t._$NP|=e._$4s,new ct("_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+B._$T7+" < _$f0 : "+i+" )@_$SS#loadModel()\n");var l=r._$nP();if(i>=B._$s7){var c=r._$9T(),h=r._$9T();if(-30584!=c||-30584!=h)throw t._$NP|=e._$0s,new ct("_$gi _$C _$li , _$0 _$6 _$Ui.")}t._$KS(l);var f=t.getModelContext();f.setDrawParam(t.getDrawParam()),f.init()}catch(t){a._$Rb(t)}},e.prototype._$KS=function(t){this._$MT=t},e.prototype.getModelImpl=function(){return null==this._$MT&&(this._$MT=new p,this._$MT._$zP()),this._$MT},e.prototype.getCanvasWidth=function(){return null==this._$MT?0:this._$MT.getCanvasWidth()},e.prototype.getCanvasHeight=function(){return null==this._$MT?0:this._$MT.getCanvasHeight()},e.prototype.getParamFloat=function(t){return"number"!=typeof t&&(t=this._$5S.getParamIndex(f.getID(t))),this._$5S.getParamFloat(t)},e.prototype.setParamFloat=function(t,e,n){"number"!=typeof t&&(t=this._$5S.getParamIndex(f.getID(t))),arguments.length<3&&(n=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1-n)+e*n)},e.prototype.addToParamFloat=function(t,e,n){"number"!=typeof t&&(t=this._$5S.getParamIndex(f.getID(t))),arguments.length<3&&(n=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)+e*n)},e.prototype.multParamFloat=function(t,e,n){"number"!=typeof t&&(t=this._$5S.getParamIndex(f.getID(t))),arguments.length<3&&(n=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1+(e-1)*n))},e.prototype.getParamIndex=function(t){return this._$5S.getParamIndex(f.getID(t))},e.prototype.loadParam=function(){this._$5S.loadParam()},e.prototype.saveParam=function(){this._$5S.saveParam()},e.prototype.init=function(){this._$5S.init()},e.prototype.update=function(){this._$5S.update()},e.prototype._$Rs=function(){return a._$li("_$60 _$PT _$Rs()"),-1},e.prototype._$Ds=function(t){a._$li("_$60 _$PT _$SS#_$Ds() \n")},e.prototype._$K2=function(){},e.prototype.draw=function(){},e.prototype.getModelContext=function(){return this._$5S},e.prototype._$s2=function(){return this._$NP},e.prototype._$P7=function(t,e,n,i){var r=-1,o=0,s=this;if(0!=n)if(1==t.length){var a=t[0],u=0!=s.getParamFloat(a),l=e[0],c=s.getPartsOpacity(l),h=n/i;u?(c+=h)>1&&(c=1):(c-=h)<0&&(c=0),s.setPartsOpacity(l,c)}else{for(var f=0;f<t.length;f++){var a=t[f],p=0!=s.getParamFloat(a);if(p){if(r>=0)break;r=f;var l=e[f];o=s.getPartsOpacity(l),(o+=n/i)>1&&(o=1)}}r<0&&(console.log("No _$wi _$q0/ _$U default[%s]",t[0]),r=0,o=1,s.loadParam(),s.setParamFloat(t[r],o),s.saveParam());for(var f=0;f<t.length;f++){var l=e[f];if(r==f)s.setPartsOpacity(l,o);else{var _,d=s.getPartsOpacity(l);_=o<.5?-.5*o/.5+1:.5*(1-o)/.5;var g=(1-_)*(1-o);g>.15&&(_=1-.15/(1-o)),d>_&&(d=_),s.setPartsOpacity(l,d)}}}else for(var f=0;f<t.length;f++){var a=t[f],l=e[f],p=0!=s.getParamFloat(a);s.setPartsOpacity(l,p?1:0)}},e.prototype.setPartsOpacity=function(t,e){"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(c.getID(t))),this._$5S.setPartsOpacity(t,e)},e.prototype.getPartsDataIndex=function(t){return t instanceof c||(t=c.getID(t)),this._$5S.getPartsDataIndex(t)},e.prototype.getPartsOpacity=function(t){return"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(c.getID(t))),t<0?0:this._$5S.getPartsOpacity(t)},e.prototype.getDrawParam=function(){},e.prototype.getDrawDataIndex=function(t){return this._$5S.getDrawDataIndex(N.getID(t))},e.prototype.getDrawData=function(t){return this._$5S.getDrawData(t)},e.prototype.getTransformedPoints=function(t){var e=this._$5S._$C2(t);return e instanceof ft?e.getTransformedPoints():null},e.prototype.getIndexArray=function(t){if(t<0||t>=this._$5S._$aS.length)return null;var e=this._$5S._$aS[t];return null!=e&&e.getType()==V._$wb&&e instanceof ht?e.getIndexArray():null},n.CHANNEL_COUNT=4,n.RENDER_TEXTURE_USE_MIPMAP=!1,n.NOT_USED_FRAME=-100,n.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var t=this.CHANNEL_COLORS.length-1;t>=0;--t)this.CHANNEL_COLORS.splice(t,1);this.CHANNEL_COLORS=[]}this.releaseShader()},n.prototype.releaseShader=function(){for(var t=ut.frameBuffers.length,e=0;e<t;e++)this.gl.deleteFramebuffer(ut.frameBuffers[e].framebuffer);ut.frameBuffers=[],ut.glContext=[]},n.prototype.init=function(t,e,n){for(var r=0;r<e.length;r++){var o=e[r].getClipIDList();if(null!=o){var s=this.findSameClip(o);null==s&&(s=new i(this,t,o),this.clipContextList.push(s));var a=e[r].getDrawDataID(),u=t.getDrawDataIndex(a);s.addClippedDrawData(a,u),n[r].clipBufPre_clipContext=s}}},n.prototype.getMaskRenderTexture=function(){var t=null;return t=this.dp_webgl.createFramebuffer(),ut.frameBuffers[this.dp_webgl.glno]=t,this.dp_webgl.glno},n.prototype.setupClip=function(t,e){for(var n=0,i=0;i<this.clipContextList.length;i++){var r=this.clipContextList[i];this.calcClippedDrawTotalBounds(t,r),r.isUsing&&n++}if(n>0){var o=e.gl.getParameter(e.gl.FRAMEBUFFER_BINDING),s=new Array(4);s[0]=0,s[1]=0,s[2]=e.gl.canvas.width,s[3]=e.gl.canvas.height,e.gl.viewport(0,0,ut.clippingMaskBufferSize,ut.clippingMaskBufferSize),this.setupLayoutBounds(n),e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,ut.frameBuffers[this.curFrameNo].framebuffer),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT);for(var i=0;i<this.clipContextList.length;i++){var r=this.clipContextList[i],a=r.allClippedDrawRect,u=(r.layoutChannelNo,r.layoutBounds);this.tmpBoundsOnModel._$jL(a),this.tmpBoundsOnModel.expand(.05*a.width,.05*a.height);var l=u.width/this.tmpBoundsOnModel.width,c=u.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(u.x,u.y,0),this.tmpMatrix2.scale(l,c,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(u.x,u.y,0),this.tmpMatrix2.scale(l,c,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(var h=this.tmpMatrixForMask.getArray(),f=0;f<16;f++)r.matrixForMask[f]=h[f];for(var p=this.tmpMatrixForDraw.getArray(),f=0;f<16;f++)r.matrixForDraw[f]=p[f];for(var _=r.clippingMaskDrawIndexList.length,d=0;d<_;d++){var g=r.clippingMaskDrawIndexList[d],m=t.getDrawData(g),v=t._$C2(g);e.setClipBufPre_clipContextForMask(r),m.draw(e,t,v)}}e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,o),e.setClipBufPre_clipContextForMask(null),e.gl.viewport(s[0],s[1],s[2],s[3])}},n.prototype.getColorBuffer=function(){return this.colorBuffer},n.prototype.findSameClip=function(t){for(var e=0;e<this.clipContextList.length;e++){var n=this.clipContextList[e],i=n.clipIDList.length;if(i==t.length){for(var r=0,o=0;o<i;o++)for(var s=n.clipIDList[o],a=0;a<i;a++)if(t[a]==s){r++;break}if(r==i)return n}}return null},n.prototype.calcClippedDrawTotalBounds=function(t,e){for(var n=t._$Ri.getModelImpl().getCanvasWidth(),i=t._$Ri.getModelImpl().getCanvasHeight(),r=n>i?n:i,o=r,s=r,a=0,u=0,l=e.clippedDrawContextList.length,c=0;c<l;c++){var h=e.clippedDrawContextList[c],f=h.drawDataIndex,p=t._$C2(f);if(p._$yo()){for(var _=p.getTransformedPoints(),d=_.length,g=[],m=[],v=0,y=U._$i2;y<d;y+=U._$No)g[v]=_[y],m[v]=_[y+1],v++;var $=Math.min.apply(null,g),b=Math.min.apply(null,m),w=Math.max.apply(null,g),T=Math.max.apply(null,m);$<o&&(o=$),b<s&&(s=b),w>a&&(a=w),T>u&&(u=T)}}if(o==r)e.allClippedDrawRect.x=0,e.allClippedDrawRect.y=0,e.allClippedDrawRect.width=0,e.allClippedDrawRect.height=0,e.isUsing=!1;else{var S=a-o,x=u-s;e.allClippedDrawRect.x=o,e.allClippedDrawRect.y=s,e.allClippedDrawRect.width=S,e.allClippedDrawRect.height=x,e.isUsing=!0}},n.prototype.setupLayoutBounds=function(t){var e=t/n.CHANNEL_COUNT,i=t%n.CHANNEL_COUNT;e=~~e,i=~~i;for(var r=0,o=0;o<n.CHANNEL_COUNT;o++){var s=e+(o<i?1:0);if(0==s);else if(1==s){var u=this.clipContextList[r++];u.layoutChannelNo=o,u.layoutBounds.x=0,u.layoutBounds.y=0,u.layoutBounds.width=1,u.layoutBounds.height=1}else if(2==s)for(var l=0;l<s;l++){var c=l%2,h=0;c=~~c;var u=this.clipContextList[r++];u.layoutChannelNo=o,u.layoutBounds.x=.5*c,u.layoutBounds.y=0,u.layoutBounds.width=.5,u.layoutBounds.height=1}else if(s<=4)for(var l=0;l<s;l++){var c=l%2,h=l/2;c=~~c,h=~~h;var u=this.clipContextList[r++];u.layoutChannelNo=o,u.layoutBounds.x=.5*c,u.layoutBounds.y=.5*h,u.layoutBounds.width=.5,u.layoutBounds.height=.5}else if(s<=9)for(var l=0;l<s;l++){var c=l%3,h=l/3;c=~~c,h=~~h;var u=this.clipContextList[r++];u.layoutChannelNo=o,u.layoutBounds.x=c/3,u.layoutBounds.y=h/3,u.layoutBounds.width=1/3,u.layoutBounds.height=1/3}else a._$li("_$6 _$0P mask count : %d",s)}},i.prototype.addClippedDrawData=function(t,e){var n=new r(t,e);this.clippedDrawContextList.push(n)},s._$JT=function(t,e,n){var i=t/e,r=n/e,o=r,s=1-(1-r)*(1-r),a=1-(1-o)*(1-o),u=1/3*(1-r)*s+(o*(2/3)+1/3*(1-o))*(1-s),l=(o+2/3*(1-o))*a+(r*(1/3)+2/3*(1-r))*(1-a),c=1-3*l+3*u-0,h=3*l-6*u+0,f=3*u-0;if(i<=0)return 0;if(i>=1)return 1;var p=i,_=p*p;return c*(p*_)+h*_+f*p+0},s.prototype._$a0=function(){},s.prototype.setFadeIn=function(t){this._$dP=t},s.prototype.setFadeOut=function(t){this._$eo=t},s.prototype._$pT=function(t){this._$V0=t},s.prototype.getFadeOut=function(){return this._$eo},s.prototype._$4T=function(){return this._$eo},s.prototype._$mT=function(){return this._$V0},s.prototype.getDurationMSec=function(){return-1},s.prototype.getLoopDurationMSec=function(){return-1},s.prototype.updateParam=function(t,e){if(e._$AT&&!e._$9L){var n=P.getUserTimeMSec();if(e._$z2<0){e._$z2=n,e._$bs=n;var i=this.getDurationMSec();e._$Do<0&&(e._$Do=i<=0?-1:e._$z2+i)}var r=this._$V0;r=r*(0==this._$dP?1:lt._$r2((n-e._$bs)/this._$dP))*(0==this._$eo||e._$Do<0?1:lt._$r2((e._$Do-n)/this._$eo)),0<=r&&r<=1||console.log("### assert!! ### "),this.updateParamExe(t,n,r,e),e._$Do>0&&e._$Do<n&&(e._$9L=!0)}},s.prototype.updateParamExe=function(t,e,n,i){},a._$8s=0,a._$fT=new Object,a.start=function(t){var e=a._$fT[t];null==e&&(e=new u,e._$r=t,a._$fT[t]=e),e._$0S=P.getSystemTimeMSec()},a.dump=function(t){var e=a._$fT[t];if(null!=e){var n=P.getSystemTimeMSec(),i=n-e._$0S;return console.log(t+" : "+i+"ms"),i}return-1},a.end=function(t){var e=a._$fT[t];return null!=e?P.getSystemTimeMSec()-e._$0S:-1},a._$li=function(t,e){console.log("_$li : "+t+"\n",e)},a._$Ji=function(t,e){console.log(t,e)},a._$dL=function(t,e){console.log(t,e),console.log("\n")},a._$KL=function(t,e){for(var n=0;n<e;n++)n%16==0&&n>0?console.log("\n"):n%8==0&&n>0&&console.log("  "),console.log("%02X ",255&t[n]);console.log("\n")},a._$nr=function(t,e,n){console.log("%s\n",t);for(var i=e.length,r=0;r<i;++r)console.log("%5d",e[r]),console.log("%s\n",n),console.log(",");console.log("\n")},a._$Rb=function(t){console.log("dump exception : "+t),console.log("stack :: "+t.stack)},l.prototype._$8P=function(){return.5*(this.x+this.x+this.width)},l.prototype._$6P=function(){return.5*(this.y+this.y+this.height)},l.prototype._$EL=function(){return this.x+this.width},l.prototype._$5T=function(){return this.y+this.height},l.prototype._$jL=function(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i},l.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},c.prototype=new nt,c._$tP=new Object,c._$27=function(){c._$tP.clear()},c.getID=function(t){var e=c._$tP[t];return null==e&&(e=new c(t),c._$tP[t]=e),e},c.prototype._$3s=function(){return new c},f.prototype=new nt,f._$tP=new Object,f._$27=function(){f._$tP.clear()},f.getID=function(t){var e=f._$tP[t];return null==e&&(e=new f(t),f._$tP[t]=e),e},f.prototype._$3s=function(){return new f},p._$42=0,p.prototype._$zP=function(){null==this._$vo&&(this._$vo=new rt),null==this._$F2&&(this._$F2=new Array)},p.prototype.getCanvasWidth=function(){return this._$ao},p.prototype.getCanvasHeight=function(){return this._$1S},p.prototype._$F0=function(t){this._$vo=t._$nP(),this._$F2=t._$nP(),this._$ao=t._$6L(),this._$1S=t._$6L()},p.prototype._$6S=function(t){this._$F2.push(t)},p.prototype._$Xr=function(){return this._$F2},p.prototype._$E2=function(){return this._$vo},_.prototype.setup=function(t,e,n){this._$ks=this._$Yb(),this.p2._$xT(),3==arguments.length&&(this._$Fo=t,this._$L2=e,this.p1._$p=n,this.p2._$p=n,this.p2.y=t,this.setup())},_.prototype.getPhysicsPoint1=function(){return this.p1},_.prototype.getPhysicsPoint2=function(){return this.p2},_.prototype._$qr=function(){return this._$Db},_.prototype._$pr=function(t){this._$Db=t},_.prototype._$5r=function(){return this._$M2},_.prototype._$Cs=function(){return this._$9b},_.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},_.prototype.addSrcParam=function(t,e,n,i){var r=new v(t,e,n,i);this._$lL.push(r)},_.prototype.addTargetParam=function(t,e,n,i){var r=new $(t,e,n,i);this._$qP.push(r)},_.prototype.update=function(t,e){if(0==this._$iP)return this._$iP=this._$iT=e,void(this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));var n=(e-this._$iT)/1e3;if(0!=n){for(var i=this._$lL.length-1;i>=0;--i)this._$lL[i]._$oP(t,this);this._$oo(t,n),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/n,this._$ks=this._$M2}for(var i=this._$qP.length-1;i>=0;--i)this._$qP[i]._$YS(t,this);this._$iT=e},_.prototype._$oo=function(t,e){e<.033&&(e=.033);var n=1/e;this.p1.vx=(this.p1.x-this.p1._$s0)*n,this.p1.vy=(this.p1.y-this.p1._$70)*n,this.p1.ax=(this.p1.vx-this.p1._$7L)*n,this.p1.ay=(this.p1.vy-this.p1._$HL)*n,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var i,r,o=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),s=Math.cos(o),a=Math.sin(o),u=9.8*this.p2._$p,l=this._$Db*St._$bS,c=u*Math.cos(o-l);i=c*a,r=c*s;var h=-this.p1.fx*a*a,f=-this.p1.fy*a*s,p=-this.p2.vx*this._$L2,_=-this.p2.vy*this._$L2;this.p2.fx=i+h+p,this.p2.fy=r+f+_,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*e,this.p2.vy+=this.p2.ay*e,this.p2.x+=this.p2.vx*e,this.p2.y+=this.p2.vy*e;var d=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/d,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/d,this.p2.vx=(this.p2.x-this.p2._$s0)*n,this.p2.vy=(this.p2.y-this.p2._$70)*n,this.p2._$xT()},d.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy},g.prototype._$oP=function(t,e){},v.prototype=new g,v.prototype._$oP=function(t,e){var n=this.scale*t.getParamFloat(this._$wL),i=e.getPhysicsPoint1();switch(this._$tL){default:case _.Src.SRC_TO_X:i.x=i.x+(n-i.x)*this._$V0;break;case _.Src.SRC_TO_Y:i.y=i.y+(n-i.y)*this._$V0;break;case _.Src.SRC_TO_G_ANGLE:var r=e._$qr();r+=(n-r)*this._$V0,e._$pr(r)}},y.prototype._$YS=function(t,e){},$.prototype=new y,$.prototype._$YS=function(t,e){switch(this._$YP){default:case _.Target.TARGET_FROM_ANGLE:t.setParamFloat(this._$wL,this.scale*e._$5r(),this._$V0);break;case _.Target.TARGET_FROM_ANGLE_V:t.setParamFloat(this._$wL,this.scale*e._$Cs(),this._$V0)}},_.Src=function(){},_.Src.SRC_TO_X="SRC_TO_X",_.Src.SRC_TO_Y="SRC_TO_Y",_.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",_.Target=function(){},_.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",_.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V",b.prototype.init=function(t){this._$fL=t._$fL,this._$gL=t._$gL,this._$B0=t._$B0,this._$z0=t._$z0,this._$qT=t._$qT,this.reflectX=t.reflectX,this.reflectY=t.reflectY},b.prototype._$F0=function(t){this._$fL=t._$_T(),this._$gL=t._$_T(),this._$B0=t._$_T(),this._$z0=t._$_T(),this._$qT=t._$_T(),t.getFormatVersion()>=B.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=t._$po(),this.reflectY=t._$po())},b.prototype._$e=function(){};var At=function(){};At._$ni=function(t,e,n,i,r,o,s,a,u){var l=s*o-a*r;if(0==l)return null;var c,h=((t-n)*o-(e-i)*r)/l;return c=0!=r?(t-n-h*s)/r:(e-i-h*a)/o,isNaN(c)&&(c=(t-n-h*s)/r,isNaN(c)&&(c=(e-i-h*a)/o),isNaN(c)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+r),console.log("v1x != 0 ? "+(0!=r)))),null==u?new Array(c,h):(u[0]=c,u[1]=h,u)},w.prototype._$8P=function(){return this.x+.5*this.width},w.prototype._$6P=function(){return this.y+.5*this.height},w.prototype._$EL=function(){return this.x+this.width},w.prototype._$5T=function(){return this.y+this.height},w.prototype._$jL=function(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i},w.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},w.prototype.contains=function(t,e){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},w.prototype.expand=function(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},T._$Z2=function(t,e,n,i){var r=e._$Q2(t,n),o=t._$vs(),s=t._$Tr();if(e._$zr(o,s,r),r<=0)return i[o[0]];if(1==r){var a=i[o[0]],u=i[o[1]],l=s[0];return a+(u-a)*l|0}if(2==r){var a=i[o[0]],u=i[o[1]],c=i[o[2]],h=i[o[3]],l=s[0],f=s[1],p=a+(u-a)*l|0,_=c+(h-c)*l|0;return p+(_-p)*f|0}if(3==r){var d=i[o[0]],g=i[o[1]],m=i[o[2]],v=i[o[3]],y=i[o[4]],$=i[o[5]],b=i[o[6]],w=i[o[7]],l=s[0],f=s[1],T=s[2],a=d+(g-d)*l|0,u=m+(v-m)*l|0,c=y+($-y)*l|0,h=b+(w-b)*l|0,p=a+(u-a)*f|0,_=c+(h-c)*f|0;return p+(_-p)*T|0}if(4==r){var S=i[o[0]],x=i[o[1]],E=i[o[2]],O=i[o[3]],A=i[o[4]],P=i[o[5]],L=i[o[6]],C=i[o[7]],I=i[o[8]],M=i[o[9]],N=i[o[10]],D=i[o[11]],R=i[o[12]],k=i[o[13]],F=i[o[14]],U=i[o[15]],l=s[0],f=s[1],T=s[2],B=s[3],d=S+(x-S)*l|0,g=E+(O-E)*l|0,m=A+(P-A)*l|0,v=L+(C-L)*l|0,y=I+(M-I)*l|0,$=N+(D-N)*l|0,b=R+(k-R)*l|0,w=F+(U-F)*l|0,a=d+(g-d)*f|0,u=m+(v-m)*f|0,c=y+($-y)*f|0,h=b+(w-b)*f|0,p=a+(u-a)*T|0,_=c+(h-c)*T|0;return p+(_-p)*B|0}for(var j=1<<r,G=new Float32Array(j),q=0;q<j;q++){for(var H=q,Y=1,z=0;z<r;z++)Y*=H%2==0?1-s[z]:s[z],H/=2;G[q]=Y}for(var V=new Float32Array(j),W=0;W<j;W++)V[W]=i[o[W]];for(var X=0,W=0;W<j;W++)X+=G[W]*V[W];return X+.5|0},T._$br=function(t,e,n,i){var r=e._$Q2(t,n),o=t._$vs(),s=t._$Tr();if(e._$zr(o,s,r),r<=0)return i[o[0]];if(1==r){var a=i[o[0]],u=i[o[1]],l=s[0];return a+(u-a)*l}if(2==r){var a=i[o[0]],u=i[o[1]],c=i[o[2]],h=i[o[3]],l=s[0],f=s[1];return(1-f)*(a+(u-a)*l)+f*(c+(h-c)*l)}if(3==r){var p=i[o[0]],_=i[o[1]],d=i[o[2]],g=i[o[3]],m=i[o[4]],v=i[o[5]],y=i[o[6]],$=i[o[7]],l=s[0],f=s[1],b=s[2];return(1-b)*((1-f)*(p+(_-p)*l)+f*(d+(g-d)*l))+b*((1-f)*(m+(v-m)*l)+f*(y+($-y)*l))}if(4==r){var w=i[o[0]],T=i[o[1]],S=i[o[2]],x=i[o[3]],E=i[o[4]],O=i[o[5]],A=i[o[6]],P=i[o[7]],L=i[o[8]],C=i[o[9]],I=i[o[10]],M=i[o[11]],N=i[o[12]],D=i[o[13]],R=i[o[14]],k=i[o[15]],l=s[0],f=s[1],b=s[2],F=s[3];return(1-F)*((1-b)*((1-f)*(w+(T-w)*l)+f*(S+(x-S)*l))+b*((1-f)*(E+(O-E)*l)+f*(A+(P-A)*l)))+F*((1-b)*((1-f)*(L+(C-L)*l)+f*(I+(M-I)*l))+b*((1-f)*(N+(D-N)*l)+f*(R+(k-R)*l)))}for(var U=1<<r,B=new Float32Array(U),j=0;j<U;j++){for(var G=j,q=1,H=0;H<r;H++)q*=G%2==0?1-s[H]:s[H],G/=2;B[j]=q}for(var Y=new Float32Array(U),z=0;z<U;z++)Y[z]=i[o[z]];for(var V=0,z=0;z<U;z++)V+=B[z]*Y[z];return V},T._$Vr=function(t,e,n,i,r,o,s,a){var u=e._$Q2(t,n),l=t._$vs(),c=t._$Tr();e._$zr(l,c,u);var h=2*i,f=s;if(u<=0){var p=l[0],_=r[p];if(2==a&&0==s)P._$jT(_,0,o,0,h);else for(var d=0;d<h;)o[f]=_[d++],o[f+1]=_[d++],f+=a}else if(1==u)for(var _=r[l[0]],g=r[l[1]],m=c[0],v=1-m,d=0;d<h;)o[f]=_[d]*v+g[d]*m,++d,o[f+1]=_[d]*v+g[d]*m,++d,f+=a;else if(2==u)for(var _=r[l[0]],g=r[l[1]],y=r[l[2]],$=r[l[3]],m=c[0],b=c[1],v=1-m,w=1-b,T=w*v,S=w*m,x=b*v,E=b*m,d=0;d<h;)o[f]=T*_[d]+S*g[d]+x*y[d]+E*$[d],++d,o[f+1]=T*_[d]+S*g[d]+x*y[d]+E*$[d],++d,f+=a;else if(3==u)for(var O=r[l[0]],A=r[l[1]],L=r[l[2]],C=r[l[3]],I=r[l[4]],M=r[l[5]],N=r[l[6]],D=r[l[7]],m=c[0],b=c[1],R=c[2],v=1-m,w=1-b,k=1-R,F=k*w*v,U=k*w*m,B=k*b*v,j=k*b*m,G=R*w*v,q=R*w*m,H=R*b*v,Y=R*b*m,d=0;d<h;)o[f]=F*O[d]+U*A[d]+B*L[d]+j*C[d]+G*I[d]+q*M[d]+H*N[d]+Y*D[d],++d,o[f+1]=F*O[d]+U*A[d]+B*L[d]+j*C[d]+G*I[d]+q*M[d]+H*N[d]+Y*D[d],++d,f+=a;else if(4==u)for(var z=r[l[0]],V=r[l[1]],W=r[l[2]],X=r[l[3]],J=r[l[4]],Q=r[l[5]],K=r[l[6]],Z=r[l[7]],tt=r[l[8]],et=r[l[9]],nt=r[l[10]],it=r[l[11]],rt=r[l[12]],ot=r[l[13]],st=r[l[14]],at=r[l[15]],m=c[0],b=c[1],R=c[2],ut=c[3],v=1-m,w=1-b,k=1-R,lt=1-ut,ct=lt*k*w*v,ht=lt*k*w*m,ft=lt*k*b*v,pt=lt*k*b*m,_t=lt*R*w*v,dt=lt*R*w*m,gt=lt*R*b*v,mt=lt*R*b*m,vt=ut*k*w*v,yt=ut*k*w*m,$t=ut*k*b*v,bt=ut*k*b*m,wt=ut*R*w*v,Tt=ut*R*w*m,St=ut*R*b*v,xt=ut*R*b*m,d=0;d<h;)o[f]=ct*z[d]+ht*V[d]+ft*W[d]+pt*X[d]+_t*J[d]+dt*Q[d]+gt*K[d]+mt*Z[d]+vt*tt[d]+yt*et[d]+$t*nt[d]+bt*it[d]+wt*rt[d]+Tt*ot[d]+St*st[d]+xt*at[d],++d,o[f+1]=ct*z[d]+ht*V[d]+ft*W[d]+pt*X[d]+_t*J[d]+dt*Q[d]+gt*K[d]+mt*Z[d]+vt*tt[d]+yt*et[d]+$t*nt[d]+bt*it[d]+wt*rt[d]+Tt*ot[d]+St*st[d]+xt*at[d],++d,f+=a;else{for(var Et=1<<u,Ot=new Float32Array(Et),At=0;At<Et;At++){for(var Pt=At,Lt=1,Ct=0;Ct<u;Ct++)Lt*=Pt%2==0?1-c[Ct]:c[Ct],Pt/=2;Ot[At]=Lt}for(var It=new Float32Array(Et),Mt=0;Mt<Et;Mt++)It[Mt]=r[l[Mt]];for(var d=0;d<h;){for(var Nt=0,Dt=0,Rt=d+1,Mt=0;Mt<Et;Mt++)Nt+=Ot[Mt]*It[Mt][d],Dt+=Ot[Mt]*It[Mt][Rt];d+=2,o[f]=Nt,o[f+1]=Dt,f+=a}}},S.prototype._$HT=function(t,e){this.x=t,this.y=e},S.prototype._$HT=function(t){this.x=t.x,this.y=t.y},x._$ur=-2,x._$ES=500,x._$wb=2,x._$8S=3,x._$52=x._$ES,x._$R2=x._$ES,x._$or=function(){return x._$52},x._$Pr=function(){return x._$R2},x.prototype.convertClipIDForV2_11=function(t){var e=[];return null==t?null:0==t.length?null:/,/.test(t)?e=t.id.split(","):(e.push(t.id),e)},x.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=B._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},x.prototype.getClipIDList=function(){return this.clipIDList},x.prototype.init=function(t){},x.prototype._$Nr=function(t,e){if(e._$IS[0]=!1,e._$Us=T._$Z2(t,this._$GS,e._$IS,this._$Lb),ut._$Zs);else if(e._$IS[0])return;e._$7s=T._$br(t,this._$GS,e._$IS,this._$mS)},x.prototype._$2b=function(t,e){},x.prototype.getDrawDataID=function(){return this._$gP},x.prototype._$j2=function(t){this._$gP=t},x.prototype.getOpacity=function(t,e){return e._$7s},x.prototype._$zS=function(t,e){return e._$Us},x.prototype._$MS=function(t){for(var e=t.length-1;e>=0;--e){var n=t[e];n<x._$52?x._$52=n:n>x._$R2&&(x._$R2=n)}},x.prototype.getTargetBaseDataID=function(){return this._$dr},x.prototype._$gs=function(t){this._$dr=t},x.prototype._$32=function(){return null!=this._$dr&&this._$dr!=vt._$2o()},x.prototype.preDraw=function(t,e,n){},x.prototype.draw=function(t,e,n){},x.prototype.getType=function(){},x.prototype._$B2=function(t,e,n){},E._$ps=32,E.CLIPPING_PROCESS_NONE=0,E.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,E.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,E.CLIPPING_PROCESS_DRAW=3,E.CLIPPING_PROCESS_CLEAR_ALPHA=4,E.prototype.setChannelFlagAsColor=function(t,e){this.CHANNEL_COLORS[t]=e},E.prototype.getChannelFlagAsColor=function(t){return this.CHANNEL_COLORS[t]},E.prototype._$ZT=function(){},E.prototype._$Uo=function(t,e,n,i,r,o,s){},E.prototype._$Rs=function(){return-1},E.prototype._$Ds=function(t){},E.prototype.setBaseColor=function(t,e,n,i){t<0?t=0:t>1&&(t=1),e<0?e=0:e>1&&(e=1),n<0?n=0:n>1&&(n=1),i<0?i=0:i>1&&(i=1),this._$lT=t,this._$C0=e,this._$tT=n,this._$WL=i},E.prototype._$WP=function(t){this.culling=t},E.prototype.setMatrix=function(t){for(var e=0;e<16;e++)this.matrix4x4[e]=t[e]},E.prototype._$IT=function(){return this.matrix4x4},E.prototype.setPremultipliedAlpha=function(t){this.premultipliedAlpha=t},E.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},E.prototype.setAnisotropy=function(t){this.anisotropy=t},E.prototype.getAnisotropy=function(){return this.anisotropy},E.prototype.getClippingProcess=function(){return this.clippingProcess},E.prototype.setClippingProcess=function(t){this.clippingProcess=t},E.prototype.setClipBufPre_clipContextForMask=function(t){this.clipBufPre_clipContextMask=t},E.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},E.prototype.setClipBufPre_clipContextForDraw=function(t){this.clipBufPre_clipContextDraw=t},E.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw},A._$ur=-2,A._$c2=1,A._$_b=2,A.prototype._$F0=function(t){this._$kP=t._$nP(),this._$dr=t._$nP()},A.prototype.readV2_opacity=function(t){t.getFormatVersion()>=B.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=t._$Tb())},A.prototype.init=function(t){},A.prototype._$Nr=function(t,e){},A.prototype.interpolateOpacity=function(t,e,n,i){null==this._$mS?n.setInterpolatedOpacity(1):n.setInterpolatedOpacity(T._$br(t,e,i,this._$mS))},A.prototype._$2b=function(t,e){},A.prototype._$nb=function(t,e,n,i,r,o,s){},A.prototype.getType=function(){},A.prototype._$gs=function(t){this._$dr=t},A.prototype._$a2=function(t){this._$kP=t},A.prototype.getTargetBaseDataID=function(){return this._$dr},A.prototype.getBaseDataID=function(){return this._$kP},A.prototype._$32=function(){return null!=this._$dr&&this._$dr!=vt._$2o()},P._$W2=0,P._$CS=P._$W2,P._$Mo=function(){return!0},P._$XP=function(t){try{for(var e=getTimeMSec();getTimeMSec()-e<t;);}catch(t){t._$Rb()}},P.getUserTimeMSec=function(){return P._$CS==P._$W2?P.getSystemTimeMSec():P._$CS},P.setUserTimeMSec=function(t){P._$CS=t},P.updateUserTimeMSec=function(){return P._$CS=P.getSystemTimeMSec()},P.getTimeMSec=function(){return(new Date).getTime()},P.getSystemTimeMSec=function(){return(new Date).getTime()},P._$Q=function(t){},P._$jT=function(t,e,n,i,r){for(var o=0;o<r;o++)n[i+o]=t[e+o]},L._$ds=-2,L.prototype._$F0=function(t){this._$wL=t._$nP(),this._$VP=t._$6L(),this._$GP=t._$nP()},L.prototype.getParamIndex=function(t){return this._$2r!=t&&(this._$8o=L._$ds),this._$8o},L.prototype._$Pb=function(t,e){this._$8o=t,this._$2r=e},L.prototype.getParamID=function(){return this._$wL},L.prototype._$yP=function(t){this._$wL=t},L.prototype._$N2=function(){return this._$VP},L.prototype._$d2=function(){return this._$GP},L.prototype._$t2=function(t,e){this._$VP=t,this._$GP=e},L.prototype._$Lr=function(){return this._$O2},L.prototype._$wr=function(t){this._$O2=t},L.prototype._$SL=function(){return this._$ri},L.prototype._$AL=function(t){this._$ri=t},C.startsWith=function(t,e,n){var i=e+n.length;if(i>=t.length)return!1;for(var r=e;r<i;r++)if(C.getChar(t,r)!=n.charAt(r-e))return!1;return!0},C.getChar=function(t,e){return String.fromCharCode(t.getUint8(e))},C.createString=function(t,e,n){for(var i=new ArrayBuffer(2*n),r=new Uint16Array(i),o=0;o<n;o++)r[o]=t.getUint8(e+o);return String.fromCharCode.apply(null,r)},C._$LS=function(t,e,n,i){t instanceof ArrayBuffer&&(t=new DataView(t));var r=n,o=!1,s=!1,a=0,u=C.getChar(t,r);"-"==u&&(o=!0,r++);for(var l=!1;r<e;r++){switch(u=C.getChar(t,r)){case"0":a*=10;break;case"1":a=10*a+1;break;case"2":a=10*a+2;break;case"3":a=10*a+3;break;case"4":a=10*a+4;break;case"5":a=10*a+5;break;case"6":a=10*a+6;break;case"7":a=10*a+7;break;case"8":a=10*a+8;break;case"9":a=10*a+9;break;case".":s=!0,r++,l=!0;break;default:l=!0}if(l)break}if(s)for(var c=.1,h=!1;r<e;r++){switch(u=C.getChar(t,r)){case"0":break;case"1":a+=1*c;break;case"2":a+=2*c;break;case"3":a+=3*c;break;case"4":a+=4*c;break;case"5":a+=5*c;break;case"6":a+=6*c;break;case"7":a+=7*c;break;case"8":a+=8*c;break;case"9":a+=9*c;break;default:h=!0}if(c*=.1,h)break}return o&&(a=-a),i[0]=r,a},I.prototype._$zP=function(){this._$Ob=new Array},I.prototype._$F0=function(t){this._$Ob=t._$nP()},I.prototype._$Ur=function(t){if(t._$WS())return!0;for(var e=t._$v2(),n=this._$Ob.length-1;n>=0;--n){var i=this._$Ob[n].getParamIndex(e);if(i==L._$ds&&(i=t.getParamIndex(this._$Ob[n].getParamID())),t._$Xb(i))return!0}return!1},I.prototype._$Q2=function(t,e){for(var n,i,r=this._$Ob.length,o=t._$v2(),s=0,a=0;a<r;a++){var u=this._$Ob[a];if(n=u.getParamIndex(o),n==L._$ds&&(n=t.getParamIndex(u.getParamID()),u._$Pb(n,o)),n<0)throw new Exception("err 23242 : "+u.getParamID());var l=n<0?0:t.getParamFloat(n);i=u._$N2();var c,h,f=u._$d2(),p=-1,_=0;if(i<1);else if(1==i)c=f[0],c-U._$J<l&&l<c+U._$J?(p=0,_=0):(p=0,e[0]=!0);else if(c=f[0],l<c-U._$J)p=0,e[0]=!0;else if(l<c+U._$J)p=0;else{for(var d=!1,g=1;g<i;++g){if(h=f[g],l<h+U._$J){h-U._$J<l?p=g:(p=g-1,_=(l-c)/(h-c),s++),d=!0;break}c=h}d||(p=i-1,_=0,e[0]=!0)}u._$wr(p),u._$AL(_)}return s},I.prototype._$zr=function(t,e,n){var i=1<<n;i+1>U._$Qb&&console.log("err 23245\n");for(var r=this._$Ob.length,o=1,s=1,a=0,u=0;u<i;++u)t[u]=0;for(var l=0;l<r;++l){var c=this._$Ob[l];if(0==c._$SL()){var h=c._$Lr()*o;if(h<0&&ut._$3T)throw new Exception("err 23246");for(var u=0;u<i;++u)t[u]+=h}else{for(var h=o*c._$Lr(),f=o*(c._$Lr()+1),u=0;u<i;++u)t[u]+=(u/s|0)%2==0?h:f;e[a++]=c._$SL(),s*=2}o*=c._$N2()}t[i]=65535,e[a]=-1},I.prototype._$h2=function(t,e,n){for(var i=new Float32Array(e),r=0;r<e;++r)i[r]=n[r];var o=new L;o._$yP(t),o._$t2(e,i),this._$Ob.push(o)},I.prototype._$J2=function(t){for(var e=t,n=this._$Ob.length,i=0;i<n;++i){var r=this._$Ob[i],o=r._$N2(),s=e%r._$N2(),a=r._$d2()[s];console.log("%s[%d]=%7.2f / ",r.getParamID(),s,a),e/=o}console.log("\n")},I.prototype.getParamCount=function(){return this._$Ob.length},I.prototype._$zs=function(){return this._$Ob},M.prototype.identity=function(){for(var t=0;t<16;t++)this.m[t]=t%5==0?1:0},M.prototype.getArray=function(){return this.m},M.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},M.prototype.setMatrix=function(t){if(null!=t&&16==t.length)for(var e=0;e<16;e++)this.m[e]=t[e]},M.prototype.mult=function(t,e,n){return null==e?null:(this==e?this.mult_safe(this.m,t.m,e.m,n):this.mult_fast(this.m,t.m,e.m,n),e)},M.prototype.mult_safe=function(t,e,n,i){if(t==n){var r=new Array(16);this.mult_fast(t,e,r,i);for(var o=15;o>=0;--o)n[o]=r[o]}else this.mult_fast(t,e,n,i)},M.prototype.mult_fast=function(t,e,n,i){i?(n[0]=t[0]*e[0]+t[4]*e[1]+t[8]*e[2],n[4]=t[0]*e[4]+t[4]*e[5]+t[8]*e[6],n[8]=t[0]*e[8]+t[4]*e[9]+t[8]*e[10],n[12]=t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12],n[1]=t[1]*e[0]+t[5]*e[1]+t[9]*e[2],n[5]=t[1]*e[4]+t[5]*e[5]+t[9]*e[6],n[9]=t[1]*e[8]+t[5]*e[9]+t[9]*e[10],n[13]=t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13],n[2]=t[2]*e[0]+t[6]*e[1]+t[10]*e[2],n[6]=t[2]*e[4]+t[6]*e[5]+t[10]*e[6],n[10]=t[2]*e[8]+t[6]*e[9]+t[10]*e[10],n[14]=t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14],n[3]=n[7]=n[11]=0,n[15]=1):(n[0]=t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],n[4]=t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],n[8]=t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],n[12]=t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],n[1]=t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],n[5]=t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],n[9]=t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],n[13]=t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],n[2]=t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],n[6]=t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],n[10]=t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],n[14]=t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],n[3]=t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],n[7]=t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],n[11]=t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],n[15]=t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15])},M.prototype.translate=function(t,e,n){this.m[12]=this.m[0]*t+this.m[4]*e+this.m[8]*n+this.m[12],this.m[13]=this.m[1]*t+this.m[5]*e+this.m[9]*n+this.m[13],this.m[14]=this.m[2]*t+this.m[6]*e+this.m[10]*n+this.m[14],this.m[15]=this.m[3]*t+this.m[7]*e+this.m[11]*n+this.m[15]},M.prototype.scale=function(t,e,n){this.m[0]*=t,this.m[4]*=e,this.m[8]*=n,this.m[1]*=t,this.m[5]*=e,this.m[9]*=n,this.m[2]*=t,this.m[6]*=e,this.m[10]*=n,this.m[3]*=t,this.m[7]*=e,this.m[11]*=n},M.prototype.rotateX=function(t){var e=St.fcos(t),n=St._$9(t),i=this.m[4];this.m[4]=i*e+this.m[8]*n,this.m[8]=i*-n+this.m[8]*e,i=this.m[5],this.m[5]=i*e+this.m[9]*n,this.m[9]=i*-n+this.m[9]*e,i=this.m[6],this.m[6]=i*e+this.m[10]*n,this.m[10]=i*-n+this.m[10]*e,i=this.m[7],this.m[7]=i*e+this.m[11]*n,this.m[11]=i*-n+this.m[11]*e},M.prototype.rotateY=function(t){var e=St.fcos(t),n=St._$9(t),i=this.m[0];this.m[0]=i*e+this.m[8]*-n,this.m[8]=i*n+this.m[8]*e,i=this.m[1],this.m[1]=i*e+this.m[9]*-n,this.m[9]=i*n+this.m[9]*e,i=m[2],this.m[2]=i*e+this.m[10]*-n,this.m[10]=i*n+this.m[10]*e,i=m[3],this.m[3]=i*e+this.m[11]*-n,this.m[11]=i*n+this.m[11]*e},M.prototype.rotateZ=function(t){var e=St.fcos(t),n=St._$9(t),i=this.m[0];this.m[0]=i*e+this.m[4]*n,this.m[4]=i*-n+this.m[4]*e,i=this.m[1],this.m[1]=i*e+this.m[5]*n,this.m[5]=i*-n+this.m[5]*e,i=this.m[2],this.m[2]=i*e+this.m[6]*n,this.m[6]=i*-n+this.m[6]*e,i=this.m[3],this.m[3]=i*e+this.m[7]*n,this.m[7]=i*-n+this.m[7]*e},N.prototype=new nt,N._$tP=new Object,N._$27=function(){N._$tP.clear()},N.getID=function(t){var e=N._$tP[t];return null==e&&(e=new N(t),N._$tP[t]=e),e},N.prototype._$3s=function(){return new N},D._$kS=-1,D._$pS=0,D._$hb=1,D.STATE_IDENTITY=0,D._$gb=1,D._$fo=2,D._$go=4,D.prototype.transform=function(t,e,n){var i,r,o,s,a,u,l=0,c=0;switch(this._$hi){default:return;case D._$go|D._$fo|D._$gb:for(i=this._$7,r=this._$H,o=this._$k,s=this._$f,a=this._$g,u=this._$w;--n>=0;){var h=t[l++],f=t[l++];e[c++]=i*h+r*f+o,e[c++]=s*h+a*f+u}return;case D._$go|D._$fo:for(i=this._$7,r=this._$H,s=this._$f,a=this._$g;--n>=0;){var h=t[l++],f=t[l++];e[c++]=i*h+r*f,e[c++]=s*h+a*f}return;case D._$go|D._$gb:for(r=this._$H,o=this._$k,s=this._$f,u=this._$w;--n>=0;){var h=t[l++];e[c++]=r*t[l++]+o,e[c++]=s*h+u}return;case D._$go:for(r=this._$H,s=this._$f;--n>=0;){var h=t[l++];e[c++]=r*t[l++],e[c++]=s*h}return;case D._$fo|D._$gb:for(i=this._$7,o=this._$k,a=this._$g,u=this._$w;--n>=0;)e[c++]=i*t[l++]+o,e[c++]=a*t[l++]+u;return;case D._$fo:for(i=this._$7,a=this._$g;--n>=0;)e[c++]=i*t[l++],e[c++]=a*t[l++];return;case D._$gb:for(o=this._$k,u=this._$w;--n>=0;)e[c++]=t[l++]+o,e[c++]=t[l++]+u;return;case D.STATE_IDENTITY:return void(t==e&&l==c||P._$jT(t,l,e,c,2*n))}},D.prototype.update=function(){0==this._$H&&0==this._$f?1==this._$7&&1==this._$g?0==this._$k&&0==this._$w?(this._$hi=D.STATE_IDENTITY,this._$Z=D._$pS):(this._$hi=D._$gb,this._$Z=D._$hb):0==this._$k&&0==this._$w?(this._$hi=D._$fo,this._$Z=D._$kS):(this._$hi=D._$fo|D._$gb,this._$Z=D._$kS):0==this._$7&&0==this._$g?0==this._$k&&0==this._$w?(this._$hi=D._$go,this._$Z=D._$kS):(this._$hi=D._$go|D._$gb,this._$Z=D._$kS):0==this._$k&&0==this._$w?(this._$hi=D._$go|D._$fo,this._$Z=D._$kS):(this._$hi=D._$go|D._$fo|D._$gb,this._$Z=D._$kS)},D.prototype._$RT=function(t){this._$IT(t);var e=t[0],n=t[2],i=t[1],r=t[3],o=Math.sqrt(e*e+i*i),s=e*r-n*i;0==o?ut._$so&&console.log("affine._$RT() / rt==0"):(t[0]=o,t[1]=s/o,t[2]=(i*r+e*n)/s,t[3]=Math.atan2(i,e))},D.prototype._$ho=function(t,e,n,i){var r=new Float32Array(6),o=new Float32Array(6);t._$RT(r),e._$RT(o);var s=new Float32Array(6);s[0]=r[0]+(o[0]-r[0])*n,s[1]=r[1]+(o[1]-r[1])*n,s[2]=r[2]+(o[2]-r[2])*n,s[3]=r[3]+(o[3]-r[3])*n,s[4]=r[4]+(o[4]-r[4])*n,s[5]=r[5]+(o[5]-r[5])*n,i._$CT(s)},D.prototype._$CT=function(t){var e=Math.cos(t[3]),n=Math.sin(t[3]);this._$7=t[0]*e,this._$f=t[0]*n,this._$H=t[1]*(t[2]*e-n),this._$g=t[1]*(t[2]*n+e),this._$k=t[4],this._$w=t[5],this.update()},D.prototype._$IT=function(t){t[0]=this._$7,t[1]=this._$f,t[2]=this._$H,t[3]=this._$g,t[4]=this._$k,t[5]=this._$w},R.prototype=new s,R._$cs="VISIBLE:",R._$ar="LAYOUT:",R._$Co=0,R._$D2=[],R._$1T=1,R.loadMotion=function(t){var e=new R,n=[0],i=t.length;e._$yT=0;for(var r=0;r<i;++r){var o=255&t[r];if("\n"!=o&&"\r"!=o)if("#"!=o)if("$"!=o){if("a"<=o&&o<="z"||"A"<=o&&o<="Z"||"_"==o){for(var s=r,a=-1;r<i&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if("="==o){a=r;break}if(a>=0){var u=new F;C.startsWith(t,s,R._$cs)?(u._$RP=F._$hs,u._$4P=new String(t,s,a-s)):C.startsWith(t,s,R._$ar)?(u._$4P=new String(t,s+7,a-s-7),C.startsWith(t,s+7,"ANCHOR_X")?u._$RP=F._$xs:C.startsWith(t,s+7,"ANCHOR_Y")?u._$RP=F._$us:C.startsWith(t,s+7,"SCALE_X")?u._$RP=F._$qs:C.startsWith(t,s+7,"SCALE_Y")?u._$RP=F._$Ys:C.startsWith(t,s+7,"X")?u._$RP=F._$ws:C.startsWith(t,s+7,"Y")&&(u._$RP=F._$Ns)):(u._$RP=F._$Fr,u._$4P=new String(t,s,a-s)),e.motions.push(u);var l=0;for(R._$D2.clear(),r=a+1;r<i&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){var c=C._$LS(t,i,r,n);if(n[0]>0){R._$D2.push(c),l++;var h=n[0];if(h<r){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}r=h}}u._$I0=R._$D2._$BL(),l>e._$yT&&(e._$yT=l)}}}else{for(var s=r,a=-1;r<i&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if("="==o){a=r;break}var f=!1;if(a>=0)for(a==s+4&&"f"==t[s+1]&&"p"==t[s+2]&&"s"==t[s+3]&&(f=!0),r=a+1;r<i&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){var c=C._$LS(t,i,r,n);n[0]>0&&f&&5<c&&c<121&&(e._$D0=c),r=n[0]}for(;r<i&&"\n"!=t[r]&&"\r"!=t[r];++r);}else for(;r<i&&"\n"!=t[r]&&"\r"!=t[r];++r);}return e._$AS=1e3*e._$yT/e._$D0|0,e},R.prototype.getDurationMSec=function(){return this._$AS},R.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];console.log("_$wL[%s] [%d]. ",e._$4P,e._$I0.length);for(var n=0;n<e._$I0.length&&n<10;n++)console.log("%5.2f ,",e._$I0[n]);console.log("\n")}},R.prototype.updateParamExe=function(t,e,n,i){for(var r=e-i._$z2,o=r*this._$D0/1e3,s=0|o,a=o-s,u=0;u<this.motions.length;u++){var l=this.motions[u],c=l._$I0.length,h=l._$4P;if(l._$RP==F._$hs){var f=l._$I0[s>=c?c-1:s];t.setParamFloat(h,f)}else if(F._$ws<=l._$RP&&l._$RP<=F._$Ys);else{var p=t.getParamFloat(h),_=l._$I0[s>=c?c-1:s],d=l._$I0[s+1>=c?c-1:s+1],g=_+(d-_)*a,m=p+(g-p)*n;t.setParamFloat(h,m)}}s>=this._$yT&&(this._$E?(i._$z2=e,this.loopFadeIn&&(i._$bs=e)):i._$9L=!0)},R.prototype._$r0=function(){return this._$E},R.prototype._$aL=function(t){this._$E=t},R.prototype.isLoopFadeIn=function(){return this.loopFadeIn},R.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},k.prototype.clear=function(){this.size=0},k.prototype.add=function(t){if(this._$P.length<=this.size){var e=new Float32Array(2*this.size);P._$jT(this._$P,0,e,0,this.size),this._$P=e}this._$P[this.size++]=t},k.prototype._$BL=function(){var t=new Float32Array(this.size);return P._$jT(this._$P,0,t,0,this.size),t},F._$Fr=0,F._$hs=1,F._$ws=100,F._$Ns=101,F._$xs=102,F._$us=103,F._$qs=104,F._$Ys=105,U._$Ms=1,U._$Qs=2,U._$i2=0,U._$No=2,U._$do=U._$Ms,U._$Ls=!0,U._$1r=5,U._$Qb=65,U._$J=1e-4,U._$FT=.001,U._$Ss=3,B._$o7=6,B._$S7=7,B._$s7=8,B._$77=9,B.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,B.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,B._$T7=B.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,B._$Is=-2004318072,B._$h0=0,B._$4L=23,B._$7P=33,B._$uT=function(t){console.log("_$bo :: _$6 _$mo _$E0 : %d\n",t)},B._$9o=function(t){if(t<40)return B._$uT(t),null;if(t<50)return B._$uT(t),null;if(t<60)return B._$uT(t),null;if(t<100)switch(t){case 65:return new K;case 66:return new I;case 67:return new L;case 68:return new Y;case 69:return new b;case 70:return new ht;default:return B._$uT(t),null}else if(t<150)switch(t){case 131:return new st;case 133:return new tt;case 136:return new p;case 137:return new rt;case 142:return new W}return B._$uT(t),null},j._$HP=0,j._$_0=!0;j._$V2=-1,j._$W0=-1,j._$jr=!1,j._$ZS=!0,j._$tr=-1e6,j._$lr=1e6,j._$is=32,j._$e=!1,j.prototype.getDrawDataIndex=function(t){for(var e=this._$aS.length-1;e>=0;--e)if(null!=this._$aS[e]&&this._$aS[e].getDrawDataID()==t)return e;return-1},j.prototype.getDrawData=function(t){if(t instanceof N){if(null==this._$Bo){this._$Bo=new Object;for(var e=this._$aS.length,n=0;n<e;n++){var i=this._$aS[n],r=i.getDrawDataID();null!=r&&(this._$Bo[r]=i)}}return this._$Bo[id]}return t<this._$aS.length?this._$aS[t]:null},j.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),null!=this._$Bo&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},j.prototype.init=function(){this._$co++,this._$F2.length>0&&this.release();for(var t=this._$Ri.getModelImpl(),e=t._$Xr(),i=e.length,r=new Array,o=new Array,s=0;s<i;++s){var a=e[s];this._$F2.push(a),this._$Hr.push(a.init(this));for(var u=a.getBaseData(),l=u.length,c=0;c<l;++c)r.push(u[c]);for(var c=0;c<l;++c){var h=u[c].init(this);h._$l2(s),o.push(h)}for(var f=a.getDrawData(),p=f.length,c=0;c<p;++c){var _=f[c],d=_.init(this);d._$IP=s,this._$aS.push(_),this._$8b.push(d)}}for(var g=r.length,m=vt._$2o();;){for(var v=!1,s=0;s<g;++s){var y=r[s];if(null!=y){var $=y.getTargetBaseDataID();(null==$||$==m||this.getBaseDataIndex($)>=0)&&(this._$3S.push(y),this._$db.push(o[s]),r[s]=null,v=!0)}}if(!v)break}var b=t._$E2();if(null!=b){var w=b._$1s();if(null!=w)for(var T=w.length,s=0;s<T;++s){var S=w[s];null!=S&&this._$02(S.getParamID(),S.getDefaultValue(),S.getMinValue(),S.getMaxValue())}}this.clipManager=new n(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},j.prototype.update=function(){j._$e&&a.start("_$zL");for(var t=this._$_2.length,e=0;e<t;e++)this._$_2[e]!=this._$vr[e]&&(this._$Js[e]=j._$ZS,this._$vr[e]=this._$_2[e]);var n=this._$3S.length,i=this._$aS.length,r=V._$or(),o=V._$Pr(),s=o-r+1;(null==this._$Ws||this._$Ws.length<s)&&(this._$Ws=new Int16Array(s),this._$Vs=new Int16Array(s));for(var e=0;e<s;e++)this._$Ws[e]=j._$V2,this._$Vs[e]=j._$V2;(null==this._$Er||this._$Er.length<i)&&(this._$Er=new Int16Array(i));for(var e=0;e<i;e++)this._$Er[e]=j._$W0;j._$e&&a.dump("_$zL"),j._$e&&a.start("_$UL");for(var u=null,l=0;l<n;++l){var c=this._$3S[l],h=this._$db[l];try{c._$Nr(this,h),c._$2b(this,h)}catch(t){null==u&&(u=t)}}null!=u&&j._$_0&&a._$Rb(u),j._$e&&a.dump("_$UL"),j._$e&&a.start("_$DL");for(var f=null,p=0;p<i;++p){var _=this._$aS[p],d=this._$8b[p];try{if(_._$Nr(this,d),d._$u2())continue;_._$2b(this,d);var g,m=Math.floor(_._$zS(this,d)-r);try{g=this._$Vs[m]}catch(t){console.log("_$li :: %s / %s \t\t\t\t@@_$fS\n",t.toString(),_.getDrawDataID().toString()),m=Math.floor(_._$zS(this,d)-r);continue}g==j._$V2?this._$Ws[m]=p:this._$Er[g]=p,this._$Vs[m]=p}catch(t){null==f&&(f=t,ut._$sT(ut._$H7))}}null!=f&&j._$_0&&a._$Rb(f),j._$e&&a.dump("_$DL"),j._$e&&a.start("_$eL");for(var e=this._$Js.length-1;e>=0;e--)this._$Js[e]=j._$jr;return this._$QT=!1,j._$e&&a.dump("_$eL"),!1},j.prototype.preDraw=function(t){null!=this.clipManager&&(t._$ZT(),this.clipManager.setupClip(this,t))},j.prototype.draw=function(t){if(null==this._$Ws)return void a._$li("call _$Ri.update() before _$Ri.draw() ");var e=this._$Ws.length;t._$ZT();for(var n=0;n<e;++n){var i=this._$Ws[n];if(i!=j._$V2)for(;;){var r=this._$aS[i],o=this._$8b[i];if(o._$yo()){var s=o._$IP,u=this._$Hr[s];o._$VS=u.getPartsOpacity(),r.draw(t,this,o)}var l=this._$Er[i];if(l<=i||l==j._$W0)break;i=l}}},j.prototype.getParamIndex=function(t){for(var e=this._$pb.length-1;e>=0;--e)if(this._$pb[e]==t)return e;return this._$02(t,0,j._$tr,j._$lr)},j.prototype._$BS=function(t){return this.getBaseDataIndex(t)},j.prototype.getBaseDataIndex=function(t){for(var e=this._$3S.length-1;e>=0;--e)if(null!=this._$3S[e]&&this._$3S[e].getBaseDataID()==t)return e;return-1},j.prototype._$UT=function(t,e){var n=new Float32Array(e);return P._$jT(t,0,n,0,t.length),n},j.prototype._$02=function(t,e,n,i){if(this._$qo>=this._$pb.length){var r=this._$pb.length,o=new Array(2*r);P._$jT(this._$pb,0,o,0,r),this._$pb=o,this._$_2=this._$UT(this._$_2,2*r),this._$vr=this._$UT(this._$vr,2*r),this._$Rr=this._$UT(this._$Rr,2*r),this._$Or=this._$UT(this._$Or,2*r);var s=new Array;P._$jT(this._$Js,0,s,0,r),this._$Js=s}return this._$pb[this._$qo]=t,this._$_2[this._$qo]=e,this._$vr[this._$qo]=e,this._$Rr[this._$qo]=n,this._$Or[this._$qo]=i,this._$Js[this._$qo]=j._$ZS,this._$qo++},j.prototype._$Zo=function(t,e){this._$3S[t]=e},j.prototype.setParamFloat=function(t,e){e<this._$Rr[t]&&(e=this._$Rr[t]),e>this._$Or[t]&&(e=this._$Or[t]),this._$_2[t]=e},j.prototype.loadParam=function(){var t=this._$_2.length;t>this._$fs.length&&(t=this._$fs.length),P._$jT(this._$fs,0,this._$_2,0,t)},j.prototype.saveParam=function(){var t=this._$_2.length;t>this._$fs.length&&(this._$fs=new Float32Array(t)),P._$jT(this._$_2,0,this._$fs,0,t)},j.prototype._$v2=function(){return this._$co},j.prototype._$WS=function(){return this._$QT},j.prototype._$Xb=function(t){return this._$Js[t]==j._$ZS},j.prototype._$vs=function(){return this._$Es},j.prototype._$Tr=function(){return this._$ZP},j.prototype.getBaseData=function(t){return this._$3S[t]},j.prototype.getParamFloat=function(t){return this._$_2[t]},j.prototype.getParamMax=function(t){return this._$Or[t]},j.prototype.getParamMin=function(t){return this._$Rr[t]},j.prototype.setPartsOpacity=function(t,e){this._$Hr[t].setPartsOpacity(e)},j.prototype.getPartsOpacity=function(t){return this._$Hr[t].getPartsOpacity()},j.prototype.getPartsDataIndex=function(t){for(var e=this._$F2.length-1;e>=0;--e)if(null!=this._$F2[e]&&this._$F2[e]._$p2()==t)return e;return-1},j.prototype._$q2=function(t){return this._$db[t]},j.prototype._$C2=function(t){return this._$8b[t]},j.prototype._$Bb=function(t){return this._$Hr[t]},j.prototype._$5s=function(t,e){for(var n=this._$Ws.length,i=t,r=0;r<n;++r){var o=this._$Ws[r];if(o!=j._$V2)for(;;){var s=this._$8b[o];s._$yo()&&(s._$GT()._$B2(this,s,i),i+=e);var a=this._$Er[o];if(a<=o||a==j._$W0)break;o=a}}},j.prototype.setDrawParam=function(t){this.dp_webgl=t},j.prototype.getDrawParam=function(){return this.dp_webgl},G._$0T=function(t){return G._$0T(new _$5(t))},G._$0T=function(t){if(!t.exists())throw new _$ls(t._$3b());for(var e,n=t.length(),i=new Int8Array(n),r=new _$Xs(new _$kb(t),8192),o=0;(e=r.read(i,o,n-o))>0;)o+=e;return i},G._$C=function(t){var e=null,n=null;try{e=t instanceof Array?t:new _$Xs(t,8192),n=new _$js;for(var i,r=new Int8Array(1e3);(i=e.read(r))>0;)n.write(r,0,i);return n._$TS()}finally{null!=t&&t.close(),null!=n&&(n.flush(),n.close())}},q.prototype._$T2=function(){return P.getUserTimeMSec()+Math._$10()*(2*this._$Br-1)},q.prototype._$uo=function(t){this._$Br=t},q.prototype._$QS=function(t,e,n){this._$Dr=t,this._$Cb=e,this._$mr=n},q.prototype._$7T=function(t){var e,n=P.getUserTimeMSec(),i=0;switch(this._$_L){case STATE_CLOSING:i=(n-this._$bb)/this._$Dr,i>=1&&(i=1,this._$_L=Pt.STATE_CLOSED,this._$bb=n),e=1-i;break;case STATE_CLOSED:i=(n-this._$bb)/this._$Cb,i>=1&&(this._$_L=Pt.STATE_OPENING,this._$bb=n),e=0;break;case STATE_OPENING:i=(n-this._$bb)/this._$mr,i>=1&&(i=1,this._$_L=Pt.STATE_INTERVAL,this._$12=this._$T2()),e=i;break;case STATE_INTERVAL:this._$12<n&&(this._$_L=Pt.STATE_CLOSING,this._$bb=n),e=1;break;case STATE_FIRST:default:this._$_L=Pt.STATE_INTERVAL,this._$12=this._$T2(),e=1}this._$jo||(e=-e),t.setParamFloat(this._$iL,e),t.setParamFloat(this._$0L,e)};var Pt=function(){};Pt.STATE_FIRST="STATE_FIRST",Pt.STATE_INTERVAL="STATE_INTERVAL",Pt.STATE_CLOSING="STATE_CLOSING",Pt.STATE_CLOSED="STATE_CLOSED",Pt.STATE_OPENING="STATE_OPENING",H.prototype=new E,H._$As=32,H._$Gr=!1,H._$NT=null,H._$vS=null,H._$no=null,H._$9r=function(t){return new Float32Array(t)},H._$vb=function(t){return new Int16Array(t)},H._$cr=function(t,e){return null==t||t._$yL()<e.length?(t=H._$9r(2*e.length),t.put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},H._$mb=function(t,e){return null==t||t._$yL()<e.length?(t=H._$vb(2*e.length),t.put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},H._$Hs=function(){return H._$Gr},H._$as=function(t){H._$Gr=t},H.prototype.setGL=function(t){this.gl=t},H.prototype.setTransform=function(t){this.transform=t},H.prototype._$ZT=function(){},H.prototype._$Uo=function(t,e,n,i,r,o,s,a){if(!(o<.01)){var u=this._$U2[t],l=o>.9?ut.EXPAND_W:0;this.gl.drawElements(u,n,i,r,o,l,this.transform,a)}},H.prototype._$Rs=function(){throw new Error("_$Rs")},H.prototype._$Ds=function(t){throw new Error("_$Ds")},H.prototype._$K2=function(){for(var t=0;t<this._$sb.length;t++)0!=this._$sb[t]&&(this.gl._$Sr(1,this._$sb,t),this._$sb[t]=0)},H.prototype.setTexture=function(t,e){this._$sb.length<t+1&&this._$nS(t),this._$sb[t]=e},H.prototype.setTexture=function(t,e){this._$sb.length<t+1&&this._$nS(t),this._$U2[t]=e},H.prototype._$nS=function(t){var e=Math.max(2*this._$sb.length,t+1+10),n=new Int32Array(e);P._$jT(this._$sb,0,n,0,this._$sb.length),this._$sb=n;var i=new Array;P._$jT(this._$U2,0,i,0,this._$U2.length),this._$U2=i},Y.prototype=new A,Y._$Xo=new Float32Array(2),Y._$io=new Float32Array(2),Y._$0o=new Float32Array(2),Y._$Lo=new Float32Array(2),Y._$To=new Float32Array(2),Y._$Po=new Float32Array(2),Y._$gT=new Array,Y.prototype._$zP=function(){this._$GS=new I,this._$GS._$zP(),this._$Y0=new Array},Y.prototype.getType=function(){return A._$c2},Y.prototype._$F0=function(t){A.prototype._$F0.call(this,t),this._$GS=t._$nP(),this._$Y0=t._$nP(),A.prototype.readV2_opacity.call(this,t)},Y.prototype.init=function(t){var e=new z(this);return e._$Yr=new b,this._$32()&&(e._$Wr=new b),e},Y.prototype._$Nr=function(t,e){this!=e._$GT()&&console.log("### assert!! ### ");var n=e;if(this._$GS._$Ur(t)){var i=Y._$gT;i[0]=!1;var r=this._$GS._$Q2(t,i);e._$Ib(i[0]),this.interpolateOpacity(t,this._$GS,e,i);var o=t._$vs(),s=t._$Tr();if(this._$GS._$zr(o,s,r),r<=0){var a=this._$Y0[o[0]];n._$Yr.init(a)}else if(1==r){var a=this._$Y0[o[0]],u=this._$Y0[o[1]],l=s[0];n._$Yr._$fL=a._$fL+(u._$fL-a._$fL)*l,n._$Yr._$gL=a._$gL+(u._$gL-a._$gL)*l,n._$Yr._$B0=a._$B0+(u._$B0-a._$B0)*l,n._$Yr._$z0=a._$z0+(u._$z0-a._$z0)*l,n._$Yr._$qT=a._$qT+(u._$qT-a._$qT)*l}else if(2==r){var a=this._$Y0[o[0]],u=this._$Y0[o[1]],c=this._$Y0[o[2]],h=this._$Y0[o[3]],l=s[0],f=s[1],p=a._$fL+(u._$fL-a._$fL)*l,_=c._$fL+(h._$fL-c._$fL)*l;n._$Yr._$fL=p+(_-p)*f,p=a._$gL+(u._$gL-a._$gL)*l,_=c._$gL+(h._$gL-c._$gL)*l,n._$Yr._$gL=p+(_-p)*f,p=a._$B0+(u._$B0-a._$B0)*l,_=c._$B0+(h._$B0-c._$B0)*l,n._$Yr._$B0=p+(_-p)*f,p=a._$z0+(u._$z0-a._$z0)*l,_=c._$z0+(h._$z0-c._$z0)*l,n._$Yr._$z0=p+(_-p)*f,p=a._$qT+(u._$qT-a._$qT)*l,_=c._$qT+(h._$qT-c._$qT)*l,n._$Yr._$qT=p+(_-p)*f}else if(3==r){var d=this._$Y0[o[0]],g=this._$Y0[o[1]],m=this._$Y0[o[2]],v=this._$Y0[o[3]],y=this._$Y0[o[4]],$=this._$Y0[o[5]],b=this._$Y0[o[6]],w=this._$Y0[o[7]],l=s[0],f=s[1],T=s[2],p=d._$fL+(g._$fL-d._$fL)*l,_=m._$fL+(v._$fL-m._$fL)*l,S=y._$fL+($._$fL-y._$fL)*l,x=b._$fL+(w._$fL-b._$fL)*l;n._$Yr._$fL=(1-T)*(p+(_-p)*f)+T*(S+(x-S)*f),p=d._$gL+(g._$gL-d._$gL)*l,_=m._$gL+(v._$gL-m._$gL)*l,S=y._$gL+($._$gL-y._$gL)*l,x=b._$gL+(w._$gL-b._$gL)*l,n._$Yr._$gL=(1-T)*(p+(_-p)*f)+T*(S+(x-S)*f),p=d._$B0+(g._$B0-d._$B0)*l,_=m._$B0+(v._$B0-m._$B0)*l,S=y._$B0+($._$B0-y._$B0)*l,x=b._$B0+(w._$B0-b._$B0)*l,n._$Yr._$B0=(1-T)*(p+(_-p)*f)+T*(S+(x-S)*f),p=d._$z0+(g._$z0-d._$z0)*l,_=m._$z0+(v._$z0-m._$z0)*l,S=y._$z0+($._$z0-y._$z0)*l,x=b._$z0+(w._$z0-b._$z0)*l,n._$Yr._$z0=(1-T)*(p+(_-p)*f)+T*(S+(x-S)*f),p=d._$qT+(g._$qT-d._$qT)*l,_=m._$qT+(v._$qT-m._$qT)*l,S=y._$qT+($._$qT-y._$qT)*l,x=b._$qT+(w._$qT-b._$qT)*l,n._$Yr._$qT=(1-T)*(p+(_-p)*f)+T*(S+(x-S)*f)}else if(4==r){var E=this._$Y0[o[0]],O=this._$Y0[o[1]],A=this._$Y0[o[2]],P=this._$Y0[o[3]],L=this._$Y0[o[4]],C=this._$Y0[o[5]],I=this._$Y0[o[6]],M=this._$Y0[o[7]],N=this._$Y0[o[8]],D=this._$Y0[o[9]],R=this._$Y0[o[10]],k=this._$Y0[o[11]],F=this._$Y0[o[12]],U=this._$Y0[o[13]],B=this._$Y0[o[14]],j=this._$Y0[o[15]],l=s[0],f=s[1],T=s[2],G=s[3],p=E._$fL+(O._$fL-E._$fL)*l,_=A._$fL+(P._$fL-A._$fL)*l,S=L._$fL+(C._$fL-L._$fL)*l,x=I._$fL+(M._$fL-I._$fL)*l,q=N._$fL+(D._$fL-N._$fL)*l,H=R._$fL+(k._$fL-R._$fL)*l,z=F._$fL+(U._$fL-F._$fL)*l,V=B._$fL+(j._$fL-B._$fL)*l;n._$Yr._$fL=(1-G)*((1-T)*(p+(_-p)*f)+T*(S+(x-S)*f))+G*((1-T)*(q+(H-q)*f)+T*(z+(V-z)*f)),p=E._$gL+(O._$gL-E._$gL)*l,_=A._$gL+(P._$gL-A._$gL)*l,S=L._$gL+(C._$gL-L._$gL)*l,x=I._$gL+(M._$gL-I._$gL)*l,q=N._$gL+(D._$gL-N._$gL)*l,H=R._$gL+(k._$gL-R._$gL)*l,z=F._$gL+(U._$gL-F._$gL)*l,V=B._$gL+(j._$gL-B._$gL)*l,n._$Yr._$gL=(1-G)*((1-T)*(p+(_-p)*f)+T*(S+(x-S)*f))+G*((1-T)*(q+(H-q)*f)+T*(z+(V-z)*f)),p=E._$B0+(O._$B0-E._$B0)*l,_=A._$B0+(P._$B0-A._$B0)*l,S=L._$B0+(C._$B0-L._$B0)*l,x=I._$B0+(M._$B0-I._$B0)*l,q=N._$B0+(D._$B0-N._$B0)*l,H=R._$B0+(k._$B0-R._$B0)*l,z=F._$B0+(U._$B0-F._$B0)*l,V=B._$B0+(j._$B0-B._$B0)*l,n._$Yr._$B0=(1-G)*((1-T)*(p+(_-p)*f)+T*(S+(x-S)*f))+G*((1-T)*(q+(H-q)*f)+T*(z+(V-z)*f)),p=E._$z0+(O._$z0-E._$z0)*l,_=A._$z0+(P._$z0-A._$z0)*l,S=L._$z0+(C._$z0-L._$z0)*l,x=I._$z0+(M._$z0-I._$z0)*l,q=N._$z0+(D._$z0-N._$z0)*l,H=R._$z0+(k._$z0-R._$z0)*l,z=F._$z0+(U._$z0-F._$z0)*l,V=B._$z0+(j._$z0-B._$z0)*l,n._$Yr._$z0=(1-G)*((1-T)*(p+(_-p)*f)+T*(S+(x-S)*f))+G*((1-T)*(q+(H-q)*f)+T*(z+(V-z)*f)),p=E._$qT+(O._$qT-E._$qT)*l,_=A._$qT+(P._$qT-A._$qT)*l,S=L._$qT+(C._$qT-L._$qT)*l,x=I._$qT+(M._$qT-I._$qT)*l,q=N._$qT+(D._$qT-N._$qT)*l,H=R._$qT+(k._$qT-R._$qT)*l,z=F._$qT+(U._$qT-F._$qT)*l,V=B._$qT+(j._$qT-B._$qT)*l,n._$Yr._$qT=(1-G)*((1-T)*(p+(_-p)*f)+T*(S+(x-S)*f))+G*((1-T)*(q+(H-q)*f)+T*(z+(V-z)*f))}else{for(var W=0|Math.pow(2,r),X=new Float32Array(W),J=0;J<W;J++){for(var Q=J,K=1,Z=0;Z<r;Z++)K*=Q%2==0?1-s[Z]:s[Z],Q/=2;X[J]=K}for(var tt=new Array,et=0;et<W;et++)tt[et]=this._$Y0[o[et]];for(var nt=0,it=0,rt=0,ot=0,st=0,et=0;et<W;et++)nt+=X[et]*tt[et]._$fL,it+=X[et]*tt[et]._$gL,rt+=X[et]*tt[et]._$B0,ot+=X[et]*tt[et]._$z0,st+=X[et]*tt[et]._$qT;n._$Yr._$fL=nt,n._$Yr._$gL=it,n._$Yr._$B0=rt,n._$Yr._$z0=ot,n._$Yr._$qT=st}var a=this._$Y0[o[0]];n._$Yr.reflectX=a.reflectX,n._$Yr.reflectY=a.reflectY}},Y.prototype._$2b=function(t,e){this!=e._$GT()&&console.log("### assert!! ### ");var n=e;if(n._$hS(!0),this._$32()){var i=this.getTargetBaseDataID();if(n._$8r==A._$ur&&(n._$8r=t.getBaseDataIndex(i)),n._$8r<0)ut._$so&&a._$li("_$L _$0P _$G :: %s",i),n._$hS(!1);else{var r=t.getBaseData(n._$8r);if(null!=r){var o=t._$q2(n._$8r),s=Y._$Xo;s[0]=n._$Yr._$fL,s[1]=n._$Yr._$gL;var u=Y._$io;u[0]=0,u[1]=-.1,o._$GT().getType()==A._$c2?u[1]=-10:u[1]=-.1;var l=Y._$0o;this._$Jr(t,r,o,s,u,l);var c=St._$92(u,l);r._$nb(t,o,s,s,1,0,2),n._$Wr._$fL=s[0],n._$Wr._$gL=s[1],n._$Wr._$B0=n._$Yr._$B0,n._$Wr._$z0=n._$Yr._$z0,n._$Wr._$qT=n._$Yr._$qT-c*St._$NS;var h=o.getTotalScale();n.setTotalScale_notForClient(h*n._$Wr._$B0);var f=o.getTotalOpacity();n.setTotalOpacity(f*n.getInterpolatedOpacity()),n._$Wr.reflectX=n._$Yr.reflectX,n._$Wr.reflectY=n._$Yr.reflectY,n._$hS(o._$yo())}else n._$hS(!1)}}else n.setTotalScale_notForClient(n._$Yr._$B0),n.setTotalOpacity(n.getInterpolatedOpacity())},Y.prototype._$nb=function(t,e,n,i,r,o,s){this!=e._$GT()&&console.log("### assert!! ### ");for(var a,u,l=e,c=null!=l._$Wr?l._$Wr:l._$Yr,h=Math.sin(St._$bS*c._$qT),f=Math.cos(St._$bS*c._$qT),p=l.getTotalScale(),_=c.reflectX?-1:1,d=c.reflectY?-1:1,g=f*p*_,m=-h*p*d,v=h*p*_,y=f*p*d,$=c._$fL,b=c._$gL,w=r*s,T=o;T<w;T+=s)a=n[T],u=n[T+1],i[T]=g*a+m*u+$,i[T+1]=v*a+y*u+b},Y.prototype._$Jr=function(t,e,n,i,r,o){e!=n._$GT()&&console.log("### assert!! ### ");var s=Y._$Lo;Y._$Lo[0]=i[0],Y._$Lo[1]=i[1],e._$nb(t,n,s,s,1,0,2);for(var a=Y._$To,u=Y._$Po,l=1,c=0;c<10;c++){if(u[0]=i[0]+l*r[0],u[1]=i[1]+l*r[1],e._$nb(t,n,u,a,1,0,2),a[0]-=s[0],a[1]-=s[1],0!=a[0]||0!=a[1])return o[0]=a[0],void(o[1]=a[1]);if(u[0]=i[0]-l*r[0],u[1]=i[1]-l*r[1],e._$nb(t,n,u,a,1,0,2),a[0]-=s[0],a[1]-=s[1],0!=a[0]||0!=a[1])return a[0]=-a[0],a[0]=-a[0],o[0]=a[0],void(o[1]=a[1]);l*=.1}ut._$so&&console.log("_$L0 to transform _$SP\n")},z.prototype=new at,V.prototype=new x,V._$ur=-2,V._$ES=500,V._$wb=2,V._$8S=3,V._$os=4,V._$52=V._$ES,V._$R2=V._$ES,V._$Sb=function(t){for(var e=t.length-1;e>=0;--e){var n=t[e];n<V._$52?V._$52=n:n>V._$R2&&(V._$R2=n)}},V._$or=function(){return V._$52},V._$Pr=function(){return V._$R2},V.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=B._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,V._$Sb(this._$Lb)},V.prototype.getClipIDList=function(){return this.clipIDList},V.prototype._$Nr=function(t,e){if(e._$IS[0]=!1,e._$Us=T._$Z2(t,this._$GS,e._$IS,this._$Lb),ut._$Zs);else if(e._$IS[0])return;e._$7s=T._$br(t,this._$GS,e._$IS,this._$mS)},V.prototype._$2b=function(t){},V.prototype.getDrawDataID=function(){return this._$gP},V.prototype._$j2=function(t){this._$gP=t},V.prototype.getOpacity=function(t,e){return e._$7s},V.prototype._$zS=function(t,e){return e._$Us},V.prototype.getTargetBaseDataID=function(){return this._$dr},V.prototype._$gs=function(t){this._$dr=t},V.prototype._$32=function(){return null!=this._$dr&&this._$dr!=vt._$2o()},V.prototype.getType=function(){},W._$42=0,W.prototype._$1b=function(){return this._$3S},W.prototype.getDrawDataList=function(){return this._$aS},W.prototype._$F0=function(t){this._$NL=t._$nP(),this._$aS=t._$nP(),this._$3S=t._$nP()},W.prototype._$kr=function(t){t._$Zo(this._$3S),t._$xo(this._$aS),this._$3S=null,this._$aS=null},X.prototype=new e,X.loadModel=function(t){var n=new X;return e._$62(n,t),n},X.loadModel=function(t){var n=new X;return e._$62(n,t),n},X._$to=function(){return new X},X._$er=function(t){var e=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==e.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+e._$PL());for(var n=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],i=X.loadModel(e._$3b()),r=0;r<n.length;r++){var o=new _$5(n[r]);if(0==o.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+o._$PL());i.setTexture(r,_$nL._$_o(t,o._$3b()))}return i},X.prototype.setGL=function(t){this._$zo.setGL(t)},X.prototype.setTransform=function(t){this._$zo.setTransform(t)},X.prototype.draw=function(){this._$5S.draw(this._$zo)},X.prototype._$K2=function(){this._$zo._$K2()},X.prototype.setTexture=function(t,e){null==this._$zo&&a._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,e)},X.prototype.setTexture=function(t,e){null==this._$zo&&a._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,e)},X.prototype._$Rs=function(){return this._$zo._$Rs()},X.prototype._$Ds=function(t){this._$zo._$Ds(t)},X.prototype.getDrawParam=function(){return this._$zo},J.prototype=new s,J._$cs="VISIBLE:",J._$ar="LAYOUT:",J.MTN_PREFIX_FADEIN="FADEIN:",J.MTN_PREFIX_FADEOUT="FADEOUT:",J._$Co=0,J._$1T=1,J.loadMotion=function(t){var e=G._$C(t);return J.loadMotion(e)},J.loadMotion=function(t){t instanceof ArrayBuffer&&(t=new DataView(t));var e=new J,n=[0],i=t.byteLength;e._$yT=0;for(var r=0;r<i;++r){var o=Q(t,r),s=o.charCodeAt(0);if("\n"!=o&&"\r"!=o)if("#"!=o)if("$"!=o){if(97<=s&&s<=122||65<=s&&s<=90||"_"==o){for(var a=r,u=-1;r<i&&"\r"!=(o=Q(t,r))&&"\n"!=o;++r)if("="==o){u=r;break}if(u>=0){var l=new F;C.startsWith(t,a,J._$cs)?(l._$RP=F._$hs,l._$4P=C.createString(t,a,u-a)):C.startsWith(t,a,J._$ar)?(l._$4P=C.createString(t,a+7,u-a-7),C.startsWith(t,a+7,"ANCHOR_X")?l._$RP=F._$xs:C.startsWith(t,a+7,"ANCHOR_Y")?l._$RP=F._$us:C.startsWith(t,a+7,"SCALE_X")?l._$RP=F._$qs:C.startsWith(t,a+7,"SCALE_Y")?l._$RP=F._$Ys:C.startsWith(t,a+7,"X")?l._$RP=F._$ws:C.startsWith(t,a+7,"Y")&&(l._$RP=F._$Ns)):(l._$RP=F._$Fr,l._$4P=C.createString(t,a,u-a)),e.motions.push(l);var c=0,h=[];for(r=u+1;r<i&&"\r"!=(o=Q(t,r))&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){var f=C._$LS(t,i,r,n);if(n[0]>0){h.push(f),c++;var p=n[0];if(p<r){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}r=p-1}}l._$I0=new Float32Array(h),c>e._$yT&&(e._$yT=c)}}}else{for(var a=r,u=-1;r<i&&"\r"!=(o=Q(t,r))&&"\n"!=o;++r)if("="==o){u=r;break}var _=!1;if(u>=0)for(u==a+4&&"f"==Q(t,a+1)&&"p"==Q(t,a+2)&&"s"==Q(t,a+3)&&(_=!0),r=u+1;r<i&&"\r"!=(o=Q(t,r))&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){var f=C._$LS(t,i,r,n);n[0]>0&&_&&5<f&&f<121&&(e._$D0=f),r=n[0]}for(;r<i&&"\n"!=Q(t,r)&&"\r"!=Q(t,r);++r);}else for(;r<i&&"\n"!=Q(t,r)&&"\r"!=Q(t,r);++r);}return e._$rr=1e3*e._$yT/e._$D0|0,e},J.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},J.prototype.getLoopDurationMSec=function(){return this._$rr},J.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];console.log("_$wL[%s] [%d]. ",e._$4P,e._$I0.length);for(var n=0;n<e._$I0.length&&n<10;n++)console.log("%5.2f ,",e._$I0[n]);console.log("\n")}},J.prototype.updateParamExe=function(t,e,n,i){for(var r=e-i._$z2,o=r*this._$D0/1e3,s=0|o,a=o-s,u=0;u<this.motions.length;u++){var l=this.motions[u],c=l._$I0.length,h=l._$4P;if(l._$RP==F._$hs){var f=l._$I0[s>=c?c-1:s];t.setParamFloat(h,f)}else if(F._$ws<=l._$RP&&l._$RP<=F._$Ys);else{var p,_=t.getParamIndex(h),d=t.getModelContext(),g=d.getParamMax(_),m=d.getParamMin(_),v=.4*(g-m),y=d.getParamFloat(_),$=l._$I0[s>=c?c-1:s],b=l._$I0[s+1>=c?c-1:s+1];p=$<b&&b-$>v||$>b&&$-b>v?$:$+(b-$)*a;var w=y+(p-y)*n;t.setParamFloat(h,w)}}s>=this._$yT&&(this._$E?(i._$z2=e,this.loopFadeIn&&(i._$bs=e)):i._$9L=!0),this._$eP=n},J.prototype._$r0=function(){return this._$E},J.prototype._$aL=function(t){this._$E=t},J.prototype._$S0=function(){return this._$D0},J.prototype._$U0=function(t){this._$D0=t},J.prototype.isLoopFadeIn=function(){return this.loopFadeIn},J.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},k.prototype.clear=function(){this.size=0},k.prototype.add=function(t){if(this._$P.length<=this.size){var e=new Float32Array(2*this.size);P._$jT(this._$P,0,e,0,this.size),this._$P=e}this._$P[this.size++]=t},k.prototype._$BL=function(){var t=new Float32Array(this.size);return P._$jT(this._$P,0,t,0,this.size),t},F._$Fr=0,F._$hs=1,F._$ws=100,F._$Ns=101,F._$xs=102,F._$us=103,F._$qs=104,F._$Ys=105,K.prototype=new A,K._$gT=new Array,K.prototype._$zP=function(){this._$GS=new I,this._$GS._$zP()},K.prototype._$F0=function(t){A.prototype._$F0.call(this,t),this._$A=t._$6L(),this._$o=t._$6L(),this._$GS=t._$nP(),this._$Eo=t._$nP(),A.prototype.readV2_opacity.call(this,t)},K.prototype.init=function(t){var e=new Z(this),n=(this._$o+1)*(this._$A+1);return null!=e._$Cr&&(e._$Cr=null),e._$Cr=new Float32Array(2*n),null!=e._$hr&&(e._$hr=null),this._$32()?e._$hr=new Float32Array(2*n):e._$hr=null,e},K.prototype._$Nr=function(t,e){var n=e;if(this._$GS._$Ur(t)){var i=this._$VT(),r=K._$gT;r[0]=!1,T._$Vr(t,this._$GS,r,i,this._$Eo,n._$Cr,0,2),e._$Ib(r[0]),this.interpolateOpacity(t,this._$GS,e,r)}},K.prototype._$2b=function(t,e){var n=e;if(n._$hS(!0),this._$32()){var i=this.getTargetBaseDataID();if(n._$8r==A._$ur&&(n._$8r=t.getBaseDataIndex(i)),n._$8r<0)ut._$so&&a._$li("_$L _$0P _$G :: %s",i),n._$hS(!1);else{var r=t.getBaseData(n._$8r),o=t._$q2(n._$8r);if(null!=r&&o._$yo()){var s=o.getTotalScale();n.setTotalScale_notForClient(s);var u=o.getTotalOpacity();n.setTotalOpacity(u*n.getInterpolatedOpacity()),r._$nb(t,o,n._$Cr,n._$hr,this._$VT(),0,2),n._$hS(!0)}else n._$hS(!1)}}else n.setTotalOpacity(n.getInterpolatedOpacity())},K.prototype._$nb=function(t,e,n,i,r,o,s){var a=e,u=null!=a._$hr?a._$hr:a._$Cr;K.transformPoints_sdk2(n,i,r,o,s,u,this._$o,this._$A)},K.transformPoints_sdk2=function(e,n,i,r,o,s,a,u){for(var l,c,h,f=i*o,p=0,_=0,d=0,g=0,m=0,v=0,y=!1,$=r;$<f;$+=o){var b,w,T,S;if(T=e[$],S=e[$+1],b=T*a,w=S*u,b<0||w<0||a<=b||u<=w){var x=a+1;if(!y){y=!0,p=.25*(s[2*(0+0*x)]+s[2*(a+0*x)]+s[2*(0+u*x)]+s[2*(a+u*x)]),_=.25*(s[2*(0+0*x)+1]+s[2*(a+0*x)+1]+s[2*(0+u*x)+1]+s[2*(a+u*x)+1]);var E=s[2*(a+u*x)]-s[2*(0+0*x)],O=s[2*(a+u*x)+1]-s[2*(0+0*x)+1],A=s[2*(a+0*x)]-s[2*(0+u*x)],P=s[2*(a+0*x)+1]-s[2*(0+u*x)+1];d=.5*(E+A),g=.5*(O+P),m=.5*(E-A),v=.5*(O-P),p-=.5*(d+m),_-=.5*(g+v)}if(-2<T&&T<3&&-2<S&&S<3)if(T<=0)if(S<=0){var L=s[2*(0+0*x)],C=s[2*(0+0*x)+1],I=p-2*d,M=_-2*g,N=p-2*m,D=_-2*v,R=p-2*d-2*m,k=_-2*g-2*v,F=.5*(T- -2),U=.5*(S- -2);F+U<=1?(n[$]=R+(N-R)*F+(I-R)*U,n[$+1]=k+(D-k)*F+(M-k)*U):(n[$]=L+(I-L)*(1-F)+(N-L)*(1-U),n[$+1]=C+(M-C)*(1-F)+(D-C)*(1-U))}else if(S>=1){var N=s[2*(0+u*x)],D=s[2*(0+u*x)+1],R=p-2*d+1*m,k=_-2*g+1*v,L=p+3*m,C=_+3*v,I=p-2*d+3*m,M=_-2*g+3*v,F=.5*(T- -2),U=.5*(S-1);F+U<=1?(n[$]=R+(N-R)*F+(I-R)*U,n[$+1]=k+(D-k)*F+(M-k)*U):(n[$]=L+(I-L)*(1-F)+(N-L)*(1-U),n[$+1]=C+(M-C)*(1-F)+(D-C)*(1-U))}else{var B=0|w;B==u&&(B=u-1);var F=.5*(T- -2),U=w-B,j=B/u,G=(B+1)/u,N=s[2*(0+B*x)],D=s[2*(0+B*x)+1],L=s[2*(0+(B+1)*x)],C=s[2*(0+(B+1)*x)+1],R=p-2*d+j*m,k=_-2*g+j*v,I=p-2*d+G*m,M=_-2*g+G*v;F+U<=1?(n[$]=R+(N-R)*F+(I-R)*U,n[$+1]=k+(D-k)*F+(M-k)*U):(n[$]=L+(I-L)*(1-F)+(N-L)*(1-U),n[$+1]=C+(M-C)*(1-F)+(D-C)*(1-U))}else if(1<=T)if(S<=0){var I=s[2*(a+0*x)],M=s[2*(a+0*x)+1],L=p+3*d,C=_+3*g,R=p+1*d-2*m,k=_+1*g-2*v,N=p+3*d-2*m,D=_+3*g-2*v,F=.5*(T-1),U=.5*(S- -2);F+U<=1?(n[$]=R+(N-R)*F+(I-R)*U,n[$+1]=k+(D-k)*F+(M-k)*U):(n[$]=L+(I-L)*(1-F)+(N-L)*(1-U),n[$+1]=C+(M-C)*(1-F)+(D-C)*(1-U))}else if(S>=1){var R=s[2*(a+u*x)],k=s[2*(a+u*x)+1],N=p+3*d+1*m,D=_+3*g+1*v,I=p+1*d+3*m,M=_+1*g+3*v,L=p+3*d+3*m,C=_+3*g+3*v,F=.5*(T-1),U=.5*(S-1);F+U<=1?(n[$]=R+(N-R)*F+(I-R)*U,n[$+1]=k+(D-k)*F+(M-k)*U):(n[$]=L+(I-L)*(1-F)+(N-L)*(1-U),n[$+1]=C+(M-C)*(1-F)+(D-C)*(1-U))}else{var B=0|w;B==u&&(B=u-1);var F=.5*(T-1),U=w-B,j=B/u,G=(B+1)/u,R=s[2*(a+B*x)],k=s[2*(a+B*x)+1],I=s[2*(a+(B+1)*x)],M=s[2*(a+(B+1)*x)+1],N=p+3*d+j*m,D=_+3*g+j*v,L=p+3*d+G*m,C=_+3*g+G*v;F+U<=1?(n[$]=R+(N-R)*F+(I-R)*U,n[$+1]=k+(D-k)*F+(M-k)*U):(n[$]=L+(I-L)*(1-F)+(N-L)*(1-U),n[$+1]=C+(M-C)*(1-F)+(D-C)*(1-U))}else if(S<=0){var q=0|b;q==a&&(q=a-1);var F=b-q,U=.5*(S- -2),H=q/a,Y=(q+1)/a,I=s[2*(q+0*x)],M=s[2*(q+0*x)+1],L=s[2*(q+1+0*x)],C=s[2*(q+1+0*x)+1],R=p+H*d-2*m,k=_+H*g-2*v,N=p+Y*d-2*m,D=_+Y*g-2*v;F+U<=1?(n[$]=R+(N-R)*F+(I-R)*U,n[$+1]=k+(D-k)*F+(M-k)*U):(n[$]=L+(I-L)*(1-F)+(N-L)*(1-U),n[$+1]=C+(M-C)*(1-F)+(D-C)*(1-U))}else if(S>=1){var q=0|b;q==a&&(q=a-1);var F=b-q,U=.5*(S-1),H=q/a,Y=(q+1)/a,R=s[2*(q+u*x)],k=s[2*(q+u*x)+1],N=s[2*(q+1+u*x)],D=s[2*(q+1+u*x)+1],I=p+H*d+3*m,M=_+H*g+3*v,L=p+Y*d+3*m,C=_+Y*g+3*v;F+U<=1?(n[$]=R+(N-R)*F+(I-R)*U,n[$+1]=k+(D-k)*F+(M-k)*U):(n[$]=L+(I-L)*(1-F)+(N-L)*(1-U),n[$+1]=C+(M-C)*(1-F)+(D-C)*(1-U))}else t.err.printf("_$li calc : %.4f , %.4f\t\t\t\t\t@@BDBoxGrid\n",T,S);else n[$]=p+T*d+S*m,n[$+1]=_+T*g+S*v}else c=b-(0|b),h=w-(0|w),l=2*((0|b)+(0|w)*(a+1)),c+h<1?(n[$]=s[l]*(1-c-h)+s[l+2]*c+s[l+2*(a+1)]*h,n[$+1]=s[l+1]*(1-c-h)+s[l+3]*c+s[l+2*(a+1)+1]*h):(n[$]=s[l+2*(a+1)+2]*(c-1+h)+s[l+2*(a+1)]*(1-c)+s[l+2]*(1-h),n[$+1]=s[l+2*(a+1)+3]*(c-1+h)+s[l+2*(a+1)+1]*(1-c)+s[l+3]*(1-h))}},K.prototype.transformPoints_sdk1=function(t,e,n,i,r,o,s){for(var a,u,l,c,h,f,p,_=e,d=this._$o,g=this._$A,m=r*s,v=null!=_._$hr?_._$hr:_._$Cr,y=o;y<m;y+=s)ut._$ts?(a=n[y],u=n[y+1],a<0?a=0:a>1&&(a=1),u<0?u=0:u>1&&(u=1),a*=d,u*=g,l=0|a,c=0|u,l>d-1&&(l=d-1),c>g-1&&(c=g-1),f=a-l,p=u-c,h=2*(l+c*(d+1))):(a=n[y]*d,u=n[y+1]*g,f=a-(0|a),p=u-(0|u),h=2*((0|a)+(0|u)*(d+1))),f+p<1?(i[y]=v[h]*(1-f-p)+v[h+2]*f+v[h+2*(d+1)]*p,i[y+1]=v[h+1]*(1-f-p)+v[h+3]*f+v[h+2*(d+1)+1]*p):(i[y]=v[h+2*(d+1)+2]*(f-1+p)+v[h+2*(d+1)]*(1-f)+v[h+2]*(1-p),i[y+1]=v[h+2*(d+1)+3]*(f-1+p)+v[h+2*(d+1)+1]*(1-f)+v[h+3]*(1-p))},K.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},K.prototype.getType=function(){return A._$_b},Z.prototype=new at,tt._$42=0,tt.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},tt.prototype._$F0=function(t){this._$g0=t._$8L(),this.visible=t._$8L(),this._$NL=t._$nP(),this._$3S=t._$nP(),this._$aS=t._$nP()},tt.prototype.init=function(t){var e=new et(this);return e.setPartsOpacity(this.isVisible()?1:0),e},tt.prototype._$6o=function(t){if(null==this._$3S)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(t)},tt.prototype._$3o=function(t){if(null==this._$aS)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(t)},tt.prototype._$Zo=function(t){this._$3S=t},tt.prototype._$xo=function(t){this._$aS=t},tt.prototype.isVisible=function(){return this.visible},tt.prototype._$uL=function(){return this._$g0},tt.prototype._$KP=function(t){this.visible=t},tt.prototype._$ET=function(t){this._$g0=t},tt.prototype.getBaseData=function(){return this._$3S},tt.prototype.getDrawData=function(){return this._$aS},tt.prototype._$p2=function(){return this._$NL},tt.prototype._$ob=function(t){this._$NL=t},tt.prototype.getPartsID=function(){return this._$NL},tt.prototype._$MP=function(t){this._$NL=t},et.prototype=new h,et.prototype.getPartsOpacity=function(){return this._$VS},et.prototype.setPartsOpacity=function(t){this._$VS=t},nt._$L7=function(){f._$27(),vt._$27(),N._$27(),c._$27()},nt.prototype.toString=function(){return this.id},it.prototype._$F0=function(t){},rt.prototype._$1s=function(){return this._$4S},rt.prototype._$zP=function(){this._$4S=new Array},rt.prototype._$F0=function(t){this._$4S=t._$nP()},rt.prototype._$Ks=function(t){this._$4S.push(t)},ot.tr=new mt,ot._$50=new mt,ot._$Ti=new Array(0,0),ot._$Pi=new Array(0,0),ot._$B=new Array(0,0),ot.prototype._$lP=function(t,e,n,i){this.viewport=new Array(t,e,n,i)},ot.prototype._$bL=function(){this.context.save();var t=this.viewport;null!=t&&(this.context.beginPath(),this.context._$Li(t[0],t[1],t[2],t[3]),this.context.clip())},ot.prototype._$ei=function(){this.context.restore()},ot.prototype.drawElements=function(t,e,n,i,r,o,s,u){try{r!=this._$Qo&&(this._$Qo=r,this.context.globalAlpha=r);for(var l=e.length,c=t.width,h=t.height,f=this.context,p=this._$xP,_=this._$uP,d=this._$6r,g=this._$3r,m=ot.tr,v=ot._$Ti,y=ot._$Pi,$=ot._$B,b=0;b<l;b+=3){f.save();var w=e[b],T=e[b+1],S=e[b+2],x=p+d*n[2*w],E=_+g*n[2*w+1],O=p+d*n[2*T],A=_+g*n[2*T+1],P=p+d*n[2*S],L=_+g*n[2*S+1];s&&(s._$PS(x,E,$),x=$[0],E=$[1],s._$PS(O,A,$),O=$[0],A=$[1],s._$PS(P,L,$),P=$[0],L=$[1]);var C=c*i[2*w],I=h-h*i[2*w+1],M=c*i[2*T],N=h-h*i[2*T+1],D=c*i[2*S],R=h-h*i[2*S+1],k=Math.atan2(N-I,M-C),F=Math.atan2(A-E,O-x),U=O-x,B=A-E,j=Math.sqrt(U*U+B*B),G=M-C,q=N-I,H=Math.sqrt(G*G+q*q),Y=j/H;At._$ni(D,R,C,I,M-C,N-I,-(N-I),M-C,v),At._$ni(P,L,x,E,O-x,A-E,-(A-E),O-x,y);var z=(y[0]-v[0])/v[1],V=Math.min(C,M,D),W=Math.max(C,M,D),X=Math.min(I,N,R),J=Math.max(I,N,R),Q=Math.floor(V),K=Math.floor(X),Z=Math.ceil(W),tt=Math.ceil(J);if(m.identity(),m.translate(x,E),m.rotate(F),m.scale(1,y[1]/v[1]),m.shear(z,0),m.scale(Y,Y),m.rotate(-k),m.translate(-C,-I),m.setContext(f),o||(o=1.2),ut.IGNORE_EXPAND&&(o=0),ut.USE_CACHED_POLYGON_IMAGE){var et=u._$e0;if(et.gl_cacheImage=et.gl_cacheImage||{},!et.gl_cacheImage[b]){var nt=ot.createCanvas(Z-Q,tt-K);ut.DEBUG_DATA.LDGL_CANVAS_MB=ut.DEBUG_DATA.LDGL_CANVAS_MB||0,ut.DEBUG_DATA.LDGL_CANVAS_MB+=(Z-Q)*(tt-K)*4;var it=nt.getContext("2d");it.translate(-Q,-K),ot.clip(it,m,o,j,C,I,M,N,D,R,x,E,O,A,P,L),it.drawImage(t,0,0),et.gl_cacheImage[b]={cacheCanvas:nt,cacheContext:it}}f.drawImage(et.gl_cacheImage[b].cacheCanvas,Q,K)}else ut.IGNORE_CLIP||ot.clip(f,m,o,j,C,I,M,N,D,R,x,E,O,A,P,L),ut.USE_ADJUST_TRANSLATION&&(V=0,W=c,X=0,J=h),f.drawImage(t,V,X,W-V,J-X,V,X,W-V,J-X);f.restore()}}catch(t){a._$Rb(t)}},ot.clip=function(t,e,n,i,r,o,s,a,u,l,c,h,f,p,_,d){n>.02?ot.expandClip(t,e,n,i,c,h,f,p,_,d):ot.clipWithTransform(t,null,r,o,s,a,u,l)},ot.expandClip=function(t,e,n,i,r,o,s,a,u,l){var c=s-r,h=a-o,f=u-r,p=l-o,_=c*p-h*f>0?n:-n,d=-h,g=c,m=u-s,v=l-a,y=-v,$=m,b=Math.sqrt(m*m+v*v),w=-p,T=f,S=Math.sqrt(f*f+p*p),x=r-_*d/i,E=o-_*g/i,O=s-_*d/i,A=a-_*g/i,P=s-_*y/b,L=a-_*$/b,C=u-_*y/b,I=l-_*$/b,M=r+_*w/S,N=o+_*T/S,D=u+_*w/S,R=l+_*T/S,k=ot._$50;return null!=e._$P2(k)&&(ot.clipWithTransform(t,k,x,E,O,A,P,L,C,I,D,R,M,N),!0)},ot.clipWithTransform=function(t,e,n,i,r,o,s,u){if(arguments.length<7)return void a._$li("err : @LDGL.clip()");if(!(arguments[1]instanceof mt))return void a._$li("err : a[0] is _$6 LDTransform @LDGL.clip()");var l=ot._$B,c=e,h=arguments;if(t.beginPath(),c){c._$PS(h[2],h[3],l),t.moveTo(l[0],l[1]);for(var f=4;f<h.length;f+=2)c._$PS(h[f],h[f+1],l),t.lineTo(l[0],l[1])}else{t.moveTo(h[2],h[3]);for(var f=4;f<h.length;f+=2)t.lineTo(h[f],h[f+1])}t.clip()},ot.createCanvas=function(t,e){var n=document.createElement("canvas");return n.setAttribute("width",t),n.setAttribute("height",e),n||a._$li("err : "+n),n},ot.dumpValues=function(){for(var t="",e=0;e<arguments.length;e++)t+="["+e+"]= "+arguments[e].toFixed(3)+" , ";console.log(t)},st.prototype._$F0=function(t){this._$TT=t._$_T(),this._$LT=t._$_T(),this._$FS=t._$_T(),this._$wL=t._$nP()},st.prototype.getMinValue=function(){return this._$TT},st.prototype.getMaxValue=function(){return this._$LT},st.prototype.getDefaultValue=function(){return this._$FS},st.prototype.getParamID=function(){return this._$wL},at.prototype._$yo=function(){return this._$AT&&!this._$JS},at.prototype._$hS=function(t){this._$AT=t},at.prototype._$GT=function(){return this._$e0},at.prototype._$l2=function(t){this._$IP=t},at.prototype.getPartsIndex=function(){return this._$IP},at.prototype._$x2=function(){return this._$JS},at.prototype._$Ib=function(t){this._$JS=t},at.prototype.getTotalScale=function(){return this.totalScale},at.prototype.setTotalScale_notForClient=function(t){this.totalScale=t},at.prototype.getInterpolatedOpacity=function(){return this._$7s},at.prototype.setInterpolatedOpacity=function(t){this._$7s=t},at.prototype.getTotalOpacity=function(t){return this.totalOpacity},at.prototype.setTotalOpacity=function(t){this.totalOpacity=t},ut._$2s="2.1.00_1",ut._$Kr=201001e3,ut._$sP=!0,ut._$so=!0,ut._$cb=!1,ut._$3T=!0,ut._$Ts=!0,ut._$fb=!0,ut._$ts=!0,ut.L2D_DEFORMER_EXTEND=!0,ut._$Wb=!1;ut._$yr=!1,ut._$Zs=!1,ut.L2D_NO_ERROR=0,ut._$i7=1e3,ut._$9s=1001,ut._$es=1100,ut._$r7=2e3,ut._$07=2001,ut._$b7=2002,ut._$H7=4e3,ut.L2D_COLOR_BLEND_MODE_MULT=0,ut.L2D_COLOR_BLEND_MODE_ADD=1,ut.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,ut._$6b=!0,ut._$cT=0,ut.clippingMaskBufferSize=256,ut.glContext=new Array,ut.frameBuffers=new Array,ut.fTexture=new Array,ut.IGNORE_CLIP=!1,ut.IGNORE_EXPAND=!1,ut.EXPAND_W=2,ut.USE_ADJUST_TRANSLATION=!0,ut.USE_CANVAS_TRANSFORM=!0,ut.USE_CACHED_POLYGON_IMAGE=!1,ut.DEBUG_DATA={},ut.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},ut.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},ut.PROFILE_IOS_DEFAULT=ut.PROFILE_IOS_QUALITY,ut.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},ut.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},ut.initProfile=function(){Et.isIOS()?ut.setupProfile(ut.PROFILE_IOS_DEFAULT):Et.isAndroid()?ut.setupProfile(ut.PROFILE_ANDROID):ut.setupProfile(ut.PROFILE_DESKTOP)},ut.setupProfile=function(t,e){if("number"==typeof t)switch(t){case 9901:t=ut.PROFILE_IOS_SPEED;break;case 9902:t=ut.PROFILE_IOS_QUALITY;break;case 9903:t=ut.PROFILE_IOS_DEFAULT;break;case 9904:t=ut.PROFILE_ANDROID;break;case 9905:t=ut.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+t)}arguments.length<2&&(e=!0),e&&console.log("profile : "+t.PROFILE_NAME);for(var n in t)ut[n]=t[n],e&&console.log("  ["+n+"] = "+t[n])},ut.init=function(){ut._$6b&&(console.log("Live2D %s",ut._$2s),ut._$6b=!1,ut.initProfile())},ut.getVersionStr=function(){return ut._$2s},ut.getVersionNo=function(){return ut._$Kr},ut._$sT=function(t){ut._$cT=t},ut.getError=function(){var t=ut._$cT;return ut._$cT=0,t},ut.dispose=function(){ut.glContext=[],ut.frameBuffers=[],ut.fTexture=[]},ut.setGL=function(t,e){var n=e||0;ut.glContext[n]=t},ut.getGL=function(t){return ut.glContext[t]},ut.setClippingMaskBufferSize=function(t){ut.clippingMaskBufferSize=t},ut.getClippingMaskBufferSize=function(){return ut.clippingMaskBufferSize},ut.deleteBuffer=function(t){ut.getGL(t).deleteFramebuffer(ut.frameBuffers[t].framebuffer),delete ut.frameBuffers[t],delete ut.glContext[t]},lt._$r2=function(t){return t<0?0:t>1?1:.5-.5*Math.cos(t*St.PI_F)},ct._$fr=-1,ct.prototype.toString=function(){return this._$ib},ht.prototype=new V,ht._$42=0,ht._$Os=30,ht._$ms=0,ht._$ns=1,ht._$_s=2,ht._$gT=new Array,ht.prototype._$_S=function(t){this._$LP=t},ht.prototype.getTextureNo=function(){return this._$LP},ht.prototype._$ZL=function(){return this._$Qi},ht.prototype._$H2=function(){return this._$JP},ht.prototype.getNumPoints=function(){return this._$d0},ht.prototype.getType=function(){return V._$wb},ht.prototype._$B2=function(t,e,n){var i=e,r=null!=i._$hr?i._$hr:i._$Cr;switch(U._$do){default:case U._$Ms:throw new Error("_$L _$ro ");case U._$Qs:for(var o=this._$d0-1;o>=0;--o)r[o*U._$No+4]=n}},ht.prototype._$zP=function(){this._$GS=new I,this._$GS._$zP()},ht.prototype._$F0=function(t){V.prototype._$F0.call(this,t),this._$LP=t._$6L(),this._$d0=t._$6L(),this._$Yo=t._$6L();var e=t._$nP();this._$BP=new Int16Array(3*this._$Yo);for(var n=3*this._$Yo-1;n>=0;--n)this._$BP[n]=e[n];if(this._$Eo=t._$nP(),this._$Qi=t._$nP(),t.getFormatVersion()>=B._$s7){if(this._$JP=t._$6L(),0!=this._$JP){if(0!=(1&this._$JP)){var i=t._$6L();null==this._$5P&&(this._$5P=new Object),this._$5P._$Hb=parseInt(i)}0!=(this._$JP&ht._$Os)?this._$6s=(this._$JP&ht._$Os)>>1:this._$6s=ht._$ms,0!=(32&this._$JP)&&(this.culling=!1)}}else this._$JP=0},ht.prototype.init=function(t){var e=new ft(this),n=this._$d0*U._$No,i=this._$32();switch(null!=e._$Cr&&(e._$Cr=null),e._$Cr=new Float32Array(n),null!=e._$hr&&(e._$hr=null),e._$hr=i?new Float32Array(n):null,U._$do){default:case U._$Ms:if(U._$Ls)for(var r=this._$d0-1;r>=0;--r){var o=r<<1;this._$Qi[o+1]=1-this._$Qi[o+1]}break;case U._$Qs:for(var r=this._$d0-1;r>=0;--r){var o=r<<1,s=r*U._$No,a=this._$Qi[o],u=this._$Qi[o+1];e._$Cr[s]=a,e._$Cr[s+1]=u,e._$Cr[s+4]=0,i&&(e._$hr[s]=a,e._$hr[s+1]=u,e._$hr[s+4]=0)}}return e},ht.prototype._$Nr=function(t,e){var n=e;if(this!=n._$GT()&&console.log("### assert!! ### "),this._$GS._$Ur(t)&&(V.prototype._$Nr.call(this,t,n),!n._$IS[0])){var i=ht._$gT;i[0]=!1,T._$Vr(t,this._$GS,i,this._$d0,this._$Eo,n._$Cr,U._$i2,U._$No)}},ht.prototype._$2b=function(t,e){try{this!=e._$GT()&&console.log("### assert!! ### ");var n=!1;e._$IS[0]&&(n=!0);var i=e;if(!n&&(V.prototype._$2b.call(this,t),this._$32())){var r=this.getTargetBaseDataID();if(i._$8r==V._$ur&&(i._$8r=t.getBaseDataIndex(r)),i._$8r<0)ut._$so&&a._$li("_$L _$0P _$G :: %s",r);else{var o=t.getBaseData(i._$8r),s=t._$q2(i._$8r);null==o||s._$x2()?i._$AT=!1:(o._$nb(t,s,i._$Cr,i._$hr,this._$d0,U._$i2,U._$No),i._$AT=!0),i.baseOpacity=s.getTotalOpacity()}}}catch(t){throw t}},ht.prototype.draw=function(t,e,n){if(this!=n._$GT()&&console.log("### assert!! ### "),!n._$IS[0]){var i=n,r=this._$LP;r<0&&(r=1);var o=this.getOpacity(e,i)*n._$VS*n.baseOpacity,s=null!=i._$hr?i._$hr:i._$Cr;t.setClipBufPre_clipContextForDraw(n.clipBufPre_clipContext),t._$WP(this.culling),t._$Uo(r,3*this._$Yo,this._$BP,s,this._$Qi,o,this._$6s,i)}},ht.prototype.dump=function(){console.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \n",this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(var t=0;t<this._$BP.length;t++)console.log("%5d ,",this._$BP[t]);console.log("\n  _$5i _$30");for(var t=0;t<this._$Eo.length;t++){console.log("\n    _$30[%d] = ",t);for(var e=this._$Eo[t],n=0;n<e.length;n++)console.log("%6.2f, ",e[n])}console.log("\n")},ht.prototype._$72=function(t){return null==this._$5P?null:this._$5P[t]},ht.prototype.getIndexArray=function(){return this._$BP},ft.prototype=new xt,ft.prototype.getTransformedPoints=function(){return null!=this._$hr?this._$hr:this._$Cr},pt.prototype._$HT=function(t){this.x=t.x,this.y=t.y},pt.prototype._$HT=function(t,e){this.x=t,this.y=e},_t.prototype=new e,_t.loadModel=function(t){var n=new _t;return e._$62(n,t),n},_t.loadModel=function(t,n){var i=n||0,r=new _t(i);return e._$62(r,t),r},_t._$to=function(){return new _t},_t._$er=function(t){var e=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==e.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+e._$PL());for(var n=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],i=_t.loadModel(e._$3b()),r=0;r<n.length;r++){var o=new _$5(n[r]);if(0==o.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+o._$PL());i.setTexture(r,_$nL._$_o(t,o._$3b()))}return i},_t.prototype.setGL=function(t){ut.setGL(t)},_t.prototype.setTransform=function(t){this.drawParamWebGL.setTransform(t)},_t.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},_t.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},_t.prototype._$K2=function(){this.drawParamWebGL._$K2()},_t.prototype.setTexture=function(t,e){null==this.drawParamWebGL&&a._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,e)},_t.prototype.setTexture=function(t,e){null==this.drawParamWebGL&&a._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,e)},_t.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},_t.prototype._$Ds=function(t){this.drawParamWebGL._$Ds(t)},_t.prototype.getDrawParam=function(){return this.drawParamWebGL},_t.prototype.setMatrix=function(t){this.drawParamWebGL.setMatrix(t)},_t.prototype.setPremultipliedAlpha=function(t){this.drawParamWebGL.setPremultipliedAlpha(t)},_t.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},_t.prototype.setAnisotropy=function(t){this.drawParamWebGL.setAnisotropy(t)},_t.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()},dt.prototype._$tb=function(){return this.motions},dt.prototype.startMotion=function(t,e){for(var n=null,i=this.motions.length,r=0;r<i;++r)null!=(n=this.motions[r])&&(n._$qS(n._$w0.getFadeOut()),this._$eb&&a._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\n",i,n._$sr));if(null==t)return-1;n=new gt,n._$w0=t,this.motions.push(n);var o=n._$sr;return this._$eb&&a._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\n",i,o),o},dt.prototype.updateParam=function(t){try{for(var e=!1,n=0;n<this.motions.length;n++){var i=this.motions[n];if(null!=i){var r=i._$w0;null!=r?(r.updateParam(t,i),e=!0,i.isFinished()&&(this._$eb&&a._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\n",this.motions.length-1,i._$sr),this.motions.splice(n,1),n--)):(this.motions=this.motions.splice(n,1),n--)}else this.motions.splice(n,1),n--}return e}catch(t){return a._$li(t),!0}},dt.prototype.isFinished=function(t){if(arguments.length>=1){for(var e=0;e<this.motions.length;e++){var n=this.motions[e];if(null!=n&&n._$sr==t&&!n.isFinished())return!1}return!0}for(var e=0;e<this.motions.length;e++){var n=this.motions[e];if(null!=n)if(null!=n._$w0){if(!n.isFinished())return!1}else this.motions.splice(e,1),e--;else this.motions.splice(e,1),e--}return!0},dt.prototype.stopAllMotions=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];null!=e?(e._$w0,this.motions.splice(t,1),t--):(this.motions.splice(t,1),t--)}},dt.prototype._$Zr=function(t){this._$eb=t},dt.prototype._$e=function(){console.log("-- _$R --\n");for(var t=0;t<this.motions.length;t++){var e=this.motions[t],n=e._$w0;console.log("MotionQueueEnt[%d] :: %s\n",this.motions.length,n.toString())}},gt._$Gs=0,gt.prototype.isFinished=function(){return this._$9L},gt.prototype._$qS=function(t){var e=P.getUserTimeMSec(),n=e+t;(this._$Do<0||n<this._$Do)&&(this._$Do=n)},gt.prototype._$Bs=function(){return this._$sr},mt.prototype.setContext=function(t){var e=this.m;t.transform(e[0],e[1],e[3],e[4],e[6],e[7])},mt.prototype.toString=function(){for(var t="LDTransform { ",e=0;e<9;e++)t+=this.m[e].toFixed(2)+" ,";return t+=" }"},mt.prototype.identity=function(){var t=this.m;t[0]=t[4]=t[8]=1,t[1]=t[2]=t[3]=t[5]=t[6]=t[7]=0},mt.prototype._$PS=function(t,e,n){null==n&&(n=new Array(0,0));var i=this.m;return n[0]=i[0]*t+i[3]*e+i[6],n[1]=i[1]*t+i[4]*e+i[7],n},mt.prototype._$P2=function(t){t||(t=new mt);var e=this.m,n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7],c=e[8],h=n*s*c+i*a*u+r*o*l-n*a*l-r*s*u-i*o*c;if(0==h)return null;var f=1/h;return t.m[0]=f*(s*c-l*a),t.m[1]=f*(l*r-i*c),t.m[2]=f*(i*a-s*r),t.m[3]=f*(u*a-o*c),t.m[4]=f*(n*c-u*r),t.m[5]=f*(o*r-n*a),t.m[6]=f*(o*l-u*s),t.m[7]=f*(u*i-n*l),t.m[8]=f*(n*s-o*i),t},mt.prototype.transform=function(t,e,n){null==n&&(n=new Array(0,0));var i=this.m;return n[0]=i[0]*t+i[3]*e+i[6],n[1]=i[1]*t+i[4]*e+i[7],n},mt.prototype.translate=function(t,e){var n=this.m;n[6]=n[0]*t+n[3]*e+n[6],n[7]=n[1]*t+n[4]*e+n[7],n[8]=n[2]*t+n[5]*e+n[8]},mt.prototype.scale=function(t,e){var n=this.m;n[0]*=t,n[1]*=t,n[2]*=t,n[3]*=e,n[4]*=e,n[5]*=e},mt.prototype.shear=function(t,e){var n=this.m,i=n[0]+n[3]*e,r=n[1]+n[4]*e,o=n[2]+n[5]*e;n[3]=n[0]*t+n[3],n[4]=n[1]*t+n[4],n[5]=n[2]*t+n[5],n[0]=i,n[1]=r,n[2]=o},mt.prototype.rotate=function(t){var e=this.m,n=Math.cos(t),i=Math.sin(t),r=e[0]*n+e[3]*i,o=e[1]*n+e[4]*i,s=e[2]*n+e[5]*i;e[3]=-e[0]*i+e[3]*n,e[4]=-e[1]*i+e[4]*n,e[5]=-e[2]*i+e[5]*n,e[0]=r,e[1]=o,e[2]=s},mt.prototype.concatenate=function(t){var e=this.m,n=t.m,i=e[0]*n[0]+e[3]*n[1]+e[6]*n[2],r=e[1]*n[0]+e[4]*n[1]+e[7]*n[2],o=e[2]*n[0]+e[5]*n[1]+e[8]*n[2],s=e[0]*n[3]+e[3]*n[4]+e[6]*n[5],a=e[1]*n[3]+e[4]*n[4]+e[7]*n[5],u=e[2]*n[3]+e[5]*n[4]+e[8]*n[5],l=e[0]*n[6]+e[3]*n[7]+e[6]*n[8],c=e[1]*n[6]+e[4]*n[7]+e[7]*n[8],h=e[2]*n[6]+e[5]*n[7]+e[8]*n[8];m[0]=i,m[1]=r,m[2]=o,m[3]=s,m[4]=a,m[5]=u,m[6]=l,m[7]=c,m[8]=h},vt.prototype=new nt,vt._$eT=null,vt._$tP=new Object,vt._$2o=function(){return null==vt._$eT&&(vt._$eT=vt.getID("DST_BASE")),vt._$eT},vt._$27=function(){vt._$tP.clear(),vt._$eT=null},vt.getID=function(t){var e=vt._$tP[t];return null==e&&(e=new vt(t),vt._$tP[t]=e),e},vt.prototype._$3s=function(){return new vt},yt.prototype=new E,yt._$9r=function(t){return new Float32Array(t)},yt._$vb=function(t){return new Int16Array(t)},yt._$cr=function(t,e){return null==t||t._$yL()<e.length?(t=yt._$9r(2*e.length),t.put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},yt._$mb=function(t,e){return null==t||t._$yL()<e.length?(t=yt._$vb(2*e.length),t.put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},yt._$Hs=function(){return this._$Gr},yt._$as=function(t){this._$Gr=t},yt.prototype.getGL=function(){return this.gl},yt.prototype.setGL=function(t){this.gl=t},yt.prototype.setTransform=function(t){this.transform=t},yt.prototype._$ZT=function(){var t=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=t.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.DEPTH_TEST),t.frontFace(t.CW),t.enable(t.BLEND),t.colorMask(1,1,1,1),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},yt.prototype._$Uo=function(t,e,n,i,r,o,s,a){if(!(o<.01&&null==this.clipBufPre_clipContextMask)){var u=(o>.9&&ut.EXPAND_W,this.gl);if(null==this.gl)throw new Error("gl is null");var l=1*this._$C0*o,c=1*this._$tT*o,h=1*this._$WL*o,f=this._$lT*o;if(null!=this.clipBufPre_clipContextMask){u.frontFace(u.CCW),u.useProgram(this.shaderProgram),this._$vS=$t(u,this._$vS,i),this._$no=bt(u,this._$no,n),u.enableVertexAttribArray(this.a_position_Loc),u.vertexAttribPointer(this.a_position_Loc,2,u.FLOAT,!1,0,0),this._$NT=$t(u,this._$NT,r),u.activeTexture(u.TEXTURE1),u.bindTexture(u.TEXTURE_2D,this.textures[t]),u.uniform1i(this.s_texture0_Loc,1),u.enableVertexAttribArray(this.a_texCoord_Loc),u.vertexAttribPointer(this.a_texCoord_Loc,2,u.FLOAT,!1,0,0),u.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask);var p=this.getClipBufPre_clipContextMask().layoutChannelNo,_=this.getChannelFlagAsColor(p);u.uniform4f(this.u_channelFlag,_.r,_.g,_.b,_.a);var d=this.getClipBufPre_clipContextMask().layoutBounds;u.uniform4f(this.u_baseColor_Loc,2*d.x-1,2*d.y-1,2*d._$EL()-1,2*d._$5T()-1),u.uniform1i(this.u_maskFlag_Loc,!0)}else if(null!=this.getClipBufPre_clipContextDraw()){u.useProgram(this.shaderProgramOff),this._$vS=$t(u,this._$vS,i),this._$no=bt(u,this._$no,n),u.enableVertexAttribArray(this.a_position_Loc_Off),u.vertexAttribPointer(this.a_position_Loc_Off,2,u.FLOAT,!1,0,0),this._$NT=$t(u,this._$NT,r),u.activeTexture(u.TEXTURE1),u.bindTexture(u.TEXTURE_2D,this.textures[t]),u.uniform1i(this.s_texture0_Loc_Off,1),u.enableVertexAttribArray(this.a_texCoord_Loc_Off),u.vertexAttribPointer(this.a_texCoord_Loc_Off,2,u.FLOAT,!1,0,0),u.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),u.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),u.activeTexture(u.TEXTURE2),u.bindTexture(u.TEXTURE_2D,ut.fTexture[this.glno]),u.uniform1i(this.s_texture1_Loc_Off,2);var p=this.getClipBufPre_clipContextDraw().layoutChannelNo,_=this.getChannelFlagAsColor(p);u.uniform4f(this.u_channelFlag_Loc_Off,_.r,_.g,_.b,_.a),u.uniform4f(this.u_baseColor_Loc_Off,l,c,h,f)}else u.useProgram(this.shaderProgram),this._$vS=$t(u,this._$vS,i),this._$no=bt(u,this._$no,n),u.enableVertexAttribArray(this.a_position_Loc),u.vertexAttribPointer(this.a_position_Loc,2,u.FLOAT,!1,0,0),this._$NT=$t(u,this._$NT,r),u.activeTexture(u.TEXTURE1),u.bindTexture(u.TEXTURE_2D,this.textures[t]),u.uniform1i(this.s_texture0_Loc,1),u.enableVertexAttribArray(this.a_texCoord_Loc),u.vertexAttribPointer(this.a_texCoord_Loc,2,u.FLOAT,!1,0,0),u.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),u.uniform4f(this.u_baseColor_Loc,l,c,h,f),u.uniform1i(this.u_maskFlag_Loc,!1);this.culling?this.gl.enable(u.CULL_FACE):this.gl.disable(u.CULL_FACE),this.gl.enable(u.BLEND);var g,m,v,y;if(null!=this.clipBufPre_clipContextMask)g=u.ONE,m=u.ONE_MINUS_SRC_ALPHA,v=u.ONE,y=u.ONE_MINUS_SRC_ALPHA;else switch(s){case ht._$ms:g=u.ONE,m=u.ONE_MINUS_SRC_ALPHA,v=u.ONE,y=u.ONE_MINUS_SRC_ALPHA;break;case ht._$ns:g=u.ONE,m=u.ONE,v=u.ZERO,y=u.ONE;break;case ht._$_s:g=u.DST_COLOR,m=u.ONE_MINUS_SRC_ALPHA,v=u.ZERO,y=u.ONE}u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD),u.blendFuncSeparate(g,m,v,y),this.anisotropyExt&&u.texParameteri(u.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);var $=n.length;u.drawElements(u.TRIANGLES,$,u.UNSIGNED_SHORT,0),u.bindTexture(u.TEXTURE_2D,null)}},yt.prototype._$Rs=function(){throw new Error("_$Rs")},yt.prototype._$Ds=function(t){throw new Error("_$Ds")},yt.prototype._$K2=function(){for(var t=0;t<this.textures.length;t++)0!=this.textures[t]&&(this.gl._$K2(1,this.textures,t),this.textures[t]=null)},yt.prototype.setTexture=function(t,e){this.textures[t]=e},yt.prototype.initShader=function(){var t=this.gl;this.loadShaders2(),this.a_position_Loc=t.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=t.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=t.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=t.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=t.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=t.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=t.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_baseColor")},yt.prototype.disposeShader=function(){var t=this.gl;this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},yt.prototype.compileShader=function(t,e){var n=this.gl,i=e,r=n.createShader(t);if(null==r)return a._$Ji("_$L0 to create shader"),null;if(n.shaderSource(r,i),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS)){var o=n.getShaderInfoLog(r);return a._$Ji("_$L0 to compile shader : "+o),n.deleteShader(r),null}return r},yt.prototype.loadShaders2=function(){var t=this.gl;if(this.shaderProgram=t.createProgram(),!this.shaderProgram)return!1;if(this.shaderProgramOff=t.createProgram(),!this.shaderProgramOff)return!1;if(this.vertShader=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}"),!this.vertShader)return a._$Ji("Vertex shader compile _$li!"),!1;if(this.vertShaderOff=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}"),!this.vertShaderOff)return a._$Ji("OffVertex shader compile _$li!"),!1;if(this.fragShader=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}"),!this.fragShader)return a._$Ji("Fragment shader compile _$li!"),!1;if(this.fragShaderOff=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}"),!this.fragShaderOff)return a._$Ji("OffFragment shader compile _$li!"),!1;if(t.attachShader(this.shaderProgram,this.vertShader),t.attachShader(this.shaderProgram,this.fragShader),t.attachShader(this.shaderProgramOff,this.vertShaderOff),t.attachShader(this.shaderProgramOff,this.fragShaderOff),t.linkProgram(this.shaderProgram),t.linkProgram(this.shaderProgramOff),!t.getProgramParameter(this.shaderProgram,t.LINK_STATUS)){var e=t.getProgramInfoLog(this.shaderProgram);return a._$Ji("_$L0 to link program: "+e),this.vertShader&&(t.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(t.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(t.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(t.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1}return!0},yt.prototype.createFramebuffer=function(){var t=this.gl,e=ut.clippingMaskBufferSize,n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n);var i=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,i),t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,e,e),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,i);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,e,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),ut.fTexture[this.glno]=r,{framebuffer:n,renderbuffer:i,texture:ut.fTexture[this.glno]}},wt.prototype._$fP=function(){var t,e,n,i=this._$ST();if(0==(128&i))return 255&i;if(0==(128&(t=this._$ST())))return(127&i)<<7|127&t;if(0==(128&(e=this._$ST())))return(127&i)<<14|(127&t)<<7|255&e;if(0==(128&(n=this._$ST())))return(127&i)<<21|(127&t)<<14|(127&e)<<7|255&n;throw new ct("_$L _$0P  _")},wt.prototype.getFormatVersion=function(){return this._$S2},wt.prototype._$gr=function(t){this._$S2=t},wt.prototype._$3L=function(){return this._$fP()},wt.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},wt.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},wt.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},wt.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},wt.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},wt.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new ct("_$L _$q read long")},wt.prototype._$po=function(){return this._$zT(),0!=this._$T.getInt8(this._$F++)};var Lt=!0;wt.prototype._$bT=function(){this._$zT();var t=this._$3L(),e=null;if(Lt)try{var n=new ArrayBuffer(2*t);e=new Uint16Array(n);for(var i=0;i<t;++i)e[i]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,e)}catch(t){Lt=!1}try{var r=new Array;if(null==e)for(var i=0;i<t;++i)r[i]=this._$T.getUint8(this._$F++);else for(var i=0;i<t;++i)r[i]=e[i];return String.fromCharCode.apply(null,r)}catch(t){console.log("read utf8 / _$rT _$L0 !! : "+t)}},wt.prototype._$cS=function(){this._$zT();for(var t=this._$3L(),e=new Int32Array(t),n=0;n<t;n++)e[n]=this._$T.getInt32(this._$F),this._$F+=4;return e},wt.prototype._$Tb=function(){this._$zT();for(var t=this._$3L(),e=new Float32Array(t),n=0;n<t;n++)e[n]=this._$T.getFloat32(this._$F),this._$F+=4;return e},wt.prototype._$5b=function(){this._$zT();for(var t=this._$3L(),e=new Float64Array(t),n=0;n<t;n++)e[n]=this._$T.getFloat64(this._$F),this._$F+=8;return e},wt.prototype._$nP=function(){return this._$Jb(-1)},wt.prototype._$Jb=function(t){if(this._$zT(),t<0&&(t=this._$3L()),t==B._$7P){var e=this._$6L();if(0<=e&&e<this._$Ko.length)return this._$Ko[e];throw new ct("_$sL _$4i @_$m0")}var n=this._$4b(t);return this._$Ko.push(n),n},wt.prototype._$4b=function(t){if(0==t)return null;if(50==t){var e=this._$bT(),n=N.getID(e);return n}if(51==t){var e=this._$bT(),n=vt.getID(e);return n}if(134==t){var e=this._$bT(),n=c.getID(e);return n}if(60==t){var e=this._$bT(),n=f.getID(e);return n}if(t>=48){var i=B._$9o(t);return null!=i?(i._$F0(this),i):null}switch(t){case 1:return this._$bT();case 10:return new o(this._$6L(),!0);case 11:return new w(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new w(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new S(this._$mP(),this._$mP());case 14:return new S(this._$_T(),this._$_T());case 15:for(var r=this._$3L(),n=new Array(r),s=0;s<r;s++)n[s]=this._$nP();return n;case 17:var n=new D(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());return n;case 21:return new l(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new pt(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new ct("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+t);default:throw new ct("_$6 _$q : _$nP() NO _$i : "+t)}},wt.prototype._$8L=function(){return 0==this._$hL?this._$v0=this._$ST():8==this._$hL&&(this._$v0=this._$ST(),this._$hL=0),1==(this._$v0>>7-this._$hL++&1)},wt.prototype._$zT=function(){0!=this._$hL&&(this._$hL=0)},Tt.prototype._$wP=function(t,e,n){for(var i=0;i<n;i++){for(var r=0;r<e;r++){var o=2*(r+i*e);console.log("(% 7.3f , % 7.3f) , ",t[o],t[o+1])}console.log("\n")}console.log("\n")},St._$2S=Math.PI/180,St._$bS=Math.PI/180,St._$wS=180/Math.PI,St._$NS=180/Math.PI,St.PI_F=Math.PI,St._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],St._$92=function(t,e){var n=Math.atan2(t[1],t[0]),i=Math.atan2(e[1],e[0]);return St._$tS(n,i)},St._$tS=function(t,e){for(var n=t-e;n<-Math.PI;)n+=2*Math.PI;for(;n>Math.PI;)n-=2*Math.PI;return n},St._$9=function(t){return Math.sin(t)},St.fcos=function(t){return Math.cos(t)},xt.prototype._$u2=function(){return this._$IS[0]},xt.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},xt.prototype._$GT=function(){return this._$e0},Et._$W2=0,Et.SYSTEM_INFO=null,Et.USER_AGENT=navigator.userAgent,Et.isIPhone=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO._isIPhone},Et.isIOS=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO._isIPhone||Et.SYSTEM_INFO._isIPad},Et.isAndroid=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO._isAndroid},Et.getOSVersion=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO.version},Et.getOS=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO._isIPhone||Et.SYSTEM_INFO._isIPad?"iOS":Et.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},Et.setup=function(){function t(t,e){for(var n=t.substring(e).split(/[ _,;\.]/),i=0,r=0;r<=2&&!isNaN(n[r]);r++){var o=parseInt(n[r]);if(o<0||o>999){a._$li("err : "+o+" @UtHtml5.setup()"),i=0;break}i+=o*Math.pow(1e3,2-r)}return i}var e,n=Et.USER_AGENT,i=Et.SYSTEM_INFO={userAgent:n};if((e=n.indexOf("iPhone OS "))>=0)i.os="iPhone",i._isIPhone=!0,i.version=t(n,e+"iPhone OS ".length);else if((e=n.indexOf("iPad"))>=0){if((e=n.indexOf("CPU OS"))<0)return void a._$li(" err : "+n+" @UtHtml5.setup()");i.os="iPad",i._isIPad=!0,i.version=t(n,e+"CPU OS ".length)}else(e=n.indexOf("Android"))>=0?(i.os="Android",i._isAndroid=!0,i.version=t(n,e+"Android ".length)):(i.os="-",i.version=-1)},window.UtSystem=P,window.UtDebug=a,window.LDTransform=mt,window.LDGL=ot,window.Live2D=ut,window.Live2DModelWebGL=_t,window.Live2DModelJS=X,window.Live2DMotion=J,window.MotionQueueManager=dt,window.PhysicsHair=_,window.AMotion=s,window.PartsDataID=c,window.DrawDataID=N,window.BaseDataID=vt,window.ParamID=f,ut.init();var Ot=!1}()}).call(e,n(10))},function(t,e){t.exports={import:function(){throw new Error("System.import cannot be used indirectly")}}},function(t,e,n){t.exports=n(4)}])},function(t,e,n){"use strict";$(".site-master-avatar, .site-title").on("mouseover",function(){this.classList.add("animated","tada")}),$(".site-master-avatar, .site-title").on("mouseout",function(){this.classList.remove("animated","tada")})},function(t,e,n){"use strict";function i(t){var e=t.clipboardData||window.clipboardData;if(e){t.preventDefault();var n="\u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002<br>\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002<br>\u4f5c\u8005\uff1a"+CONFIG.site.author+"<br>\u94fe\u63a5\uff1a"+window.location.href+"<br>\u6765\u6e90\uff1a"+CONFIG.site.title+"<br><br>"+window.getSelection().toString(),i="\u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002\n\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002\n\u4f5c\u8005\uff1a"+CONFIG.site.author+"\n\u94fe\u63a5\uff1a"+window.location.href+"\n\u6765\u6e90\uff1a"+CONFIG.site.title+"\n\n"+window.getSelection().toString();e.setData("text/html",n),e.setData("text/plain",i)}}for(var r=document.getElementsByClassName("post-body"),o=0;o<r.length;o++)r[o].addEventListener("copy",function(t){window.getSelection().toString()&&window.getSelection().toString().length>42&&(i(t),notie("\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\uff0c\u8c22\u8c22\u5408\u4f5c\u3002",{type:"info",autoHide:!0}))})}]);
//# sourceMappingURL=sagiri.min.js.map